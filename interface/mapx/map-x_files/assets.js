function isNumber(t){return!isNaN(parseFloat(t))&&isFinite(t)}function readCookie(){for(var t=document.cookie.split("; "),e={},i=0;i<t.length;i++){var o=t[i].split("=");e[o[0]]=o[1]}return e}function md5cycle(t,e){var i=t[0],o=t[1],n=t[2],s=t[3];i=ff(i,o,n,s,e[0],7,-680876936),s=ff(s,i,o,n,e[1],12,-389564586),n=ff(n,s,i,o,e[2],17,606105819),o=ff(o,n,s,i,e[3],22,-1044525330),i=ff(i,o,n,s,e[4],7,-176418897),s=ff(s,i,o,n,e[5],12,1200080426),n=ff(n,s,i,o,e[6],17,-1473231341),o=ff(o,n,s,i,e[7],22,-45705983),i=ff(i,o,n,s,e[8],7,1770035416),s=ff(s,i,o,n,e[9],12,-1958414417),n=ff(n,s,i,o,e[10],17,-42063),o=ff(o,n,s,i,e[11],22,-1990404162),i=ff(i,o,n,s,e[12],7,1804603682),s=ff(s,i,o,n,e[13],12,-40341101),n=ff(n,s,i,o,e[14],17,-1502002290),o=ff(o,n,s,i,e[15],22,1236535329),i=gg(i,o,n,s,e[1],5,-165796510),s=gg(s,i,o,n,e[6],9,-1069501632),n=gg(n,s,i,o,e[11],14,643717713),o=gg(o,n,s,i,e[0],20,-373897302),i=gg(i,o,n,s,e[5],5,-701558691),s=gg(s,i,o,n,e[10],9,38016083),n=gg(n,s,i,o,e[15],14,-660478335),o=gg(o,n,s,i,e[4],20,-405537848),i=gg(i,o,n,s,e[9],5,568446438),s=gg(s,i,o,n,e[14],9,-1019803690),n=gg(n,s,i,o,e[3],14,-187363961),o=gg(o,n,s,i,e[8],20,1163531501),i=gg(i,o,n,s,e[13],5,-1444681467),s=gg(s,i,o,n,e[2],9,-51403784),n=gg(n,s,i,o,e[7],14,1735328473),o=gg(o,n,s,i,e[12],20,-1926607734),i=hh(i,o,n,s,e[5],4,-378558),s=hh(s,i,o,n,e[8],11,-2022574463),n=hh(n,s,i,o,e[11],16,1839030562),o=hh(o,n,s,i,e[14],23,-35309556),i=hh(i,o,n,s,e[1],4,-1530992060),s=hh(s,i,o,n,e[4],11,1272893353),n=hh(n,s,i,o,e[7],16,-155497632),o=hh(o,n,s,i,e[10],23,-1094730640),i=hh(i,o,n,s,e[13],4,681279174),s=hh(s,i,o,n,e[0],11,-358537222),n=hh(n,s,i,o,e[3],16,-722521979),o=hh(o,n,s,i,e[6],23,76029189),i=hh(i,o,n,s,e[9],4,-640364487),s=hh(s,i,o,n,e[12],11,-421815835),n=hh(n,s,i,o,e[15],16,530742520),o=hh(o,n,s,i,e[2],23,-995338651),i=ii(i,o,n,s,e[0],6,-198630844),s=ii(s,i,o,n,e[7],10,1126891415),n=ii(n,s,i,o,e[14],15,-1416354905),o=ii(o,n,s,i,e[5],21,-57434055),i=ii(i,o,n,s,e[12],6,1700485571),s=ii(s,i,o,n,e[3],10,-1894986606),n=ii(n,s,i,o,e[10],15,-1051523),o=ii(o,n,s,i,e[1],21,-2054922799),i=ii(i,o,n,s,e[8],6,1873313359),s=ii(s,i,o,n,e[15],10,-30611744),n=ii(n,s,i,o,e[6],15,-1560198380),o=ii(o,n,s,i,e[13],21,1309151649),i=ii(i,o,n,s,e[4],6,-145523070),s=ii(s,i,o,n,e[11],10,-1120210379),n=ii(n,s,i,o,e[2],15,718787259),o=ii(o,n,s,i,e[9],21,-343485551),t[0]=add32(i,t[0]),t[1]=add32(o,t[1]),t[2]=add32(n,t[2]),t[3]=add32(s,t[3])}function cmn(t,e,i,o,n,s){return e=add32(add32(e,t),add32(o,s)),add32(e<<n|e>>>32-n,i)}function ff(t,e,i,o,n,s,r){return cmn(e&i|~e&o,t,e,n,s,r)}function gg(t,e,i,o,n,s,r){return cmn(e&o|i&~o,t,e,n,s,r)}function hh(t,e,i,o,n,s,r){return cmn(e^i^o,t,e,n,s,r)}function ii(t,e,i,o,n,s,r){return cmn(i^(e|~o),t,e,n,s,r)}function md51(t){txt="";var e,i=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)md5cycle(o,md5blk(t.substring(e-64,e)));t=t.substring(e-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)n[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(md5cycle(o,n),e=0;16>e;e++)n[e]=0;return n[14]=8*i,md5cycle(o,n),o}function md5blk(t){var e,i=[];for(e=0;64>e;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i}function rhex(t){for(var e="",i=0;4>i;i++)e+=hex_chr[t>>8*i+4&15]+hex_chr[t>>8*i&15];return e}function hex(t){for(var e=0;e<t.length;e++)t[e]=rhex(t[e]);return t.join("")}function md5(t){return hex(md51(t))}function add32(t,e){return t+e&4294967295}function add32(t,e){var i=(65535&t)+(65535&e),o=(t>>16)+(e>>16)+(i>>16);return o<<16|65535&i}function isVisible(t){var e=document.getElementById(t);if(e){var i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom,n=i>=0&&o<=window.innerHeight&&i!=o;return n}}function mxStartTour(t,e){var i,o=[],n={},s="<div class='popover tour'><div class='arrow'></div><h3 class='popover-title'></h3><hr><div class='popover-content'></div><hr><div class='popover-navigation'><button class='btn btn-md btn-modal' data-role='prev'><i class='fa fa-chevron-left'></i></button><button class='btn btn-md btn-modal' data-role='next'><i class='fa fa-chevron-right'></i></button><button class='btn btn-md btn-modal' data-role='end'><i class='fa fa-stop'></i></button></div></nav></div>";"undefined"==typeof e?(i=$("#selectLanguage").val(),"undefined"==typeof i&&(i="eng")):i=e;for(var r in t)if(isVisible(r)){n={element:"#"+r,title:t[r][i].title,content:t[r][i].content};for(var a in t[r].opt)n[a]=t[r].opt[a];o.push(n)}tour=new Tour({template:s,backdrop:!1,steps:o,storage:!1,autoscroll:!1}),tour.init(),tour.end(),tour.start(!0)}function updateTitlesLang(){var t=$("#selectLanguage").val();$("[mx_set_lang]").each(function(){var e="",i=$(this).attr("mx_set_lang").split("."),o=i[0],n=i[1],s=i[2];"undefined"==typeof o||"undefined"==typeof n||"undefined"==typeof s||"undefined"==typeof loc[i[1]][i[2]]?console.log("no translation for key "+s+"; group "+n+"; attribute "+o):(e=loc[i[1]][i[2]][t],"html"==i[0]?$(this).html(e):$(this).attr(o,e))})}function debounce(t,e,i){var o;return function(){var n=this,s=arguments,r=function(){o=null,i||t.apply(n,s)},a=i&&!o;clearTimeout(o),o=setTimeout(r,e),a&&t.apply(n,s)}}function goTo(t){var e=document.getElementById(t);return"undefined"!=typeof e&&("sectionTop"!=t?classAdd("navbarTop","top-nav-collapse"):classRemove("navbarTop","top-nav-collapse"),e.scrollIntoView(!1)),!1}function enableSection(t){var e=(document.getElementById(t),document.getElementsByClassName("mx-section-container"));if("undefined"!=typeof t){for(s=0;s<e.length;s++){var i=e[s].id;i==t?(classRemove(i,"mx-hide"),classAdd(i,"mx-show")):(classRemove(i,"mx-show"),classAdd(i,"mx-hide"))}"sectionTop"!=t?classAdd("navbarTop","top-nav-collapse"):classRemove("navbarTop","top-nav-collapse")}return!1}function enablePanelMode(t,e){var i=(document.getElementById(t),document.getElementsByClassName("mx-panel-mode")),o=document.getElementById("titlePanelMode");if(classRemove("mapLeftPanel","mx-hide"),"undefined"!=typeof t){for(o.textContent=e,s=0;s<i.length;s++){var n=i[s].id;n==t?(classRemove(n,"mx-hide"),classAdd(n,"mx-show")):(classRemove(n,"mx-show"),classAdd(n,"mx-hide"))}Shiny.onInputChange("mxPanelMode",{id:t})}}function classAdd(t,e){var i=document.getElementById(t),o=i.className.split(" "),n=o.indexOf(e),s=n>-1;s||(o.push(e),i.className=o.join(" "))}function classRemove(t,e){var i=document.getElementById(t),o=i.className.split(" "),n=o.indexOf(e),s=n>-1;s&&(o.pop(n),i.className=o.join(" "))}function classToggle(t,e){"undefined"==typeof e&&(e="mx-hide");var i=document.getElementById(t),o=i.className.split(" "),n=o.indexOf(e),s=n>-1;s?o.pop(n):o.push(e),i.className=o.join(" ")}function mxRequestMeta(t){var e=new Date;Shiny.onInputChange("mxRequestMeta",{id:t,time:e})}function mxEditView(t){var e=new Date;Shiny.onInputChange("mxEditView",{id:t,time:e})}function changeBg(){bgClasses=["mx-top-bg-1","mx-top-bg-2","mx-top-bg-3"];var t=bgClasses[Math.floor(Math.random()*bgClasses.length)];$("#sectionTop").addClass(t)}function mxRequestZoom(t){new Date;Shiny.onInputChange("mxRequestZoom",{id:t})}function b64_to_utf8(t){return t=t.replace(/\s/g,""),decodeURIComponent(escape(window.atob(t)))}function utf8_to_b64(t){return window.btoa(unescape(encodeURIComponent(t)))}function makeid(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;5>i;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function setUniqueItemsId(){storyMapLayer={store:[]},$(".mx-story-section").each(function(){$(this).attr("id",makeid())})}function updateStoryMaps_orig(){var t=$("#mxStoryLimitTrigger"),e=t.offset().top+t.height();$(".mx-story-section").each(function(){var t=$(this),i=t.prop("id"),o=t.attr("mx-baseMap-id"),n=JSON.parse(t.attr("mx-baseMap-extent")),s=(t.attr("mx-baseMap-title"),storyMapLayer[i]),r=!1,a=!1,l=!1,h={};void 0===s?storyMapLayer[i]={}:("undefined"!=typeof s.enable&&(r=s.enable),tDist=e-t.offset().top,bDist=e-(t.offset().top+t.height()),tDist>0&&bDist<0&&(a=!0),a!==r&&(storyMapLayer[i].enable=a,a?(storyMapLayer.store.push(o),t.removeClass("mx-story-dimmed")):(storyMapLayer.store.pop(o),t.addClass("mx-story-dimmed")),"undefined"!=typeof leafletvtId[o]&&(l=leafletvtId[o].map.hasLayer(leafletvtId[o])),(a&&!l||!a&&l)&&setTimeout(function(){$("input[value="+o+"]").trigger("click")},200),a&&(h={extent:n},Shiny.onInputChange("storyMapData",h))))})}function isCheckedId(t){var e=document.getElementById(t);return null===e?!1:e.checked===!0}function isCheckedValue(t){var e=$("input:checked").val();return e==t}function toggleOptions(t,e,i){$("input[value="+t+"]").prop("checked")?($("#"+e).css("display","inline-block"),$("#"+i).css("display","block")):($("#"+e).css("display","none"),$("#"+i).css("display","none"))}function vtPreview(t){Shiny.onInputChange("viewsFromPreview",t)}function vtPreviewHandler(t,e,i){i=parseInt(i);var o;$("#"+t).on({mouseover:function(){o=setTimeout(function(){Shiny.onInputChange("viewsFromPreview",e)},i)},mouseout:function(){Shiny.onInputChange("viewsFromPreview",""),clearTimeout(o)}})}function setOpacityForId(t,e){"undefined"!=typeof leafletvtId[t]&&leafletvtId[t].setOpacity(e)}function mxSetFilter(t,e,i,o){if("undefined"!=typeof leafletvtId[e]){var n=leafletvtId[e].vtStyle;if(o.length>0){o=o.split(",");var s={};s.id=e,s.column=i,s.value=o,s.layer=t,Shiny.onInputChange("filterLayer",s),n.mxFilterColumn=i,n.mxFilterValue=o;var r=function(t){var e={},i=e.selected={},o=t.type,s="rgba(0,0,0,0)",r=s,a=t.properties[n.dataColum[0]],l=n.mxFilterColumn,h=n.mxFilterValue,c=t.properties[l],d=!1;if("undefined"!=typeof c&&("undefined"!=typeof l&&"undefined"!=typeof h&&"undefined"!=typeof c&&-1==h.indexOf(c)&&(d=!0),!d)){switch("undefined"!=typeof a&&(r="rgba(255,0,0,0.8)","undefined"==typeof r&&(r=s)),o){case 1:e.color=r,e.radius=vtStyle$size[0],i.color="rgba(255,255,0,0.5)",i.radius=6;break;case 2:e.color=r,e.size=vtStyle$size[0],i.color="rgba(255,25,0,0.5)",i.size=n.size[0];break;case 3:e.color=r,e.outline={color:"rgba(0,0,0,1)",size:1},i.color="rgba(255,0,0,0)",i.outline={color:"rgba(255,0,0,0.9)",size:1}}return e}};leafletvtId[e].setStyle(r,t)}else mxSetStyle(e,n,t,!0)}}function mxFilterDate_orig(t,e,i){vtStyle=leafletvtId[t].vtStyle;var o=function(t){var i={},o=i.selected={},n=t.type,s="rgba(0,0,0,0)",r=s,a=t.properties[vtStyle.dataColum],l=parseInt(t.properties.mx_date_start),h=parseInt(t.properties.mx_date_end),c=parseInt(e),d=!1,u=!1;switch("undefined"!=typeof h&&"undefined"!=typeof l&&(u=!0,(l>c||c>h)&&(d=!0)),d?r=s:"undefined"!=typeof a&&(r=hex2rgb(vtStyle.colorsPalette[a],vtStyle.opacity),"undefined"==typeof r&&(r=s)),n){case 1:i.color=r,i.radius=vtStyle.size,o.color="rgba(255,255,0,0.5)",o.radius=6;break;case 2:i.color=r,i.size=vtStyle.size,o.color="rgba(255,25,0,0.5)",o.size=vtStyle.size;break;case 3:i.color=r,i.outline={color:r,size:1},o.color="rgba(255,0,0,0)",o.outline={color:"rgba(255,0,0,0.9)",size:1}}return i};leafletvtId[t].setStyle(o,i)}function mxSetRange_orig(t,e,i,o){vtStyle=leafletvtId[t].vtStyle;var n=function(t){var o={},n=o.selected={},s=t.type,r="rgba(0,0,0,0)",a=r,l=t.properties[vtStyle.dataColum],h=e,c=i,d=t.properties.mx_date_start,u=t.properties.mx_date_end,f=[],p=!1,g=!1;if("undefined"!=typeof u&&"undefined"!=typeof d){g=!0,f.push(h,c,d,u);for(var m=0;4>m;m++)"undefined"!=typeof f[m]&&null!==f[m]||(g=!1);g&&(f[2]<f[0]||f[3]>f[1])&&(p=!0)}if(!p){switch("undefined"!=typeof l&&(a=hex2rgb(vtStyle.colorsPalette[l],vtStyle.opacity),"undefined"==typeof a&&(a=r)),s){case 1:o.color=a,o.radius=vtStyle.size,n.color="rgba(255,255,0,0.5)",n.radius=6;break;case 2:o.color=a,o.size=vtStyle.size,n.color="rgba(255,25,0,0.5)",n.size=vtStyle.size;break;case 3:o.color=a,o.outline={color:a,size:1},n.color="rgba(255,0,0,0)",n.outline={color:"rgba(255,0,0,0.9)",size:1}}return o}};leafletvtId[t].setStyle(n,o)}function mxSetStyle_orig(t,e,i,o){if(!o&&e==leafletvtId[t].vtStyle)return void(e.dataColumn==leafletvtId[t].vtStyle.dataColumn);leafletvtId[t].vtStyle=e;var n=function(t){var i={},o=i.selected={},n=t.type,s="rgba(0,0,0,0)",r=s,a=t.properties[e.dataColum];if("undefined"!=typeof a){if(col=e.colorsPalette[a],"undefined"==typeof col){var l="Error. No color found for "+a;Shiny.onInputChange("leafletVtError",l),console.log(l)}r=hex2rgb(col,e.opacity),"undefined"==typeof r&&(console.log("Error. dataCol undefined for "+a+"set default color"),r=s)}switch(n){case 1:i.color=r,i.radius=e.size,o.color="rgba(255,255,0,0.5)",o.radius=6;break;case 2:i.color=r,i.size=e.size,o.color="rgba(255,25,0,0.5)",o.size=e.size;break;case 3:i.color=r,i.outline={color:r,size:1},o.color="rgba(255,0,0,0)",o.outline={color:"rgba(255,0,0,0.9)",size:1}}return i};leafletvtId[t].setStyle(n,i)}function defaultStyle(t){var e={},i=e.selected={},o=t.type,n="rgba(255,0,0,0.5)",s=5;switch(o){case 1:e.color=n,e.radius=s,i.color="rgba(255,255,0,0.5)",i.radius=s+5;break;case 2:e.color=n,e.size=s,i.color="rgba(255,255,0,0.5)",i.size=s;break;case 3:e.color=n,e.outline={color:n,size:1},i.color="rgba(255,255,0,0.5)",i.outline={color:"rgba(255,0,0,1)",size:s}}return e}!function(t,e){"use strict";var i=function(t){if("object"!=typeof t.document)throw Error("Cookies.js requires a `window` with a `document` object");var i=function(t,e,o){return 1===arguments.length?i.get(t):i.set(t,e,o)};return i._document=t.document,i._cacheKeyPrefix="cookey.",i._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),i.defaults={path:"/",secure:!1},i.get=function(t){return i._cachedDocumentCookie!==i._document.cookie&&i._renewCache(),t=i._cache[i._cacheKeyPrefix+t],t===e?e:decodeURIComponent(t)},i.set=function(t,o,n){return n=i._getExtendedOptions(n),n.expires=i._getExpiresDate(o===e?-1:n.expires),i._document.cookie=i._generateCookieString(t,o,n),i},i.expire=function(t,o){return i.set(t,e,o)},i._getExtendedOptions=function(t){return{path:t&&t.path||i.defaults.path,domain:t&&t.domain||i.defaults.domain,expires:t&&t.expires||i.defaults.expires,secure:t&&t.secure!==e?t.secure:i.defaults.secure}},i._isValidDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},i._getExpiresDate=function(t,e){if(e=e||new Date,"number"==typeof t?t=1/0===t?i._maxExpireDate:new Date(e.getTime()+1e3*t):"string"==typeof t&&(t=new Date(t)),t&&!i._isValidDate(t))throw Error("`expires` parameter cannot be converted to a valid Date instance");return t},i._generateCookieString=function(t,e,i){return t=t.replace(/[^#$&+\^`|]/g,encodeURIComponent),t=t.replace(/\(/g,"%28").replace(/\)/g,"%29"),e=(e+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),i=i||{},t=t+"="+e+(i.path?";path="+i.path:""),t+=i.domain?";domain="+i.domain:"",t+=i.expires?";expires="+i.expires.toUTCString():"",t+=i.secure?";secure":""},i._getCacheFromString=function(t){var o={};t=t?t.split("; "):[];for(var n=0;n<t.length;n++){var s=i._getKeyValuePairFromCookieString(t[n]);o[i._cacheKeyPrefix+s.key]===e&&(o[i._cacheKeyPrefix+s.key]=s.value)}return o},i._getKeyValuePairFromCookieString=function(t){var e,i=t.indexOf("="),i=0>i?t.length:i,o=t.substr(0,i);try{e=decodeURIComponent(o)}catch(n){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+o+'"',n)}return{key:e,value:t.substr(i+1)}},i._renewCache=function(){i._cache=i._getCacheFromString(i._document.cookie),i._cachedDocumentCookie=i._document.cookie},i._areEnabled=function(){var t="1"===i.set("cookies.js",1).get("cookies.js");return i.expire("cookies.js"),t},i.enabled=i._areEnabled(),i},o="object"==typeof t.document?i(t):i;"function"==typeof define&&define.amd?define(function(){return o}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=o),exports.Cookies=o):t.Cookies=o}("undefined"==typeof window?this:window),function t(e,i,o){function n(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){var i=e[r][1][t];return n(i?i:t)},c,c.exports,t,e,i,o)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(t,e,i){},{}],2:[function(t,e,i){function o(t){var e,i,o,n=t[0]/255,s=t[1]/255,r=t[2]/255,a=Math.min(n,s,r),l=Math.max(n,s,r),h=l-a;return l==a?e=0:n==l?e=(s-r)/h:s==l?e=2+(r-n)/h:r==l&&(e=4+(n-s)/h),e=Math.min(60*e,360),0>e&&(e+=360),o=(a+l)/2,i=l==a?0:.5>=o?h/(l+a):h/(2-l-a),[e,100*i,100*o]}function n(t){var e,i,o,n=t[0],s=t[1],r=t[2],a=Math.min(n,s,r),l=Math.max(n,s,r),h=l-a;return i=0==l?0:h/l*1e3/10,l==a?e=0:n==l?e=(s-r)/h:s==l?e=2+(r-n)/h:r==l&&(e=4+(n-s)/h),e=Math.min(60*e,360),0>e&&(e+=360),o=l/255*1e3/10,[e,i,o]}function s(t){var e=t[0],i=t[1],n=t[2],s=o(t)[0],r=1/255*Math.min(e,Math.min(i,n)),n=1-1/255*Math.max(e,Math.max(i,n));return[s,100*r,100*n]}function a(t){var e,i,o,n,s=t[0]/255,r=t[1]/255,a=t[2]/255;return n=Math.min(1-s,1-r,1-a),e=(1-s-n)/(1-n)||0,i=(1-r-n)/(1-n)||0,o=(1-a-n)/(1-n)||0,[100*e,100*i,100*o,100*n]}function l(t){return Q[JSON.stringify(t)]}function h(t){var e=t[0]/255,i=t[1]/255,o=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;var n=.4124*e+.3576*i+.1805*o,s=.2126*e+.7152*i+.0722*o,r=.0193*e+.1192*i+.9505*o;return[100*n,100*s,100*r]}function c(t){var e,i,o,n=h(t),s=n[0],r=n[1],a=n[2];return s/=95.047,r/=100,a/=108.883,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,e=116*r-16,i=500*(s-r),o=200*(r-a),[e,i,o]}function d(t){return j(c(t))}function u(t){var e,i,o,n,s,r=t[0]/360,a=t[1]/100,l=t[2]/100;if(0==a)return s=255*l,[s,s,s];i=.5>l?l*(1+a):l+a-l*a,e=2*l-i,n=[0,0,0];for(var h=0;3>h;h++)o=r+1/3*-(h-1),0>o&&o++,o>1&&o--,s=1>6*o?e+6*(i-e)*o:1>2*o?i:2>3*o?e+(i-e)*(2/3-o)*6:e,n[h]=255*s;return n}function f(t){var e,i,o=t[0],n=t[1]/100,s=t[2]/100;return 0===s?[0,0,0]:(s*=2,n*=1>=s?s:2-s,i=(s+n)/2,e=2*n/(s+n),[o,100*e,100*i])}function p(t){return s(u(t))}function m(t){return a(u(t))}function v(t){return l(u(t))}function y(t){var e=t[0]/60,i=t[1]/100,o=t[2]/100,n=Math.floor(e)%6,s=e-Math.floor(e),r=255*o*(1-i),a=255*o*(1-i*s),l=255*o*(1-i*(1-s)),o=255*o;switch(n){case 0:return[o,l,r];case 1:return[a,o,r];case 2:return[r,o,l];case 3:return[r,a,o];case 4:return[l,r,o];case 5:return[o,r,a]}}function w(t){var e,i,o=t[0],n=t[1]/100,s=t[2]/100;return i=(2-n)*s,e=n*s,e/=1>=i?i:2-i,e=e||0,i/=2,[o,100*e,100*i]}function C(t){return s(y(t))}function _(t){return a(y(t))}function x(t){return l(y(t))}function S(t){var e,i,o,n,s=t[0]/360,a=t[1]/100,l=t[2]/100,h=a+l;switch(h>1&&(a/=h,l/=h),e=Math.floor(6*s),i=1-l,o=6*s-e,0!=(1&e)&&(o=1-o),n=a+o*(i-a),e){default:case 6:case 0:r=i,g=n,b=a;break;case 1:r=n,g=i,b=a;break;case 2:r=a,g=i,b=n;break;case 3:r=a,g=n,b=i;break;case 4:r=n,g=a,b=i;break;case 5:r=i,g=a,b=n}return[255*r,255*g,255*b]}function k(t){return o(S(t))}function T(t){return n(S(t))}function R(t){return a(S(t))}function E(t){return l(S(t))}function D(t){var e,i,o,n=t[0]/100,s=t[1]/100,r=t[2]/100,a=t[3]/100;return e=1-Math.min(1,n*(1-a)+a),i=1-Math.min(1,s*(1-a)+a),o=1-Math.min(1,r*(1-a)+a),[255*e,255*i,255*o]}function M(t){return o(D(t))}function O(t){return n(D(t))}function A(t){return s(D(t))}function H(t){return l(D(t))}function P(t){var e,i,o,n=t[0]/100,s=t[1]/100,r=t[2]/100;return e=3.2406*n+-1.5372*s+r*-.4986,i=n*-.9689+1.8758*s+.0415*r,o=.0557*n+s*-.204+1.057*r,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=12.92*o,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[255*e,255*i,255*o]}function I(t){var e,i,o,n=t[0],s=t[1],r=t[2];return n/=95.047,s/=100,r/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,e=116*s-16,i=500*(n-s),o=200*(s-r),[e,i,o]}function N(t){return j(I(t))}function L(t){var e,i,o,n,s=t[0],r=t[1],a=t[2];return 8>=s?(i=100*s/903.3,n=7.787*(i/100)+16/116):(i=100*Math.pow((s+16)/116,3),n=Math.pow(i/100,1/3)),e=.008856>=e/95.047?e=95.047*(r/500+n-16/116)/7.787:95.047*Math.pow(r/500+n,3),o=.008859>=o/108.883?o=108.883*(n-a/200-16/116)/7.787:108.883*Math.pow(n-a/200,3),[e,i,o]}function j(t){var e,i,o,n=t[0],s=t[1],r=t[2];return e=Math.atan2(r,s),i=360*e/2/Math.PI,0>i&&(i+=360),o=Math.sqrt(s*s+r*r),[n,o,i]}function W(t){return P(L(t))}function F(t){var e,i,o,n=t[0],s=t[1],r=t[2];return o=r/360*2*Math.PI,e=s*Math.cos(o),i=s*Math.sin(o),[n,e,i]}function B(t){return L(F(t))}function z(t){return W(F(t))}function V(t){return K[t]}function $(t){return o(V(t))}function U(t){return n(V(t))}function Y(t){return s(V(t))}function G(t){return a(V(t))}function q(t){return c(V(t))}function X(t){return h(V(t))}e.exports={rgb2hsl:o,rgb2hsv:n,rgb2hwb:s,rgb2cmyk:a,rgb2keyword:l,rgb2xyz:h,rgb2lab:c,rgb2lch:d,hsl2rgb:u,hsl2hsv:f,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:y,hsv2hsl:w,hsv2hwb:C,hsv2cmyk:_,hsv2keyword:x,hwb2rgb:S,hwb2hsl:k,hwb2hsv:T,hwb2cmyk:R,hwb2keyword:E,cmyk2rgb:D,cmyk2hsl:M,cmyk2hsv:O,cmyk2hwb:A,cmyk2keyword:H,keyword2rgb:V,keyword2hsl:$,keyword2hsv:U,keyword2hwb:Y,keyword2cmyk:G,keyword2lab:q,keyword2xyz:X,xyz2rgb:P,xyz2lab:I,xyz2lch:N,lab2xyz:L,lab2rgb:W,lab2lch:j,lch2lab:F,lch2xyz:B,lch2rgb:z};var K={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Q={};for(var Z in K)Q[JSON.stringify(K[Z])]=Z},{}],3:[function(t,e,i){var o=t("./conversions"),n=function(){return new h};for(var s in o){n[s+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),o[t](e)}}(s);var r=/(\w+)2(\w+)/.exec(s),a=r[1],l=r[2];n[a]=n[a]||{},n[a][l]=n[s]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var i=o[t](e);if("string"==typeof i||void 0===i)return i;for(var n=0;n<i.length;n++)i[n]=Math.round(i[n]);return i}}(s)}var h=function(){this.convs={}};h.prototype.routeSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i))},h.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},h.prototype.getValues=function(t){var e=this.convs[t];if(!e){var i=this.space,o=this.convs[i];e=n[i][t](o),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){h.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=n},{"./conversions":2}],4:[function(t,e,i){function o(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,i=/^#([a-fA-F0-9]{6})$/,o=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,s=/(\w+)/,r=[0,0,0],a=1,l=t.match(e);if(l){l=l[1];for(var h=0;h<r.length;h++)r[h]=parseInt(l[h]+l[h],16)}else if(l=t.match(i)){l=l[1];for(var h=0;h<r.length;h++)r[h]=parseInt(l.slice(2*h,2*h+2),16)}else if(l=t.match(o)){for(var h=0;h<r.length;h++)r[h]=parseInt(l[h+1]);a=parseFloat(l[4])}else if(l=t.match(n)){for(var h=0;h<r.length;h++)r[h]=Math.round(2.55*parseFloat(l[h+1]));a=parseFloat(l[4])}else if(l=t.match(s)){if("transparent"==l[1])return[0,0,0,0];if(r=w[l[1]],!r)return}for(var h=0;h<r.length;h++)r[h]=b(r[h],0,255);return a=a||0==a?b(a,0,1):1,r[3]=a,r}}function n(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var o=parseFloat(i[4]),n=b(parseInt(i[1]),0,360),s=b(parseFloat(i[2]),0,100),r=b(parseFloat(i[3]),0,100),a=b(isNaN(o)?1:o,0,1);return[n,s,r,a]}}}function s(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var o=parseFloat(i[4]),n=b(parseInt(i[1]),0,360),s=b(parseFloat(i[2]),0,100),r=b(parseFloat(i[3]),0,100),a=b(isNaN(o)?1:o,0,1);return[n,s,r,a]}}}function r(t){var e=o(t);return e&&e.slice(0,3)}function a(t){var e=n(t);return e&&e.slice(0,3)}function l(t){var e=o(t);return e?e[3]:(e=n(t))?e[3]:(e=s(t))?e[3]:void 0}function h(t){return"#"+y(t[0])+y(t[1])+y(t[2])}function c(t,e){return 1>e||t[3]&&t[3]<1?d(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function d(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function u(t,e){if(1>e||t[3]&&t[3]<1)return f(t,e);var i=Math.round(t[0]/255*100),o=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return"rgb("+i+"%, "+o+"%, "+n+"%)"}function f(t,e){var i=Math.round(t[0]/255*100),o=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return"rgba("+i+"%, "+o+"%, "+n+"%, "+(e||t[3]||1)+")"}function p(t,e){return 1>e||t[3]&&t[3]<1?g(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function g(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function v(t){return C[t.slice(0,3)]}function b(t,e,i){return Math.min(Math.max(e,t),i)}function y(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var w=t("color-name");e.exports={getRgba:o,getHsla:n,getRgb:r,getHsl:a,getHwb:s,getAlpha:l,hexString:h,rgbString:c,rgbaString:d,percentString:u,percentaString:f,hslString:p,hslaString:g,hwbString:m,keyword:v};var C={};for(var _ in w)C[w[_]]=_},{"color-name":5}],5:[function(t,e,i){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],
slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],6:[function(t,e,i){var o=t("color-convert"),n=t("color-string"),s=function(t){if(t instanceof s)return t;if(!(this instanceof s))return new s(t);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof t){var e=n.getRgba(t);if(e)this.setValues("rgb",e);else if(e=n.getHsla(t))this.setValues("hsl",e);else{if(!(e=n.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}}else if("object"==typeof t){var e=t;if(void 0!==e.r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}}};s.prototype={rgb:function(t){return this.setSpace("rgb",arguments)},hsl:function(t){return this.setSpace("hsl",arguments)},hsv:function(t){return this.setSpace("hsv",arguments)},hwb:function(t){return this.setSpace("hwb",arguments)},cmyk:function(t){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values.rgb;return t.concat([this.values.alpha])},hslaArray:function(){var t=this.values.hsl;return t.concat([this.values.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var o=t[i]/255;e[i]=.03928>=o?o/12.92:Math.pow((o+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return 128>e},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;3>e;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){return this.values.hsl[2]+=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},darken:function(t){return this.values.hsl[2]-=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},saturate:function(t){return this.values.hsl[1]+=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},desaturate:function(t){return this.values.hsl[1]-=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},whiten:function(t){return this.values.hwb[1]+=this.values.hwb[1]*t,this.setValues("hwb",this.values.hwb),this},blacken:function(t){return this.values.hwb[2]+=this.values.hwb[2]*t,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){return this.setValues("alpha",this.values.alpha-this.values.alpha*t),this},opaquer:function(t){return this.setValues("alpha",this.values.alpha+this.values.alpha*t),this},rotate:function(t){var e=this.values.hsl[0];return e=(e+t)%360,e=0>e?360+e:e,this.values.hsl[0]=e,this.setValues("hsl",this.values.hsl),this},mix:function(t,e){e=1-(null==e?.5:e);for(var i=2*e-1,o=this.alpha()-t.alpha(),n=((i*o==-1?i:(i+o)/(1+i*o))+1)/2,s=1-n,r=this.rgbArray(),a=t.rgbArray(),l=0;l<r.length;l++)r[l]=r[l]*n+a[l]*s;this.setValues("rgb",r);var h=this.alpha()*e+t.alpha()*(1-e);return this.setValues("alpha",h),this},toJSON:function(){return this.rgb()},clone:function(){return new s(this.rgb())}},s.prototype.getValues=function(t){for(var e={},i=0;i<t.length;i++)e[t.charAt(i)]=this.values[t][i];return 1!=this.values.alpha&&(e.a=this.values.alpha),e},s.prototype.setValues=function(t,e){var i={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},n={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},s=1;if("alpha"==t)s=e;else if(e.length)this.values[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(var r=0;r<t.length;r++)this.values[t][r]=e[t.charAt(r)];s=e.a}else if(void 0!==e[i[t][0]]){for(var a=i[t],r=0;r<t.length;r++)this.values[t][r]=e[a[r]];s=e.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==s?s:this.values.alpha)),"alpha"!=t){for(var r=0;r<t.length;r++){var l=Math.max(0,Math.min(n[t][r],this.values[t][r]));this.values[t][r]=Math.round(l)}for(var h in i){h!=t&&(this.values[h]=o[t][h](this.values[t]));for(var r=0;r<h.length;r++){var l=Math.max(0,Math.min(n[h][r],this.values[h][r]));this.values[h][r]=Math.round(l)}}return!0}},s.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},s.prototype.setChannel=function(t,e,i){return void 0===i?this.values[t][e]:(this.values[t][e]=i,this.setValues(t,this.values[t]),this)},window.Color=e.exports=s},{"color-convert":3,"color-string":4}],7:[function(t,e,i){var o=t("./core/core.js")();t("./core/core.helpers")(o),t("./core/core.element")(o),t("./core/core.animation")(o),t("./core/core.controller")(o),t("./core/core.datasetController")(o),t("./core/core.layoutService")(o),t("./core/core.legend")(o),t("./core/core.scale")(o),t("./core/core.scaleService")(o),t("./core/core.title")(o),t("./core/core.tooltip")(o),t("./controllers/controller.bar")(o),t("./controllers/controller.bubble")(o),t("./controllers/controller.doughnut")(o),t("./controllers/controller.line")(o),t("./controllers/controller.polarArea")(o),t("./controllers/controller.radar")(o),t("./scales/scale.category")(o),t("./scales/scale.linear")(o),t("./scales/scale.logarithmic")(o),t("./scales/scale.radialLinear")(o),t("./scales/scale.time")(o),t("./elements/element.arc")(o),t("./elements/element.line")(o),t("./elements/element.point")(o),t("./elements/element.rectangle")(o),t("./charts/Chart.Bar")(o),t("./charts/Chart.Bubble")(o),t("./charts/Chart.Doughnut")(o),t("./charts/Chart.Line")(o),t("./charts/Chart.PolarArea")(o),t("./charts/Chart.Radar")(o),t("./charts/Chart.Scatter")(o),window.Chart=e.exports=o},{"./charts/Chart.Bar":8,"./charts/Chart.Bubble":9,"./charts/Chart.Doughnut":10,"./charts/Chart.Line":11,"./charts/Chart.PolarArea":12,"./charts/Chart.Radar":13,"./charts/Chart.Scatter":14,"./controllers/controller.bar":15,"./controllers/controller.bubble":16,"./controllers/controller.doughnut":17,"./controllers/controller.line":18,"./controllers/controller.polarArea":19,"./controllers/controller.radar":20,"./core/core.animation":21,"./core/core.controller":22,"./core/core.datasetController":23,"./core/core.element":24,"./core/core.helpers":25,"./core/core.js":26,"./core/core.layoutService":27,"./core/core.legend":28,"./core/core.scale":29,"./core/core.scaleService":30,"./core/core.title":31,"./core/core.tooltip":32,"./elements/element.arc":33,"./elements/element.line":34,"./elements/element.point":35,"./elements/element.rectangle":36,"./scales/scale.category":37,"./scales/scale.linear":38,"./scales/scale.logarithmic":39,"./scales/scale.radialLinear":40,"./scales/scale.time":41}],8:[function(t,e,i){"use strict";e.exports=function(t){t.Bar=function(e,i){return i.type="bar",new t(e,i)}}},{}],9:[function(t,e,i){"use strict";e.exports=function(t){t.Bubble=function(e,i){return i.type="bubble",new t(e,i)}}},{}],10:[function(t,e,i){"use strict";e.exports=function(t){t.Doughnut=function(e,i){return i.type="doughnut",new t(e,i)}}},{}],11:[function(t,e,i){"use strict";e.exports=function(t){t.Line=function(e,i){return i.type="line",new t(e,i)}}},{}],12:[function(t,e,i){"use strict";e.exports=function(t){t.PolarArea=function(e,i){return i.type="polarArea",new t(e,i)}}},{}],13:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={aspectRatio:1};t.Radar=function(o,n){return n.options=e.configMerge(i,n.options),n.type="radar",new t(o,n)}}},{}],14:[function(t,e,i){"use strict";e.exports=function(t){var e={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){return"("+t.xLabel+", "+t.yLabel+")"}}}};t.defaults.scatter=e,t.controllers.scatter=t.controllers.line,t.Scatter=function(e,i){return i.type="scatter",new t(e,i)}}},{}],15:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=t.DatasetController.extend({initialize:function(e,i){t.DatasetController.prototype.initialize.call(this,e,i),this.getDataset().bar=!0},getBarCount:function(){var t=0;return e.each(this.chart.data.datasets,function(i){e.isDatasetVisible(i)&&i.bar&&++t}),t},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],e.each(this.getDataset().data,function(e,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new t.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(e){this.getDataset().metaData=this.getDataset().metaData||[];var i=new t.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:e}),o=this.getBarCount();this.updateElement(i,e,!0,o),this.getDataset().metaData.splice(e,0,i)},update:function(t){var i=this.getBarCount();e.each(this.getDataset().metaData,function(e,o){this.updateElement(e,o,t,i)},this)},updateElement:function(t,i,o,n){var s,r=this.getScaleForId(this.getDataset().xAxisID),a=this.getScaleForId(this.getDataset().yAxisID);s=a.min<0&&a.max<0?a.getPixelForValue(a.max):a.min>0&&a.max>0?a.getPixelForValue(a.min):a.getPixelForValue(0),e.extend(t,{_chart:this.chart.chart,_xScale:r,_yScale:a,_datasetIndex:this.index,_index:i,_model:{x:this.calculateBarX(i,this.index),y:o?s:this.calculateBarY(i,this.index),label:this.chart.data.labels[i],datasetLabel:this.getDataset().label,base:o?s:this.calculateBarBase(this.index,i),width:this.calculateBarWidth(n),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.rectangle.backgroundColor),borderSkipped:t.custom&&t.custom.borderSkipped?t.custom.borderSkipped:this.chart.options.elements.rectangle.borderSkipped,borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.rectangle.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.rectangle.borderWidth)}}),t.pivot()},calculateBarBase:function(t,i){var o=(this.getScaleForId(this.getDataset().xAxisID),this.getScaleForId(this.getDataset().yAxisID)),n=0;if(o.options.stacked){var s=this.chart.data.datasets[t].data[i];if(0>s)for(var r=0;t>r;r++){var a=this.chart.data.datasets[r];e.isDatasetVisible(a)&&a.yAxisID===o.id&&a.bar&&(n+=a.data[i]<0?a.data[i]:0)}else for(var l=0;t>l;l++){var h=this.chart.data.datasets[l];e.isDatasetVisible(h)&&h.yAxisID===o.id&&h.bar&&(n+=h.data[i]>0?h.data[i]:0)}return o.getPixelForValue(n)}return n=o.getPixelForValue(o.min),o.beginAtZero||o.min<=0&&o.max>=0||o.min>=0&&o.max<=0?n=o.getPixelForValue(0,0):o.min<0&&o.max<0&&(n=o.getPixelForValue(o.max)),n},getRuler:function(){var t=this.getScaleForId(this.getDataset().xAxisID),e=(this.getScaleForId(this.getDataset().yAxisID),this.getBarCount()),i=function(){for(var e=t.getPixelForTick(1)-t.getPixelForTick(0),i=2;i<this.getDataset().data.length;i++)e=Math.min(t.getPixelForTick(i)-t.getPixelForTick(i-1),e);return e}.call(this),o=i*t.options.categoryPercentage,n=(i-i*t.options.categoryPercentage)/2,s=o/e,r=s*t.options.barPercentage,a=s-s*t.options.barPercentage;return{datasetCount:e,tickWidth:i,categoryWidth:o,categorySpacing:n,fullBarWidth:s,barWidth:r,barSpacing:a}},calculateBarWidth:function(){var t=this.getScaleForId(this.getDataset().xAxisID),e=this.getRuler();return t.options.stacked?e.categoryWidth:e.barWidth},getBarIndex:function(t){for(var i=0,o=0;t>o;++o)e.isDatasetVisible(this.chart.data.datasets[o])&&this.chart.data.datasets[o].bar&&++i;return i},calculateBarX:function(t,e){var i=(this.getScaleForId(this.getDataset().yAxisID),this.getScaleForId(this.getDataset().xAxisID)),o=this.getBarIndex(e),n=this.getRuler(),s=i.getPixelForValue(null,t,e,this.chart.isCombo);return s-=this.chart.isCombo?n.tickWidth/2:0,i.options.stacked?s+n.categoryWidth/2+n.categorySpacing:s+n.barWidth/2+n.categorySpacing+n.barWidth*o+n.barSpacing/2+n.barSpacing*o},calculateBarY:function(t,i){var o=(this.getScaleForId(this.getDataset().xAxisID),this.getScaleForId(this.getDataset().yAxisID)),n=this.getDataset().data[t];if(o.options.stacked){for(var s=0,r=0,a=0;i>a;a++){var l=this.chart.data.datasets[a];e.isDatasetVisible(l)&&l.bar&&l.yAxisID===o.id&&(l.data[t]<0?r+=l.data[t]||0:s+=l.data[t]||0)}return 0>n?o.getPixelForValue(r+n):o.getPixelForValue(s+n)}return o.getPixelForValue(n)},draw:function(t){var i=t||1;e.each(this.getDataset().metaData,function(t,e){var o=this.getDataset().data[e];null===o||void 0===o||isNaN(o)||t.transition(i).draw()},this)},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],o=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.hoverBackgroundColor,o,e.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.hoverBorderColor,o,e.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.hoverBorderWidth,o,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.rectangle.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.rectangle.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.rectangle.borderWidth)}})}},{}],16:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(t,e){return""},label:function(t,e){var i=e.datasets[t.datasetIndex].label||"",o=e.datasets[t.datasetIndex].data[t.index];return i+": ("+o.x+", "+o.y+", "+o.r+")"}}}},t.controllers.bubble=t.DatasetController.extend({addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],e.each(this.getDataset().data,function(e,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(e){this.getDataset().metaData=this.getDataset().metaData||[];var i=new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.updateElement(i,e,!0),this.getDataset().metaData.splice(e,0,i)},update:function(t){var i,o=this.getDataset().metaData,n=this.getScaleForId(this.getDataset().yAxisID);this.getScaleForId(this.getDataset().xAxisID);i=n.min<0&&n.max<0?n.getPixelForValue(n.max):n.min>0&&n.max>0?n.getPixelForValue(n.min):n.getPixelForValue(0),e.each(o,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,i,o){var n,s=this.getScaleForId(this.getDataset().yAxisID),r=this.getScaleForId(this.getDataset().xAxisID);n=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),e.extend(t,{_chart:this.chart.chart,_xScale:r,_yScale:s,_datasetIndex:this.index,_index:i,_model:{x:o?r.getPixelForDecimal(.5):r.getPixelForValue(this.getDataset().data[i],i,this.index,this.chart.isCombo),y:o?n:s.getPixelForValue(this.getDataset().data[i],i,this.index),radius:o?0:t.custom&&t.custom.radius?t.custom.radius:this.getRadius(this.getDataset().data[i]),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.point.borderWidth),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:e.getValueAtIndexOrDefault(this.getDataset().hitRadius,i,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y),t.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},draw:function(t){var i=t||1;e.each(this.getDataset().metaData,function(t,e){t.transition(i),t.draw()})},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],o=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:e.getValueAtIndexOrDefault(i.hoverRadius,o,this.chart.options.elements.point.hoverRadius)+this.getRadius(this.getDataset().data[t._index]),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.hoverBackgroundColor,o,e.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.hoverBorderColor,o,e.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.hoverBorderWidth,o,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:this.getRadius(this.getDataset().data[t._index]),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.point.borderWidth)}})}},{}],17:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];if(e.push('<ul class="'+t.id+'-legend">'),t.data.datasets.length)for(var i=0;i<t.data.datasets[0].data.length;++i)e.push('<li><span style="background-color:'+t.data.datasets[0].backgroundColor[i]+'">'),t.data.labels[i]&&e.push(t.data.labels[i]),e.push("</span></li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){return t.labels.length&&t.datasets.length?t.labels.map(function(e,i){return{text:e,fillStyle:t.datasets[0].backgroundColor[i],hidden:isNaN(t.datasets[0].data[i]),index:i}}):[]}},onClick:function(t,i){e.each(this.chart.data.datasets,function(t){t.metaHiddenData=t.metaHiddenData||[];var e=i.index;isNaN(t.data[e])?isNaN(t.metaHiddenData[e])||(t.data[e]=t.metaHiddenData[e]):(t.metaHiddenData[e]=t.data[e],t.data[e]=NaN)}),this.chart.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+e.datasets[t.datasetIndex].data[t.index]}}}},t.defaults.pie=e.clone(t.defaults.doughnut),e.extend(t.defaults.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({linkScales:function(){},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],e.each(this.getDataset().data,function(e,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(i,o){this.getDataset().metaData=this.getDataset().metaData||[];var n=new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:i});o&&e.isArray(this.getDataset().backgroundColor)&&this.getDataset().backgroundColor.splice(i,0,o),this.updateElement(n,i,!0),this.getDataset().metaData.splice(i,0,n)},getVisibleDatasetCount:function(){return e.where(this.chart.data.datasets,function(t){return e.isDatasetVisible(t)}).length},getRingIndex:function(t){for(var i=0,o=0;t>o;++o)e.isDatasetVisible(this.chart.data.datasets[o])&&++i;return i},update:function(t){var i=this.chart.chartArea.right-this.chart.chartArea.left-this.chart.options.elements.arc.borderWidth,o=this.chart.chartArea.bottom-this.chart.chartArea.top-this.chart.options.elements.arc.borderWidth,n=Math.min(i,o),s={x:0,y:0};if(this.chart.options.circumference&&this.chart.options.circumference<2*Math.PI){var r=this.chart.options.rotation%(2*Math.PI);r+=2*Math.PI*(r>=Math.PI?-1:r<-Math.PI?1:0);var a=r+this.chart.options.circumference,l={x:Math.cos(r),y:Math.sin(r)},h={x:Math.cos(a),y:Math.sin(a)},c=0>=r&&a>=0||r<=2*Math.PI&&2*Math.PI<=a,d=r<=.5*Math.PI&&.5*Math.PI<=a||r<=2.5*Math.PI&&2.5*Math.PI<=a,u=r<=-Math.PI&&-Math.PI<=a||r<=Math.PI&&Math.PI<=a,f=r<=.5*-Math.PI&&.5*-Math.PI<=a||r<=1.5*Math.PI&&1.5*Math.PI<=a,p=this.chart.options.cutoutPercentage/100,g={x:u?-1:Math.min(l.x*(l.x<0?1:p),h.x*(h.x<0?1:p)),y:f?-1:Math.min(l.y*(l.y<0?1:p),h.y*(h.y<0?1:p))},m={x:c?1:Math.max(l.x*(l.x>0?1:p),h.x*(h.x>0?1:p)),y:d?1:Math.max(l.y*(l.y>0?1:p),h.y*(h.y>0?1:p))},v={width:.5*(m.x-g.x),height:.5*(m.y-g.y)};n=Math.min(i/v.width,o/v.height),s={x:(m.x+g.x)*-.5,y:(m.y+g.y)*-.5}}this.chart.outerRadius=Math.max(n/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.getVisibleDatasetCount(),this.chart.offsetX=s.x*this.chart.outerRadius,this.chart.offsetY=s.y*this.chart.outerRadius,this.getDataset().total=0,e.each(this.getDataset().data,function(t){isNaN(t)||(this.getDataset().total+=Math.abs(t))},this),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.getRingIndex(this.index),this.innerRadius=this.outerRadius-this.chart.radiusLength,e.each(this.getDataset().metaData,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,i,o){var n=(this.chart.chartArea.left+this.chart.chartArea.right)/2,s=(this.chart.chartArea.top+this.chart.chartArea.bottom)/2,r=this.chart.options.rotation||Math.PI*-.5,a=this.chart.options.rotation||Math.PI*-.5,l=o&&this.chart.options.animation.animateRotate?0:this.calculateCircumference(this.getDataset().data[i])*((this.chart.options.circumference||2*Math.PI)/(2*Math.PI)),h=o&&this.chart.options.animation.animateScale?0:this.innerRadius,c=o&&this.chart.options.animation.animateScale?0:this.outerRadius;e.extend(t,{_chart:this.chart.chart,_datasetIndex:this.index,_index:i,_model:{x:n+this.chart.offsetX,y:s+this.chart.offsetY,startAngle:r,endAngle:a,circumference:l,outerRadius:c,innerRadius:h,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,i,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),label:e.getValueAtIndexOrDefault(this.getDataset().label,i,this.chart.data.labels[i])}}),o||(0===i?t._model.startAngle=this.chart.options.rotation||Math.PI*-.5:t._model.startAngle=this.getDataset().metaData[i-1]._model.endAngle,t._model.endAngle=t._model.startAngle+t._model.circumference),t.pivot()},draw:function(t){var i=t||1;e.each(this.getDataset().metaData,function(t,e){t.transition(i).draw()})},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],o=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.hoverBackgroundColor,o,e.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.hoverBorderColor,o,e.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.hoverBorderWidth,o,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth)},calculateCircumference:function(t){return this.getDataset().total>0&&!isNaN(t)?1.999999*Math.PI*(t/this.getDataset().total):0}})}},{}],18:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.line={showLines:!0,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=t.DatasetController.extend({addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],this.getDataset().metaDataset=this.getDataset().metaDataset||new t.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:this.getDataset().metaData}),e.each(this.getDataset().data,function(e,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(e){this.getDataset().metaData=this.getDataset().metaData||[];var i=new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.updateElement(i,e,!0),this.getDataset().metaData.splice(e,0,i),this.chart.options.showLines&&0!==this.chart.options.elements.line.tension&&this.updateBezierControlPoints()},update:function(t){var i,o=this.getDataset().metaDataset,n=this.getDataset().metaData,s=this.getScaleForId(this.getDataset().yAxisID);this.getScaleForId(this.getDataset().xAxisID);i=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),this.chart.options.showLines&&(o._scale=s,o._datasetIndex=this.index,o._children=n,o._model={tension:o.custom&&o.custom.tension?o.custom.tension:e.getValueOrDefault(this.getDataset().tension,this.chart.options.elements.line.tension),backgroundColor:o.custom&&o.custom.backgroundColor?o.custom.backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:o.custom&&o.custom.borderWidth?o.custom.borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:o.custom&&o.custom.borderColor?o.custom.borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,borderCapStyle:o.custom&&o.custom.borderCapStyle?o.custom.borderCapStyle:this.getDataset().borderCapStyle||this.chart.options.elements.line.borderCapStyle,borderDash:o.custom&&o.custom.borderDash?o.custom.borderDash:this.getDataset().borderDash||this.chart.options.elements.line.borderDash,borderDashOffset:o.custom&&o.custom.borderDashOffset?o.custom.borderDashOffset:this.getDataset().borderDashOffset||this.chart.options.elements.line.borderDashOffset,borderJoinStyle:o.custom&&o.custom.borderJoinStyle?o.custom.borderJoinStyle:this.getDataset().borderJoinStyle||this.chart.options.elements.line.borderJoinStyle,fill:o.custom&&o.custom.fill?o.custom.fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,scaleTop:s.top,scaleBottom:s.bottom,scaleZero:i},o.pivot()),e.each(n,function(e,i){this.updateElement(e,i,t)},this),this.chart.options.showLines&&0!==this.chart.options.elements.line.tension&&this.updateBezierControlPoints()},getPointBackgroundColor:function(t,i){var o=this.chart.options.elements.point.backgroundColor,n=this.getDataset();return t.custom&&t.custom.backgroundColor?o=t.custom.backgroundColor:n.pointBackgroundColor?o=e.getValueAtIndexOrDefault(n.pointBackgroundColor,i,o):n.backgroundColor&&(o=n.backgroundColor),o},getPointBorderColor:function(t,i){
var o=this.chart.options.elements.point.borderColor,n=this.getDataset();return t.custom&&t.custom.borderColor?o=t.custom.borderColor:n.pointBorderColor?o=e.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,i,o):n.borderColor&&(o=n.borderColor),o},getPointBorderWidth:function(t,i){var o=this.chart.options.elements.point.borderWidth,n=this.getDataset();return t.custom&&void 0!==t.custom.borderWidth?o=t.custom.borderWidth:void 0!==n.pointBorderWidth?o=e.getValueAtIndexOrDefault(n.pointBorderWidth,i,o):void 0!==n.borderWidth&&(o=n.borderWidth),o},updateElement:function(t,i,o){var n,s=this.getScaleForId(this.getDataset().yAxisID),r=this.getScaleForId(this.getDataset().xAxisID);n=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),t._chart=this.chart.chart,t._xScale=r,t._yScale=s,t._datasetIndex=this.index,t._index=i,t._model={x:r.getPixelForValue(this.getDataset().data[i],i,this.index,this.chart.isCombo),y:o?n:this.calculatePointY(this.getDataset().data[i],i,this.index,this.chart.isCombo),tension:t.custom&&t.custom.tension?t.custom.tension:e.getValueOrDefault(this.getDataset().tension,this.chart.options.elements.line.tension),radius:t.custom&&t.custom.radius?t.custom.radius:e.getValueAtIndexOrDefault(this.getDataset().radius,i,this.chart.options.elements.point.radius),pointStyle:t.custom&&t.custom.pointStyle?t.custom.pointStyle:e.getValueAtIndexOrDefault(this.getDataset().pointStyle,i,this.chart.options.elements.point.pointStyle),backgroundColor:this.getPointBackgroundColor(t,i),borderColor:this.getPointBorderColor(t,i),borderWidth:this.getPointBorderWidth(t,i),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:e.getValueAtIndexOrDefault(this.getDataset().hitRadius,i,this.chart.options.elements.point.hitRadius)},t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y)},calculatePointY:function(t,i,o,n){var s=(this.getScaleForId(this.getDataset().xAxisID),this.getScaleForId(this.getDataset().yAxisID));if(s.options.stacked){for(var r=0,a=0,l=0;o>l;l++){var h=this.chart.data.datasets[l];"line"===h.type&&e.isDatasetVisible(h)&&(h.data[i]<0?a+=h.data[i]||0:r+=h.data[i]||0)}return 0>t?s.getPixelForValue(a+t):s.getPixelForValue(r+t)}return s.getPixelForValue(t)},updateBezierControlPoints:function(){e.each(this.getDataset().metaData,function(t,i){var o=e.splineCurve(e.previousItem(this.getDataset().metaData,i)._model,t._model,e.nextItem(this.getDataset().metaData,i)._model,t._model.tension);t._model.controlPointPreviousX=Math.max(Math.min(o.previous.x,this.chart.chartArea.right),this.chart.chartArea.left),t._model.controlPointPreviousY=Math.max(Math.min(o.previous.y,this.chart.chartArea.bottom),this.chart.chartArea.top),t._model.controlPointNextX=Math.max(Math.min(o.next.x,this.chart.chartArea.right),this.chart.chartArea.left),t._model.controlPointNextY=Math.max(Math.min(o.next.y,this.chart.chartArea.bottom),this.chart.chartArea.top),t.pivot()},this)},draw:function(t){var i=t||1;e.each(this.getDataset().metaData,function(t){t.transition(i)}),this.chart.options.showLines&&this.getDataset().metaDataset.transition(i).draw(),e.each(this.getDataset().metaData,function(t){t.draw()})},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],o=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:e.getValueAtIndexOrDefault(i.pointHoverRadius,o,this.chart.options.elements.point.hoverRadius),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.pointHoverBackgroundColor,o,e.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.pointHoverBorderColor,o,e.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.pointHoverBorderWidth,o,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:e.getValueAtIndexOrDefault(this.getDataset().radius,i,this.chart.options.elements.point.radius),t._model.backgroundColor=this.getPointBackgroundColor(t,i),t._model.borderColor=this.getPointBorderColor(t,i),t._model.borderWidth=this.getPointBorderWidth(t,i)}})}},{}],19:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animateRotate:!0,animateScale:!0,aspectRatio:1,legendCallback:function(t){var e=[];if(e.push('<ul class="'+t.id+'-legend">'),t.data.datasets.length)for(var i=0;i<t.data.datasets[0].data.length;++i)e.push('<li><span style="background-color:'+t.data.datasets[0].backgroundColor[i]+'">'),t.data.labels[i]&&e.push(t.data.labels[i]),e.push("</span></li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){return t.labels.length&&t.datasets.length?t.labels.map(function(e,i){return{text:e,fillStyle:t.datasets[0].backgroundColor[i],hidden:isNaN(t.datasets[0].data[i]),index:i}}):[]}},onClick:function(t,i){e.each(this.chart.data.datasets,function(t){t.metaHiddenData=t.metaHiddenData||[];var e=i.index;isNaN(t.data[e])?isNaN(t.metaHiddenData[e])||(t.data[e]=t.metaHiddenData[e]):(t.metaHiddenData[e]=t.data[e],t.data[e]=NaN)}),this.chart.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({linkScales:function(){},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],e.each(this.getDataset().data,function(e,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:i})},this)},addElementAndReset:function(e){this.getDataset().metaData=this.getDataset().metaData||[];var i=new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.updateElement(i,e,!0),this.getDataset().metaData.splice(e,0,i)},getVisibleDatasetCount:function(){return e.where(this.chart.data.datasets,function(t){return e.isDatasetVisible(t)}).length},update:function(t){var i=Math.min(this.chart.chartArea.right-this.chart.chartArea.left,this.chart.chartArea.bottom-this.chart.chartArea.top);this.chart.outerRadius=Math.max((i-this.chart.options.elements.arc.borderWidth/2)/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.getVisibleDatasetCount(),this.getDataset().total=0,e.each(this.getDataset().data,function(t){this.getDataset().total+=Math.abs(t)},this),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.index,this.innerRadius=this.outerRadius-this.chart.radiusLength,e.each(this.getDataset().metaData,function(e,i){this.updateElement(e,i,t)},this)},updateElement:function(t,i,o){for(var n=this.calculateCircumference(this.getDataset().data[i]),s=(this.chart.chartArea.left+this.chart.chartArea.right)/2,r=(this.chart.chartArea.top+this.chart.chartArea.bottom)/2,a=0,l=0;i>l;++l)isNaN(this.getDataset().data[l])||++a;var h=-.5*Math.PI+n*a,c=h+n,d={x:s,y:r,innerRadius:0,outerRadius:this.chart.options.animateScale?0:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[i]),startAngle:this.chart.options.animateRotate?Math.PI*-.5:h,endAngle:this.chart.options.animateRotate?Math.PI*-.5:c,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),label:e.getValueAtIndexOrDefault(this.chart.data.labels,i,this.chart.data.labels[i])};e.extend(t,{_chart:this.chart.chart,_datasetIndex:this.index,_index:i,_scale:this.chart.scale,_model:o?d:{x:s,y:r,innerRadius:0,outerRadius:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[i]),startAngle:h,endAngle:c,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),label:e.getValueAtIndexOrDefault(this.chart.data.labels,i,this.chart.data.labels[i])}}),t.pivot()},draw:function(t){var i=t||1;e.each(this.getDataset().metaData,function(t,e){t.transition(i).draw()})},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],o=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.hoverBackgroundColor,o,e.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.hoverBorderColor,o,e.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.hoverBorderWidth,o,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().backgroundColor,i,this.chart.options.elements.arc.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().borderColor,i,this.chart.options.elements.arc.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().borderWidth,i,this.chart.options.elements.arc.borderWidth)},calculateCircumference:function(t){if(isNaN(t))return 0;var i=e.where(this.getDataset().data,function(t){return isNaN(t)}).length;return 2*Math.PI/(this.getDataset().data.length-i)}})}},{}],20:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({linkScales:function(){},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],this.getDataset().metaDataset=this.getDataset().metaDataset||new t.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:this.getDataset().metaData,_loop:!0}),e.each(this.getDataset().data,function(e,i){this.getDataset().metaData[i]=this.getDataset().metaData[i]||new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:i,_model:{x:0,y:0}})},this)},addElementAndReset:function(e){this.getDataset().metaData=this.getDataset().metaData||[];var i=new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.updateElement(i,e,!0),this.getDataset().metaData.splice(e,0,i),this.updateBezierControlPoints()},update:function(t){var i,o=this.getDataset().metaDataset,n=this.getDataset().metaData,s=this.chart.scale;i=s.min<0&&s.max<0?s.getPointPositionForValue(0,s.max):s.min>0&&s.max>0?s.getPointPositionForValue(0,s.min):s.getPointPositionForValue(0,0),e.extend(this.getDataset().metaDataset,{_datasetIndex:this.index,_children:this.getDataset().metaData,_model:{tension:o.custom&&o.custom.tension?o.custom.tension:e.getValueOrDefault(this.getDataset().tension,this.chart.options.elements.line.tension),backgroundColor:o.custom&&o.custom.backgroundColor?o.custom.backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:o.custom&&o.custom.borderWidth?o.custom.borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:o.custom&&o.custom.borderColor?o.custom.borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,fill:o.custom&&o.custom.fill?o.custom.fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,borderCapStyle:o.custom&&o.custom.borderCapStyle?o.custom.borderCapStyle:this.getDataset().borderCapStyle||this.chart.options.elements.line.borderCapStyle,borderDash:o.custom&&o.custom.borderDash?o.custom.borderDash:this.getDataset().borderDash||this.chart.options.elements.line.borderDash,borderDashOffset:o.custom&&o.custom.borderDashOffset?o.custom.borderDashOffset:this.getDataset().borderDashOffset||this.chart.options.elements.line.borderDashOffset,borderJoinStyle:o.custom&&o.custom.borderJoinStyle?o.custom.borderJoinStyle:this.getDataset().borderJoinStyle||this.chart.options.elements.line.borderJoinStyle,scaleTop:s.top,scaleBottom:s.bottom,scaleZero:i}}),this.getDataset().metaDataset.pivot(),e.each(n,function(e,i){this.updateElement(e,i,t)},this),this.updateBezierControlPoints()},updateElement:function(t,i,o){var n=this.chart.scale.getPointPositionForValue(i,this.getDataset().data[i]);e.extend(t,{_datasetIndex:this.index,_index:i,_scale:this.chart.scale,_model:{x:o?this.chart.scale.xCenter:n.x,y:o?this.chart.scale.yCenter:n.y,tension:t.custom&&t.custom.tension?t.custom.tension:e.getValueOrDefault(this.getDataset().tension,this.chart.options.elements.line.tension),radius:t.custom&&t.custom.radius?t.custom.radius:e.getValueAtIndexOrDefault(this.getDataset().pointRadius,i,this.chart.options.elements.point.radius),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,i,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,i,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,i,this.chart.options.elements.point.borderWidth),pointStyle:t.custom&&t.custom.pointStyle?t.custom.pointStyle:e.getValueAtIndexOrDefault(this.getDataset().pointStyle,i,this.chart.options.elements.point.pointStyle),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:e.getValueAtIndexOrDefault(this.getDataset().hitRadius,i,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){e.each(this.getDataset().metaData,function(t,i){var o=e.splineCurve(e.previousItem(this.getDataset().metaData,i,!0)._model,t._model,e.nextItem(this.getDataset().metaData,i,!0)._model,t._model.tension);t._model.controlPointPreviousX=Math.max(Math.min(o.previous.x,this.chart.chartArea.right),this.chart.chartArea.left),t._model.controlPointPreviousY=Math.max(Math.min(o.previous.y,this.chart.chartArea.bottom),this.chart.chartArea.top),t._model.controlPointNextX=Math.max(Math.min(o.next.x,this.chart.chartArea.right),this.chart.chartArea.left),t._model.controlPointNextY=Math.max(Math.min(o.next.y,this.chart.chartArea.bottom),this.chart.chartArea.top),t.pivot()},this)},draw:function(t){var i=t||1;e.each(this.getDataset().metaData,function(t,e){t.transition(i)}),this.getDataset().metaDataset.transition(i).draw(),e.each(this.getDataset().metaData,function(t){t.draw()})},setHoverStyle:function(t){var i=this.chart.data.datasets[t._datasetIndex],o=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:e.getValueAtIndexOrDefault(i.pointHoverRadius,o,this.chart.options.elements.point.hoverRadius),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:e.getValueAtIndexOrDefault(i.pointHoverBackgroundColor,o,e.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:e.getValueAtIndexOrDefault(i.pointHoverBorderColor,o,e.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:e.getValueAtIndexOrDefault(i.pointHoverBorderWidth,o,t._model.borderWidth)},removeHoverStyle:function(t){var i=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:e.getValueAtIndexOrDefault(this.getDataset().radius,i,this.chart.options.elements.point.radius),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:e.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,i,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:e.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,i,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:e.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,i,this.chart.options.elements.point.borderWidth)}})}},{}],21:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:e.noop,onComplete:e.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,i,o){o||(t.animating=!0);for(var n=0;n<this.animations.length;++n)if(this.animations[n].chartInstance===t)return void(this.animations[n].animationObject=e);this.animations.push({chartInstance:t,animationObject:e}),1===this.animations.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var i=e.findIndex(this.animations,function(e){return e.chartInstance===t});-1!==i&&(this.animations.splice(i,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=Date.now(),e=0;this.dropFrames>1&&(e=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1);for(var i=0;i<this.animations.length;)null===this.animations[i].animationObject.currentStep&&(this.animations[i].animationObject.currentStep=0),this.animations[i].animationObject.currentStep+=1+e,this.animations[i].animationObject.currentStep>this.animations[i].animationObject.numSteps&&(this.animations[i].animationObject.currentStep=this.animations[i].animationObject.numSteps),this.animations[i].animationObject.render(this.animations[i].chartInstance,this.animations[i].animationObject),this.animations[i].animationObject.onAnimationProgress&&this.animations[i].animationObject.onAnimationProgress.call&&this.animations[i].animationObject.onAnimationProgress.call(this.animations[i].chartInstance,this.animations[i]),this.animations[i].animationObject.currentStep===this.animations[i].animationObject.numSteps?(this.animations[i].animationObject.onAnimationComplete&&this.animations[i].animationObject.onAnimationComplete.call&&this.animations[i].animationObject.onAnimationComplete.call(this.animations[i].chartInstance,this.animations[i]),this.animations[i].chartInstance.animating=!1,this.animations.splice(i,1)):++i;var o=Date.now(),n=(o-t)/this.frameDuration;this.dropFrames+=n,this.animations.length>0&&this.requestAnimationFrame()}}}},{}],22:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.types={},t.instances={},t.controllers={},t.Controller=function(i){return this.chart=i,this.config=i.config,this.options=this.config.options=e.configMerge(t.defaults.global,t.defaults[this.config.type],this.config.options||{}),this.id=e.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),t.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},e.extend(t.Controller.prototype,{initialize:function(){return this.bindEvents(),this.ensureScalesHaveIDs(),this.buildOrUpdateControllers(),this.buildScales(),this.buildSurroundingItems(),this.updateLayout(),this.resetElements(),this.initToolTip(),this.update(),this},clear:function(){return e.clear(this.chart),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var i=this.chart.canvas,o=e.getMaximumWidth(this.chart.canvas),n=this.options.maintainAspectRatio&&isNaN(this.chart.aspectRatio)===!1&&isFinite(this.chart.aspectRatio)&&0!==this.chart.aspectRatio?o/this.chart.aspectRatio:e.getMaximumHeight(this.chart.canvas),s=this.chart.width!==o||this.chart.height!==n;return s?(i.width=this.chart.width=o,i.height=this.chart.height=n,e.retinaScale(this.chart),t||(this.stop(),this.update(this.options.responsiveAnimationDuration)),this):this},ensureScalesHaveIDs:function(){var t="x-axis-",i="y-axis-";this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&e.each(this.options.scales.xAxes,function(e,i){e.id=e.id||t+i}),this.options.scales.yAxes&&this.options.scales.yAxes.length&&e.each(this.options.scales.yAxes,function(t,e){t.id=t.id||i+e}))},buildScales:function(){if(this.scales={},this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&e.each(this.options.scales.xAxes,function(i,o){var n=e.getValueOrDefault(i.type,"category"),s=t.scaleService.getScaleConstructor(n);if(s){var r=new s({ctx:this.chart.ctx,options:i,chart:this,id:i.id});this.scales[r.id]=r}},this),this.options.scales.yAxes&&this.options.scales.yAxes.length&&e.each(this.options.scales.yAxes,function(i,o){var n=e.getValueOrDefault(i.type,"linear"),s=t.scaleService.getScaleConstructor(n);if(s){var r=new s({ctx:this.chart.ctx,options:i,chart:this,id:i.id});this.scales[r.id]=r}},this)),this.options.scale){var i=t.scaleService.getScaleConstructor(this.options.scale.type);if(i){var o=new i({ctx:this.chart.ctx,options:this.options.scale,chart:this});this.scale=o,this.scales.radialScale=o}}t.scaleService.addScalesToLayout(this)},buildSurroundingItems:function(){this.options.title&&(this.titleBlock=new t.Title({ctx:this.chart.ctx,options:this.options.title,chart:this}),t.layoutService.addBox(this,this.titleBlock)),this.options.legend&&(this.legend=new t.Legend({ctx:this.chart.ctx,options:this.options.legend,chart:this}),t.layoutService.addBox(this,this.legend))},updateLayout:function(){t.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var i=[],o=[];if(e.each(this.data.datasets,function(e,n){e.type||(e.type=this.config.type);var s=e.type;i.push(s),e.controller?e.controller.updateIndex(n):(e.controller=new t.controllers[s](this,n),o.push(e.controller))},this),i.length>1)for(var n=1;n<i.length;n++)if(i[n]!==i[n-1]){this.isCombo=!0;break}return o},resetElements:function(){e.each(this.data.datasets,function(t,e){t.controller.reset()})},update:function(i,o){this.tooltip._data=this.data;var n=this.buildOrUpdateControllers();t.layoutService.update(this,this.chart.width,this.chart.height),e.each(n,function(t){t.reset()}),e.each(this.data.datasets,function(t,e){t.controller.buildOrUpdateElements()}),e.each(this.data.datasets,function(t,e){t.controller.update()}),this.render(i,o)},render:function(i,o){if(this.options.animation&&("undefined"!=typeof i&&0!==i||"undefined"==typeof i&&0!==this.options.animation.duration)){var n=new t.Animation;n.numSteps=(i||this.options.animation.duration)/16.66,n.easing=this.options.animation.easing,n.render=function(t,i){var o=e.easingEffects[i.easing],n=i.currentStep/i.numSteps,s=o(n);t.draw(s,n,i.currentStep)},n.onAnimationProgress=this.options.animation.onProgress,n.onAnimationComplete=this.options.animation.onComplete,t.animationService.addAnimation(this,n,i,o)}else this.draw(),this.options.animation&&this.options.animation.onComplete&&this.options.animation.onComplete.call&&this.options.animation.onComplete.call(this);return this},draw:function(t){var i=t||1;this.clear(),e.each(this.boxes,function(t){t.draw(this.chartArea)},this),this.scale&&this.scale.draw(),this.chart.ctx.save(),this.chart.ctx.beginPath(),this.chart.ctx.rect(this.chartArea.left,this.chartArea.top,this.chartArea.right-this.chartArea.left,this.chartArea.bottom-this.chartArea.top),this.chart.ctx.clip(),e.each(this.data.datasets,function(i,o){e.isDatasetVisible(i)&&i.controller.draw(t)},null,!0),this.chart.ctx.restore(),this.tooltip.transition(i).draw()},getElementAtEvent:function(t){var i=e.getRelativePosition(t,this.chart),o=[];return e.each(this.data.datasets,function(t,n){e.isDatasetVisible(t)&&e.each(t.metaData,function(t,e){return t.inRange(i.x,i.y)?(o.push(t),o):void 0})}),o},getElementsAtEvent:function(t){var i=e.getRelativePosition(t,this.chart),o=[],n=function(){if(this.data.datasets)for(var t=0;t<this.data.datasets.length;t++)if(e.isDatasetVisible(this.data.datasets[t]))for(var o=0;o<this.data.datasets[t].metaData.length;o++)if(this.data.datasets[t].metaData[o].inRange(i.x,i.y))return this.data.datasets[t].metaData[o]}.call(this);return n?(e.each(this.data.datasets,function(t,i){e.isDatasetVisible(t)&&o.push(t.metaData[n._index])}),o):o},getDatasetAtEvent:function(t){var e=this.getElementAtEvent(t);return e.length>0&&(e=this.data.datasets[e[0]._datasetIndex].metaData),e},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){this.clear(),e.unbindEvents(this,this.events),e.removeResizeListener(this.chart.canvas.parentNode);var i=this.chart.canvas;i.width=this.chart.width,i.height=this.chart.height,void 0!==this.chart.originalDevicePixelRatio&&this.chart.ctx.scale(1/this.chart.originalDevicePixelRatio,1/this.chart.originalDevicePixelRatio),i.style.width=this.chart.originalCanvasStyleWidth,i.style.height=this.chart.originalCanvasStyleHeight,delete t.instances[this.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new t.Tooltip({_chart:this.chart,_chartInstance:this,_data:this.data,_options:this.options},this)},bindEvents:function(){e.bindEvents(this,this.options.events,function(t){this.eventHandler(t)})},eventHandler:function(t){if(this.lastActive=this.lastActive||[],this.lastTooltipActive=this.lastTooltipActive||[],"mouseout"===t.type)this.active=[],this.tooltipActive=[];else{var i=this,o=function(e){switch(e){case"single":return i.getElementAtEvent(t);case"label":return i.getElementsAtEvent(t);case"dataset":return i.getDatasetAtEvent(t);default:return t}};this.active=o(this.options.hover.mode),this.tooltipActive=o(this.options.tooltips.mode)}this.options.hover.onHover&&this.options.hover.onHover.call(this,this.active),"mouseup"!==t.type&&"click"!==t.type||(this.options.onClick&&this.options.onClick.call(this,t,this.active),this.legend&&this.legend.handleEvent&&this.legend.handleEvent(t));if(this.lastActive.length)switch(this.options.hover.mode){case"single":this.data.datasets[this.lastActive[0]._datasetIndex].controller.removeHoverStyle(this.lastActive[0],this.lastActive[0]._datasetIndex,this.lastActive[0]._index);break;case"label":case"dataset":for(var n=0;n<this.lastActive.length;n++)this.lastActive[n]&&this.data.datasets[this.lastActive[n]._datasetIndex].controller.removeHoverStyle(this.lastActive[n],this.lastActive[n]._datasetIndex,this.lastActive[n]._index)}if(this.active.length&&this.options.hover.mode)switch(this.options.hover.mode){case"single":this.data.datasets[this.active[0]._datasetIndex].controller.setHoverStyle(this.active[0]);break;case"label":case"dataset":for(var s=0;s<this.active.length;s++)this.active[s]&&this.data.datasets[this.active[s]._datasetIndex].controller.setHoverStyle(this.active[s])}if((this.options.tooltips.enabled||this.options.tooltips.custom)&&(this.tooltip.initialize(),this.tooltip._active=this.tooltipActive,this.tooltip.update()),this.tooltip.pivot(),!this.animating){var r;e.each(this.active,function(t,e){t!==this.lastActive[e]&&(r=!0)},this),e.each(this.tooltipActive,function(t,e){t!==this.lastTooltipActive[e]&&(r=!0)},this),(this.lastActive.length!==this.active.length||this.lastTooltipActive.length!==this.tooltipActive.length||r)&&(this.stop(),(this.options.tooltips.enabled||this.options.tooltips.custom)&&this.tooltip.update(!0),this.render(this.options.hover.animationDuration,!0))}return this.lastActive=this.active,this.lastTooltipActive=this.tooltipActive,this}})}},{}],23:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.DatasetController=function(t,e){this.initialize.call(this,t,e)},e.extend(t.DatasetController.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){this.getDataset().xAxisID||(this.getDataset().xAxisID=this.chart.options.scales.xAxes[0].id),this.getDataset().yAxisID||(this.getDataset().yAxisID=this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(e>t)this.getDataset().metaData.splice(t,e-t);else if(t>e)for(var i=e;t>i;++i)this.addElementAndReset(i)},addElements:e.noop,addElementAndReset:e.noop,draw:e.noop,removeHoverStyle:e.noop,setHoverStyle:e.noop,update:e.noop}),t.DatasetController.extend=e.inherits}},{}],24:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.elements={},t.Element=function(t){e.extend(this,t),this.initialize.apply(this,arguments)},e.extend(t.Element.prototype,{initialize:function(){},pivot:function(){return this._view||(this._view=e.clone(this._model)),this._start=e.clone(this._view),this},transition:function(t){return this._view||(this._view=e.clone(this._model)),1===t?(this._view=this._model,this._start=null,this):(this._start||this.pivot(),e.each(this._model,function(i,o){if("_"!==o[0]&&this._model.hasOwnProperty(o))if(this._view.hasOwnProperty(o))if(i===this._view[o]);else if("string"==typeof i)try{var n=e.color(this._start[o]).mix(e.color(this._model[o]),t);this._view[o]=n.rgbString()}catch(s){this._view[o]=i}else if("number"==typeof i){var r=void 0!==this._start[o]&&isNaN(this._start[o])===!1?this._start[o]:0;this._view[o]=(this._model[o]-r)*t+r}else this._view[o]=i;else"number"!=typeof i||isNaN(this._view[o])?this._view[o]=i:this._view[o]=i*t;else;},this),this)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return e.isNumber(this._model.x)&&e.isNumber(this._model.y)}}),t.Element.extend=e.inherits}},{}],25:[function(t,e,i){"use strict";var o=t("chartjs-color");e.exports=function(t){function e(t,e,i){var o;return"string"==typeof t?(o=parseInt(t,10),-1!=t.indexOf("%")&&(o=o/100*e.parentNode[i])):o=t,o}function i(t,i,o){var n,s=document.defaultView.getComputedStyle(t)[i],r=document.defaultView.getComputedStyle(t.parentNode)[i],a=null!==s&&"none"!==s,l=null!==r&&"none"!==r;return(a||l)&&(n=Math.min(a?e(s,t,o):Number.POSITIVE_INFINITY,l?e(r,t.parentNode,o):Number.POSITIVE_INFINITY)),n}var n=t.helpers={};n.each=function(t,e,i,o){var s,r;if(n.isArray(t))if(r=t.length,o)for(s=r-1;s>=0;s--)e.call(i,t[s],s);else for(s=0;r>s;s++)e.call(i,t[s],s);else if("object"==typeof t){var a=Object.keys(t);for(r=a.length,s=0;r>s;s++)e.call(i,t[a[s]],a[s])}},n.clone=function(t){var e={};return n.each(t,function(i,o){t.hasOwnProperty(o)&&(n.isArray(i)?e[o]=i.slice(0):"object"==typeof i&&null!==i?e[o]=n.clone(i):e[o]=i);
}),e},n.extend=function(t){for(var e=arguments.length,i=[],o=1;e>o;o++)i.push(arguments[o]);return n.each(i,function(e){n.each(e,function(i,o){e.hasOwnProperty(o)&&(t[o]=i)})}),t},n.configMerge=function(e){var i=n.clone(e);return n.each(Array.prototype.slice.call(arguments,1),function(e){n.each(e,function(o,s){if(e.hasOwnProperty(s))if("scales"===s)i[s]=n.scaleMerge(i.hasOwnProperty(s)?i[s]:{},o);else if("scale"===s)i[s]=n.configMerge(i.hasOwnProperty(s)?i[s]:{},t.scaleService.getScaleDefaults(o.type),o);else if(i.hasOwnProperty(s)&&n.isArray(i[s])&&n.isArray(o)){var r=i[s];n.each(o,function(t,e){e<r.length?"object"==typeof r[e]&&null!==r[e]&&"object"==typeof t&&null!==t?r[e]=n.configMerge(r[e],t):r[e]=t:r.push(t)})}else i.hasOwnProperty(s)&&"object"==typeof i[s]&&null!==i[s]&&"object"==typeof o?i[s]=n.configMerge(i[s],o):i[s]=o})}),i},n.extendDeep=function(t){function e(t){return n.each(arguments,function(i){i!==t&&n.each(i,function(i,o){t[o]&&t[o].constructor&&t[o].constructor===Object?e(t[o],i):t[o]=i})}),t}return e.apply(this,arguments)},n.scaleMerge=function(e,i){var o=n.clone(e);return n.each(i,function(e,s){i.hasOwnProperty(s)&&("xAxes"===s||"yAxes"===s?o.hasOwnProperty(s)?n.each(e,function(e,i){var r=n.getValueOrDefault(e.type,"xAxes"===s?"category":"linear"),a=t.scaleService.getScaleDefaults(r);i>=o[s].length||!o[s][i].type?o[s].push(n.configMerge(a,e)):e.type&&e.type!==o[s][i].type?o[s][i]=n.configMerge(o[s][i],a,e):o[s][i]=n.configMerge(o[s][i],e)}):(o[s]=[],n.each(e,function(e){var i=n.getValueOrDefault(e.type,"xAxes"===s?"category":"linear");o[s].push(n.configMerge(t.scaleService.getScaleDefaults(i),e))})):o.hasOwnProperty(s)&&"object"==typeof o[s]&&null!==o[s]&&"object"==typeof e?o[s]=n.configMerge(o[s],e):o[s]=e)}),o},n.getValueAtIndexOrDefault=function(t,e,i){return void 0===t||null===t?i:n.isArray(t)?e<t.length?t[e]:i:t},n.getValueOrDefault=function(t,e){return void 0===t?e:t},n.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},n.where=function(t,e){var i=[];return n.each(t,function(t){e(t)&&i.push(t)}),i},n.findIndex=function(t,e,i){var o=-1;if(Array.prototype.findIndex)o=t.findIndex(e,i);else for(var n=0;n<t.length;++n)if(i=void 0!==i?i:t,e.call(i,t[n],n,t)){o=n;break}return o},n.findNextWhere=function(t,e,i){void 0!==i&&null!==i||(i=-1);for(var o=i+1;o<t.length;o++){var n=t[o];if(e(n))return n}},n.findPreviousWhere=function(t,e,i){void 0!==i&&null!==i||(i=t.length);for(var o=i-1;o>=0;o--){var n=t[o];if(e(n))return n}},n.inherits=function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},o=function(){this.constructor=i};return o.prototype=e.prototype,i.prototype=new o,i.extend=n.inherits,t&&n.extend(i.prototype,t),i.__super__=e.prototype,i},n.noop=function(){},n.uid=function(){var t=0;return function(){return"chart-"+t++}}(),n.warn=function(t){console&&"function"==typeof console.warn&&console.warn(t)},n.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},n.almostEquals=function(t,e,i){return Math.abs(t-e)<i},n.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},n.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},n.sign=function(t){return Math.sign?Math.sign(t):(t=+t,0===t||isNaN(t)?t:t>0?1:-1)},n.log10=function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10},n.toRadians=function(t){return t*(Math.PI/180)},n.toDegrees=function(t){return t*(180/Math.PI)},n.getAngleFromPoint=function(t,e){var i=e.x-t.x,o=e.y-t.y,n=Math.sqrt(i*i+o*o),s=Math.atan2(o,i);return s<-.5*Math.PI&&(s+=2*Math.PI),{angle:s,distance:n}},n.aliasPixel=function(t){return t%2===0?0:.5},n.splineCurve=function(t,e,i,o){var n=t.skip?e:t,s=e,r=i.skip?e:i,a=Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2)),l=Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2)),h=a/(a+l),c=l/(a+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;var d=o*h,u=o*c;return{previous:{x:s.x-d*(r.x-n.x),y:s.y-d*(r.y-n.y)},next:{x:s.x+u*(r.x-n.x),y:s.y+u*(r.y-n.y)}}},n.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},n.previousItem=function(t,e,i){return i?0>=e?t[t.length-1]:t[e-1]:0>=e?t[0]:t[e-1]},n.niceNum=function(t,e){var i,o=Math.floor(n.log10(t)),s=t/Math.pow(10,o);return i=e?1.5>s?1:3>s?2:7>s?5:10:1>=s?1:2>=s?2:5>=s?5:10,i*Math.pow(10,o)};var s=n.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:1===(t/=1)?1:(i||(i=.3),o<Math.abs(1)?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),-(o*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)))},easeOutElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:1===(t/=1)?1:(i||(i=.3),o<Math.abs(1)?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),o*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:2===(t/=.5)?1:(i||(i=1*(.3*1.5)),o<Math.abs(1)?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),1>t?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)):o*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-s.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*s.easeInBounce(2*t):.5*s.easeOutBounce(2*t-1)+.5}};n.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),n.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),n.getRelativePosition=function(t,e){var i,o,s=t.originalEvent||t,r=t.currentTarget||t.srcElement,a=r.getBoundingClientRect();s.touches&&s.touches.length>0?(i=s.touches[0].clientX,o=s.touches[0].clientY):(i=s.clientX,o=s.clientY);var l=parseFloat(n.getStyle(r,"padding-left")),h=parseFloat(n.getStyle(r,"padding-top")),c=parseFloat(n.getStyle(r,"padding-right")),d=parseFloat(n.getStyle(r,"padding-bottom")),u=a.right-a.left-l-c,f=a.bottom-a.top-h-d;return i=Math.round((i-a.left-l)/u*r.width/e.currentDevicePixelRatio),o=Math.round((o-a.top-h)/f*r.height/e.currentDevicePixelRatio),{x:i,y:o}},n.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},n.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=n.noop},n.bindEvents=function(t,e,i){t.events||(t.events={}),n.each(e,function(e){t.events[e]=function(){i.apply(t,arguments)},n.addEvent(t.chart.canvas,e,t.events[e])})},n.unbindEvents=function(t,e){n.each(e,function(e,i){n.removeEvent(t.chart.canvas,i,e)})},n.getConstraintWidth=function(t){return i(t,"max-width","clientWidth")},n.getConstraintHeight=function(t){return i(t,"max-height","clientHeight")},n.getMaximumWidth=function(t){var e=t.parentNode,i=parseInt(n.getStyle(e,"padding-left"))+parseInt(n.getStyle(e,"padding-right")),o=e.clientWidth-i,s=n.getConstraintWidth(t);return void 0!==s&&(o=Math.min(o,s)),o},n.getMaximumHeight=function(t){var e=t.parentNode,i=parseInt(n.getStyle(e,"padding-top"))+parseInt(n.getStyle(e,"padding-bottom")),o=e.clientHeight-i,s=n.getConstraintHeight(t);return void 0!==s&&(o=Math.min(o,s)),o},n.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},n.retinaScale=function(t){var e=t.ctx,i=t.canvas.width,o=t.canvas.height,n=t.currentDevicePixelRatio=window.devicePixelRatio||1;1!==n&&(e.canvas.height=o*n,e.canvas.width=i*n,e.scale(n,n),t.originalDevicePixelRatio=t.originalDevicePixelRatio||n),e.canvas.style.width=i+"px",e.canvas.style.height=o+"px"},n.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},n.fontString=function(t,e,i){return e+" "+t+"px "+i},n.longestText=function(t,e,i,o){o=o||{},o.data=o.data||{},o.garbageCollect=o.garbageCollect||[],o.font!==e&&(o.data={},o.garbageCollect=[],o.font=e),t.font=e;var s=0;n.each(i,function(e){if(void 0!==e&&null!==e){var i=o.data[e];i||(i=o.data[e]=t.measureText(e).width,o.garbageCollect.push(e)),i>s&&(s=i)}});var r=o.garbageCollect.length/2;if(r>i.length){for(var a=0;r>a;a++)delete o.data[o.garbageCollect[a]];o.garbageCollect.splice(0,r)}return s},n.drawRoundedRectangle=function(t,e,i,o,n,s){t.beginPath(),t.moveTo(e+s,i),t.lineTo(e+o-s,i),t.quadraticCurveTo(e+o,i,e+o,i+s),t.lineTo(e+o,i+n-s),t.quadraticCurveTo(e+o,i+n,e+o-s,i+n),t.lineTo(e+s,i+n),t.quadraticCurveTo(e,i+n,e,i+n-s),t.lineTo(e,i+s),t.quadraticCurveTo(e,i,e+s,i),t.closePath()},n.color=function(e){return o?o(e instanceof CanvasGradient?t.defaults.global.defaultColor:e):(console.log("Color.js not found!"),e)},n.addResizeListener=function(t,e){var i=document.createElement("iframe"),o="chartjs-hidden-iframe";i.classlist?i.classlist.add(o):i.setAttribute("class",o),i.style.width="100%",i.style.display="block",i.style.border=0,i.style.height=0,i.style.margin=0,i.style.position="absolute",i.style.left=0,i.style.right=0,i.style.top=0,i.style.bottom=0,t.insertBefore(i,t.firstChild),(i.contentWindow||i).onresize=function(){e&&e()}},n.removeResizeListener=function(t){var e=t.querySelector(".chartjs-hidden-iframe");e&&e.parentNode.removeChild(e)},n.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},n.pushAllIfDefined=function(t,e){"undefined"!=typeof t&&(n.isArray(t)?e.push.apply(e,t):e.push(t))},n.isDatasetVisible=function(t){return!t.hidden},n.callCallback=function(t,e,i){t&&"function"==typeof t.call&&t.apply(i,e)}}},{"chartjs-color":6}],26:[function(t,e,i){"use strict";e.exports=function(){var t=function(e,i){this.config=i,e.length&&e[0].getContext&&(e=e[0]),e.getContext&&(e=e.getContext("2d")),this.ctx=e,this.canvas=e.canvas,this.width=e.canvas.width||parseInt(t.helpers.getStyle(e.canvas,"width"))||t.helpers.getMaximumWidth(e.canvas),this.height=e.canvas.height||parseInt(t.helpers.getStyle(e.canvas,"height"))||t.helpers.getMaximumHeight(e.canvas),this.aspectRatio=this.width/this.height,(isNaN(this.aspectRatio)||isFinite(this.aspectRatio)===!1)&&(this.aspectRatio=void 0!==i.aspectRatio?i.aspectRatio:2),this.originalCanvasStyleWidth=e.canvas.style.width,this.originalCanvasStyleHeight=e.canvas.style.height,t.helpers.retinaScale(this),i&&(this.controller=new t.Controller(this));var o=this;return t.helpers.addResizeListener(e.canvas.parentNode,function(){o.controller&&o.controller.config.options.responsive&&o.controller.resize()}),this.controller?this.controller:this};return t.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var i=0;i<t.data.datasets.length;i++)e.push('<li><span style="background-color:'+t.data.datasets[i].backgroundColor+'"></span>'),t.data.datasets[i].label&&e.push(t.data.datasets[i].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},t}},{}],27:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(t,i,o){function n(t){var e,i=t.isHorizontal();i?(e=t.update(t.options.fullWidth?g:C,w),_-=e.height):(e=t.update(y,b),C-=e.width),x.push({horizontal:i,minSize:e,box:t})}function s(t){var i=e.findNextWhere(x,function(e){return e.box===t});if(i)if(t.isHorizontal()){var o={left:S,right:k,top:0,bottom:0};t.update(t.options.fullWidth?g:C,m/2,o)}else t.update(i.minSize.width,_)}function r(t){var i=e.findNextWhere(x,function(e){return e.box===t}),o={left:0,right:0,top:T,bottom:R};i&&t.update(i.minSize.width,_,o)}function a(t){t.isHorizontal()?(t.left=t.options.fullWidth?l:S,t.right=t.options.fullWidth?i-l:S+C,t.top=O,t.bottom=O+t.height,O=t.bottom):(t.left=M,t.right=M+t.width,t.top=T,t.bottom=T+_,M=t.right)}if(t){var l=0,h=0,c=e.where(t.boxes,function(t){return"left"===t.options.position}),d=e.where(t.boxes,function(t){return"right"===t.options.position}),u=e.where(t.boxes,function(t){return"top"===t.options.position}),f=e.where(t.boxes,function(t){return"bottom"===t.options.position}),p=e.where(t.boxes,function(t){return"chartArea"===t.options.position});u.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),f.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var g=i-2*l,m=o-2*h,v=g/2,b=m/2,y=(i-v)/(c.length+d.length),w=(o-b)/(u.length+f.length),C=g,_=m,x=[];e.each(c.concat(d,u,f),n);var S=l,k=l,T=h,R=h;e.each(c.concat(d),s),e.each(c,function(t){S+=t.width}),e.each(d,function(t){k+=t.width}),e.each(u.concat(f),s),e.each(u,function(t){T+=t.height}),e.each(f,function(t){R+=t.height}),e.each(c.concat(d),r),S=l,k=l,T=h,R=h,e.each(c,function(t){S+=t.width}),e.each(d,function(t){k+=t.width}),e.each(u,function(t){T+=t.height}),e.each(f,function(t){R+=t.height});var E=o-T-R,D=i-S-k;D===C&&E===_||(e.each(c,function(t){t.height=E}),e.each(d,function(t){t.height=E}),e.each(u,function(t){t.width=D}),e.each(f,function(t){t.width=D}),_=E,C=D);var M=l,O=h;e.each(c.concat(u),a),M+=C,O+=_,e.each(d,a),e.each(f,a),t.chartArea={left:S,top:T,right:S+C,bottom:T+_},e.each(p,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(C,_)})}}}}},{}],28:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var i=this.chart.data.datasets[e.datasetIndex];i.hidden=!i.hidden,this.chart.update()},labels:{boxWidth:40,padding:10,generateLabels:function(t){return e.isArray(t.datasets)?t.datasets.map(function(t,e){return{text:t.label,fillStyle:t.backgroundColor,hidden:t.hidden,lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,datasetIndex:e}},this):[]}}},t.Legend=t.Element.extend({initialize:function(t){e.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:e.noop,update:function(t,e,i){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:e.noop,beforeSetDimensions:e.noop,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:e.noop,beforeBuildLabels:e.noop,buildLabels:function(){this.legendItems=this.options.labels.generateLabels.call(this,this.chart.data),this.options.reverse&&this.legendItems.reverse()},afterBuildLabels:e.noop,beforeFit:e.noop,fit:function(){var i=this.ctx,o=e.getValueOrDefault(this.options.labels.fontSize,t.defaults.global.defaultFontSize),n=e.getValueOrDefault(this.options.labels.fontStyle,t.defaults.global.defaultFontStyle),s=e.getValueOrDefault(this.options.labels.fontFamily,t.defaults.global.defaultFontFamily),r=e.fontString(o,n,s);if(this.legendHitBoxes=[],this.isHorizontal()?this.minSize.width=this.maxWidth:this.minSize.width=this.options.display?10:0,this.isHorizontal()?this.minSize.height=this.options.display?10:0:this.minSize.height=this.maxHeight,this.options.display&&this.isHorizontal()){this.lineWidths=[0];var a=this.legendItems.length?o+this.options.labels.padding:0;i.textAlign="left",i.textBaseline="top",i.font=r,e.each(this.legendItems,function(t,e){var n=this.options.labels.boxWidth+o/2+i.measureText(t.text).width;this.lineWidths[this.lineWidths.length-1]+n+this.options.labels.padding>=this.width&&(a+=o+this.options.labels.padding,this.lineWidths[this.lineWidths.length]=this.left),this.legendHitBoxes[e]={left:0,top:0,width:n,height:o},this.lineWidths[this.lineWidths.length-1]+=n+this.options.labels.padding},this),this.minSize.height+=a}this.width=this.minSize.width,this.height=this.minSize.height},afterFit:e.noop,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){if(this.options.display){var i=this.ctx,o={x:this.left+(this.width-this.lineWidths[0])/2,y:this.top+this.options.labels.padding,line:0},n=e.getValueOrDefault(this.options.labels.fontColor,t.defaults.global.defaultFontColor),s=e.getValueOrDefault(this.options.labels.fontSize,t.defaults.global.defaultFontSize),r=e.getValueOrDefault(this.options.labels.fontStyle,t.defaults.global.defaultFontStyle),a=e.getValueOrDefault(this.options.labels.fontFamily,t.defaults.global.defaultFontFamily),l=e.fontString(s,r,a);this.isHorizontal()&&(i.textAlign="left",i.textBaseline="top",i.lineWidth=.5,i.strokeStyle=n,i.fillStyle=n,i.font=l,e.each(this.legendItems,function(e,n){var r=i.measureText(e.text).width,a=this.options.labels.boxWidth+s/2+r;o.x+a>=this.width&&(o.y+=s+this.options.labels.padding,o.line++,o.x=this.left+(this.width-this.lineWidths[o.line])/2),i.save();var l=function(t,e){return void 0!==t?t:e};i.fillStyle=l(e.fillStyle,t.defaults.global.defaultColor),i.lineCap=l(e.lineCap,t.defaults.global.elements.line.borderCapStyle),i.lineDashOffset=l(e.lineDashOffset,t.defaults.global.elements.line.borderDashOffset),i.lineJoin=l(e.lineJoin,t.defaults.global.elements.line.borderJoinStyle),i.lineWidth=l(e.lineWidth,t.defaults.global.elements.line.borderWidth),i.strokeStyle=l(e.strokeStyle,t.defaults.global.defaultColor),i.setLineDash&&i.setLineDash(l(e.lineDash,t.defaults.global.elements.line.borderDash)),i.strokeRect(o.x,o.y,this.options.labels.boxWidth,s),i.fillRect(o.x,o.y,this.options.labels.boxWidth,s),i.restore(),this.legendHitBoxes[n].left=o.x,this.legendHitBoxes[n].top=o.y,i.fillText(e.text,this.options.labels.boxWidth+s/2+o.x,o.y),e.hidden&&(i.beginPath(),i.lineWidth=2,i.moveTo(this.options.labels.boxWidth+s/2+o.x,o.y+s/2),i.lineTo(this.options.labels.boxWidth+s/2+o.x+r,o.y+s/2),i.stroke()),o.x+=a+this.options.labels.padding},this))}},handleEvent:function(t){var i=e.getRelativePosition(t,this.chart.chart);if(i.x>=this.left&&i.x<=this.right&&i.y>=this.top&&i.y<=this.bottom)for(var o=0;o<this.legendHitBoxes.length;++o){var n=this.legendHitBoxes[o];if(i.x>=n.left&&i.x<=n.left+n.width&&i.y>=n.top&&i.y<=n.top+n.height){this.options.onClick&&this.options.onClick.call(this,t,this.legendItems[o]);break}}}})}},{}],29:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.scale={display:!0,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawOnChartArea:!0,drawTicks:!0,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,callback:function(t){return""+t}}},t.Scale=t.Element.extend({beforeUpdate:function(){e.callCallback(this.options.beforeUpdate,[this])},update:function(t,i,o){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this.margins=e.extend({left:0,right:0,top:0,bottom:0},o),this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){e.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){e.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:function(){e.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){e.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:e.noop,afterDataLimits:function(){e.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){e.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:e.noop,afterBuildTicks:function(){e.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){e.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){this.ticks=this.ticks.map(function(t,e,i){return this.options.ticks.userCallback?this.options.ticks.userCallback(t,e,i):this.options.ticks.callback(t,e,i)},this)},afterTickToLabelConversion:function(){e.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){e.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var i=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),o=e.getValueOrDefault(this.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),n=e.getValueOrDefault(this.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),s=e.fontString(i,o,n);this.ctx.font=s;var r,a=this.ctx.measureText(this.ticks[0]).width,l=this.ctx.measureText(this.ticks[this.ticks.length-1]).width;if(this.labelRotation=0,this.paddingRight=0,this.paddingLeft=0,this.options.display&&this.isHorizontal()){this.paddingRight=l/2+3,this.paddingLeft=a/2+3,this.longestTextCache||(this.longestTextCache={});for(var h,c,d=e.longestText(this.ctx,s,this.ticks,this.longestTextCache),u=d,f=this.getPixelForTick(1)-this.getPixelForTick(0)-6;u>f&&this.labelRotation<this.options.ticks.maxRotation;){if(h=Math.cos(e.toRadians(this.labelRotation)),c=Math.sin(e.toRadians(this.labelRotation)),r=h*a,r+i/2>this.yLabelWidth&&(this.paddingLeft=r+i/2),this.paddingRight=i/2,c*d>this.maxHeight){this.labelRotation--;break}this.labelRotation++,u=h*d}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0))},afterCalculateTickRotation:function(){e.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){e.callCallback(this.options.beforeFit,[this])},fit:function(){this.minSize={width:0,height:0};var i=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),o=e.getValueOrDefault(this.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),n=e.getValueOrDefault(this.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),s=e.fontString(i,o,n),r=e.getValueOrDefault(this.options.scaleLabel.fontSize,t.defaults.global.defaultFontSize),a=e.getValueOrDefault(this.options.scaleLabel.fontStyle,t.defaults.global.defaultFontStyle),l=e.getValueOrDefault(this.options.scaleLabel.fontFamily,t.defaults.global.defaultFontFamily);e.fontString(r,a,l);if(this.isHorizontal()?this.minSize.width=this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:this.minSize.width=this.options.gridLines.display&&this.options.display?10:0,this.isHorizontal()?this.minSize.height=this.options.gridLines.display&&this.options.display?10:0:this.minSize.height=this.maxHeight,this.options.scaleLabel.display&&(this.isHorizontal()?this.minSize.height+=1.5*r:this.minSize.width+=1.5*r),this.options.ticks.display&&this.options.display){this.longestTextCache||(this.longestTextCache={});var h=e.longestText(this.ctx,s,this.ticks,this.longestTextCache);if(this.isHorizontal()){this.longestLabelWidth=h;var c=Math.sin(e.toRadians(this.labelRotation))*this.longestLabelWidth+1.5*i;this.minSize.height=Math.min(this.maxHeight,this.minSize.height+c),this.ctx.font=s;var d=this.ctx.measureText(this.ticks[0]).width,u=this.ctx.measureText(this.ticks[this.ticks.length-1]).width,f=Math.cos(e.toRadians(this.labelRotation)),p=Math.sin(e.toRadians(this.labelRotation));this.paddingLeft=0!==this.labelRotation?f*d+3:d/2+3,this.paddingRight=0!==this.labelRotation?p*(i/2)+3:u/2+3}else{var g=this.maxWidth-this.minSize.width;this.options.ticks.mirror||(h+=this.options.ticks.padding),g>h?this.minSize.width+=h:this.minSize.width=this.maxWidth,this.paddingTop=i/2,this.paddingBottom=i/2}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0)),this.width=this.minSize.width,this.height=this.minSize.height},afterFit:function(){e.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function i(t){return null===t||"undefined"==typeof t?NaN:"number"==typeof t&&isNaN(t)?NaN:"object"==typeof t?t instanceof Date?t:i(this.isHorizontal()?t.x:t.y):t},getLabelForIndex:e.noop,getPixelForValue:e.noop,getPixelForTick:function(t,e){if(this.isHorizontal()){var i=this.width-(this.paddingLeft+this.paddingRight),o=i/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),n=o*t+this.paddingLeft;e&&(n+=o/2);var s=this.left+Math.round(n);return s+=this.isFullWidth()?this.margins.left:0}var r=this.height-(this.paddingTop+this.paddingBottom);return this.top+t*(r/(this.ticks.length-1))},getPixelForDecimal:function(t){if(this.isHorizontal()){var e=this.width-(this.paddingLeft+this.paddingRight),i=e*t+this.paddingLeft,o=this.left+Math.round(i);return o+=this.isFullWidth()?this.margins.left:0}return this.top+t*this.height},draw:function(i){if(this.options.display){var o,n,s,r,a,l=0!==this.labelRotation,h=this.options.ticks.autoSkip;this.options.ticks.maxTicksLimit&&(a=this.options.ticks.maxTicksLimit);var c=e.getValueOrDefault(this.options.ticks.fontColor,t.defaults.global.defaultFontColor),d=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),u=e.getValueOrDefault(this.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),f=e.getValueOrDefault(this.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),p=e.fontString(d,u,f),g=e.getValueOrDefault(this.options.scaleLabel.fontColor,t.defaults.global.defaultFontColor),m=e.getValueOrDefault(this.options.scaleLabel.fontSize,t.defaults.global.defaultFontSize),v=e.getValueOrDefault(this.options.scaleLabel.fontStyle,t.defaults.global.defaultFontStyle),b=e.getValueOrDefault(this.options.scaleLabel.fontFamily,t.defaults.global.defaultFontFamily),y=e.fontString(m,v,b),w=Math.cos(e.toRadians(this.labelRotation)),C=(Math.sin(e.toRadians(this.labelRotation)),this.longestLabelWidth*w);if(this.ctx.fillStyle=c,this.isHorizontal()){o=!0;var _="bottom"===this.options.position?this.top:this.bottom-10,x="bottom"===this.options.position?this.top+10:this.bottom;if(n=!1,(C/2+this.options.ticks.autoSkipPadding)*this.ticks.length>this.width-(this.paddingLeft+this.paddingRight)&&(n=1+Math.floor((C/2+this.options.ticks.autoSkipPadding)*this.ticks.length/(this.width-(this.paddingLeft+this.paddingRight)))),a&&this.ticks.length>a)for(;!n||this.ticks.length/(n||1)>a;)n||(n=1),n+=1;h||(n=!1),e.each(this.ticks,function(t,s){var r=this.ticks.length===s+1,a=n>1&&s%n>0||s%n===0&&s+n>this.ticks.length;if((!a||r)&&void 0!==t&&null!==t){var h=this.getPixelForTick(s),c=this.getPixelForTick(s,this.options.gridLines.offsetGridLines);this.options.gridLines.display&&(s===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,o=!0):o&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,o=!1),h+=e.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(h,_),this.ctx.lineTo(h,x)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(h,i.top),this.ctx.lineTo(h,i.bottom)),this.ctx.stroke()),this.options.ticks.display&&(this.ctx.save(),this.ctx.translate(c,l?this.top+12:"top"===this.options.position?this.bottom-10:this.top+10),this.ctx.rotate(-1*e.toRadians(this.labelRotation)),this.ctx.font=p,this.ctx.textAlign=l?"right":"center",this.ctx.textBaseline=l?"middle":"top"===this.options.position?"bottom":"top",this.ctx.fillText(t,0,0),this.ctx.restore())}},this),this.options.scaleLabel.display&&(this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle=g,this.ctx.font=y,s=this.left+(this.right-this.left)/2,r="bottom"===this.options.position?this.bottom-m/2:this.top+m/2,this.ctx.fillText(this.options.scaleLabel.labelString,s,r))}else{o=!0;var S="right"===this.options.position?this.left:this.right-5,k="right"===this.options.position?this.left+5:this.right;if(e.each(this.ticks,function(t,n){if(void 0!==t&&null!==t){var s=this.getPixelForTick(n);if(this.options.gridLines.display&&(n===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,o=!0):o&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,o=!1),s+=e.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(S,s),this.ctx.lineTo(k,s)),
this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(i.left,s),this.ctx.lineTo(i.right,s)),this.ctx.stroke()),this.options.ticks.display){var r,a=this.getPixelForTick(n,this.options.gridLines.offsetGridLines);this.ctx.save(),"left"===this.options.position?this.options.ticks.mirror?(r=this.right+this.options.ticks.padding,this.ctx.textAlign="left"):(r=this.right-this.options.ticks.padding,this.ctx.textAlign="right"):this.options.ticks.mirror?(r=this.left-this.options.ticks.padding,this.ctx.textAlign="right"):(r=this.left+this.options.ticks.padding,this.ctx.textAlign="left"),this.ctx.translate(r,a),this.ctx.rotate(-1*e.toRadians(this.labelRotation)),this.ctx.font=p,this.ctx.textBaseline="middle",this.ctx.fillText(t,0,0),this.ctx.restore()}}},this),this.options.scaleLabel.display){s="left"===this.options.position?this.left+m/2:this.right-m/2,r=this.top+(this.bottom-this.top)/2;var T="left"===this.options.position?-.5*Math.PI:.5*Math.PI;this.ctx.save(),this.ctx.translate(s,r),this.ctx.rotate(T),this.ctx.textAlign="center",this.ctx.fillStyle=g,this.ctx.font=y,this.ctx.textBaseline="middle",this.ctx.fillText(this.options.scaleLabel.labelString,0,0),this.ctx.restore()}}this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color;var R=this.left,E=this.right,D=this.top,M=this.bottom;this.isHorizontal()?(D=M="top"===this.options.position?this.bottom:this.top,D+=e.aliasPixel(this.ctx.lineWidth),M+=e.aliasPixel(this.ctx.lineWidth)):(R=E="left"===this.options.position?this.right:this.left,R+=e.aliasPixel(this.ctx.lineWidth),E+=e.aliasPixel(this.ctx.lineWidth)),this.ctx.beginPath(),this.ctx.moveTo(R,D),this.ctx.lineTo(E,M),this.ctx.stroke()}}})}},{}],30:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,i,o){this.constructors[t]=i,this.defaults[t]=e.clone(o)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(i){return this.defaults.hasOwnProperty(i)?e.scaleMerge(t.defaults.scale,this.defaults[i]):{}},addScalesToLayout:function(i){e.each(i.scales,function(e){t.layoutService.addBox(i,e)})}}}},{}],31:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""},t.Title=t.Element.extend({initialize:function(i){e.extend(this,i),this.options=e.configMerge(t.defaults.global.title,i.options),this.legendHitBoxes=[]},beforeUpdate:e.noop,update:function(t,e,i){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:e.noop,beforeSetDimensions:e.noop,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:e.noop,beforeBuildLabels:e.noop,buildLabels:e.noop,afterBuildLabels:e.noop,beforeFit:e.noop,fit:function(){var i=(this.ctx,e.getValueOrDefault(this.options.fontSize,t.defaults.global.defaultFontSize)),o=e.getValueOrDefault(this.options.fontStyle,t.defaults.global.defaultFontStyle),n=e.getValueOrDefault(this.options.fontFamily,t.defaults.global.defaultFontFamily);e.fontString(i,o,n);this.isHorizontal()?this.minSize.width=this.maxWidth:this.minSize.width=0,this.isHorizontal()?this.minSize.height=0:this.minSize.height=this.maxHeight,this.isHorizontal()?this.options.display&&(this.minSize.height+=i+2*this.options.padding):this.options.display&&(this.minSize.width+=i+2*this.options.padding),this.width=this.minSize.width,this.height=this.minSize.height},afterFit:e.noop,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){if(this.options.display){var i,o,n=this.ctx,s=e.getValueOrDefault(this.options.fontColor,t.defaults.global.defaultFontColor),r=e.getValueOrDefault(this.options.fontSize,t.defaults.global.defaultFontSize),a=e.getValueOrDefault(this.options.fontStyle,t.defaults.global.defaultFontStyle),l=e.getValueOrDefault(this.options.fontFamily,t.defaults.global.defaultFontFamily),h=e.fontString(r,a,l);if(n.fillStyle=s,n.font=h,this.isHorizontal())n.textAlign="center",n.textBaseline="middle",i=this.left+(this.right-this.left)/2,o=this.top+(this.bottom-this.top)/2,n.fillText(this.options.text,i,o);else{i="left"===this.options.position?this.left+r/2:this.right-r/2,o=this.top+(this.bottom-this.top)/2;var c="left"===this.options.position?-.5*Math.PI:.5*Math.PI;n.save(),n.translate(i,o),n.rotate(c),n.textAlign="center",n.textBaseline="middle",n.fillText(this.options.text,0,0),n.restore()}}}})}},{}],32:[function(t,e,i){"use strict";e.exports=function(t){function e(t,e){return e&&(i.isArray(e)?t=t.concat(e):t.push(e)),t}var i=t.helpers;t.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleColor:"#fff",titleAlign:"left",bodySpacing:2,bodyColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:i.noop,title:function(t,e){var i="";return t.length>0&&(t[0].xLabel?i=t[0].xLabel:e.labels.length>0&&t[0].index<e.labels.length&&(i=e.labels[t[0].index])),i},afterTitle:i.noop,beforeBody:i.noop,beforeLabel:i.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i+": "+t.yLabel},afterLabel:i.noop,afterBody:i.noop,beforeFooter:i.noop,footer:i.noop,afterFooter:i.noop}},t.Tooltip=t.Element.extend({initialize:function(){var e=this._options;i.extend(this,{_model:{xPadding:e.tooltips.xPadding,yPadding:e.tooltips.yPadding,xAlign:e.tooltips.yAlign,yAlign:e.tooltips.xAlign,bodyColor:e.tooltips.bodyColor,_bodyFontFamily:i.getValueOrDefault(e.tooltips.bodyFontFamily,t.defaults.global.defaultFontFamily),_bodyFontStyle:i.getValueOrDefault(e.tooltips.bodyFontStyle,t.defaults.global.defaultFontStyle),_bodyAlign:e.tooltips.bodyAlign,bodyFontSize:i.getValueOrDefault(e.tooltips.bodyFontSize,t.defaults.global.defaultFontSize),bodySpacing:e.tooltips.bodySpacing,titleColor:e.tooltips.titleColor,_titleFontFamily:i.getValueOrDefault(e.tooltips.titleFontFamily,t.defaults.global.defaultFontFamily),_titleFontStyle:i.getValueOrDefault(e.tooltips.titleFontStyle,t.defaults.global.defaultFontStyle),titleFontSize:i.getValueOrDefault(e.tooltips.titleFontSize,t.defaults.global.defaultFontSize),_titleAlign:e.tooltips.titleAlign,titleSpacing:e.tooltips.titleSpacing,titleMarginBottom:e.tooltips.titleMarginBottom,footerColor:e.tooltips.footerColor,_footerFontFamily:i.getValueOrDefault(e.tooltips.footerFontFamily,t.defaults.global.defaultFontFamily),_footerFontStyle:i.getValueOrDefault(e.tooltips.footerFontStyle,t.defaults.global.defaultFontStyle),footerFontSize:i.getValueOrDefault(e.tooltips.footerFontSize,t.defaults.global.defaultFontSize),_footerAlign:e.tooltips.footerAlign,footerSpacing:e.tooltips.footerSpacing,footerMarginTop:e.tooltips.footerMarginTop,caretSize:e.tooltips.caretSize,cornerRadius:e.tooltips.cornerRadius,backgroundColor:e.tooltips.backgroundColor,opacity:0,legendColorBackground:e.tooltips.multiKeyBackground}})},getTitle:function(){var t=this._options.tooltips.callbacks.beforeTitle.apply(this,arguments),i=this._options.tooltips.callbacks.title.apply(this,arguments),o=this._options.tooltips.callbacks.afterTitle.apply(this,arguments),n=[];return n=e(n,t),n=e(n,i),n=e(n,o)},getBeforeBody:function(){var t=this._options.tooltips.callbacks.beforeBody.apply(this,arguments);return i.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,e){var o=[];return i.each(t,function(t){i.pushAllIfDefined(this._options.tooltips.callbacks.beforeLabel.call(this,t,e),o),i.pushAllIfDefined(this._options.tooltips.callbacks.label.call(this,t,e),o),i.pushAllIfDefined(this._options.tooltips.callbacks.afterLabel.call(this,t,e),o)},this),o},getAfterBody:function(){var t=this._options.tooltips.callbacks.afterBody.apply(this,arguments);return i.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this._options.tooltips.callbacks.beforeFooter.apply(this,arguments),i=this._options.tooltips.callbacks.footer.apply(this,arguments),o=this._options.tooltips.callbacks.afterFooter.apply(this,arguments),n=[];return n=e(n,t),n=e(n,i),n=e(n,o)},getAveragePosition:function(t){if(!t.length)return!1;var e=[],o=[];i.each(t,function(t){if(t){var i=t.tooltipPosition();e.push(i.x),o.push(i.y)}});for(var n=0,s=0,r=0;r<e.length;r++)n+=e[r],s+=o[r];return{x:Math.round(n/e.length),y:Math.round(s/e.length)}},update:function(t){if(this._active.length){this._model.opacity=1;var e,o=this._active[0],n=[],s=[];if("single"===this._options.tooltips.mode){var r=o._yScale||o._scale;s.push({xLabel:o._xScale?o._xScale.getLabelForIndex(o._index,o._datasetIndex):"",yLabel:r?r.getLabelForIndex(o._index,o._datasetIndex):"",index:o._index,datasetIndex:o._datasetIndex}),e=this.getAveragePosition(this._active)}else i.each(this._data.datasets,function(t,e){if(i.isDatasetVisible(t)){var n=t.metaData[o._index];if(n){var r=o._yScale||o._scale;s.push({xLabel:n._xScale?n._xScale.getLabelForIndex(n._index,n._datasetIndex):"",yLabel:r?r.getLabelForIndex(n._index,n._datasetIndex):"",index:o._index,datasetIndex:e})}}},null,o._yScale.options.stacked),i.each(this._active,function(t){t&&n.push({borderColor:t._view.borderColor,backgroundColor:t._view.backgroundColor})},null,o._yScale.options.stacked),e=this.getAveragePosition(this._active),e.y=this._active[0]._yScale.getPixelForDecimal(.5);i.extend(this._model,{title:this.getTitle(s,this._data),beforeBody:this.getBeforeBody(s,this._data),body:this.getBody(s,this._data),afterBody:this.getAfterBody(s,this._data),footer:this.getFooter(s,this._data)}),i.extend(this._model,{x:Math.round(e.x),y:Math.round(e.y),caretPadding:i.getValueOrDefault(e.padding,2),labelColors:n});var a=this.getTooltipSize(this._model);this.determineAlignment(a),i.extend(this._model,this.getBackgroundPoint(this._model,a))}else this._model.opacity=0;return t&&this._options.tooltips.custom&&this._options.tooltips.custom.call(this,this._model),this},getTooltipSize:function(t){var e=this._chart.ctx,o={height:2*t.yPadding,width:0},n=t.body.length+t.beforeBody.length+t.afterBody.length;return o.height+=t.title.length*t.titleFontSize,o.height+=(t.title.length-1)*t.titleSpacing,o.height+=t.title.length?t.titleMarginBottom:0,o.height+=n*t.bodyFontSize,o.height+=n?(n-1)*t.bodySpacing:0,o.height+=t.footer.length?t.footerMarginTop:0,o.height+=t.footer.length*t.footerFontSize,o.height+=t.footer.length?(t.footer.length-1)*t.footerSpacing:0,e.font=i.fontString(t.titleFontSize,t._titleFontStyle,t._titleFontFamily),i.each(t.title,function(t){o.width=Math.max(o.width,e.measureText(t).width)}),e.font=i.fontString(t.bodyFontSize,t._bodyFontStyle,t._bodyFontFamily),i.each(t.beforeBody.concat(t.afterBody),function(t){o.width=Math.max(o.width,e.measureText(t).width)}),i.each(t.body,function(i){o.width=Math.max(o.width,e.measureText(i).width+("single"!==this._options.tooltips.mode?t.bodyFontSize+2:0))},this),e.font=i.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),i.each(t.footer,function(t){o.width=Math.max(o.width,e.measureText(t).width)}),o.width+=2*t.xPadding,o},determineAlignment:function(t){this._model.y<t.height?this._model.yAlign="top":this._model.y>this._chart.height-t.height&&(this._model.yAlign="bottom");var e,i,o,n,s,r=this,a=(this._chartInstance.chartArea.left+this._chartInstance.chartArea.right)/2,l=(this._chartInstance.chartArea.top+this._chartInstance.chartArea.bottom)/2;"center"===this._model.yAlign?(e=function(t){return a>=t},i=function(t){return t>a}):(e=function(e){return e<=t.width/2},i=function(e){return e>=r._chart.width-t.width/2}),o=function(e){return e+t.width>r._chart.width},n=function(e){return e-t.width<0},s=function(t){return l>=t?"top":"bottom"},e(this._model.x)?(this._model.xAlign="left",o(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=s(this._model.y))):i(this._model.x)&&(this._model.xAlign="right",n(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=s(this._model.y)))},getBackgroundPoint:function(t,e){var i={x:t.x,y:t.y};return"right"===t.xAlign?i.x-=e.width:"center"===t.xAlign&&(i.x-=e.width/2),"top"===t.yAlign?i.y+=t.caretPadding+t.caretSize:"bottom"===t.yAlign?i.y-=e.height+t.caretPadding+t.caretSize:i.y-=e.height/2,"center"===t.yAlign?"left"===t.xAlign?i.x+=t.caretPadding+t.caretSize:"right"===t.xAlign&&(i.x-=t.caretPadding+t.caretSize):"left"===t.xAlign?i.x-=t.cornerRadius+t.caretPadding:"right"===t.xAlign&&(i.x+=t.cornerRadius+t.caretPadding),i},drawCaret:function(t,e,o,n){var s,r,a,l,h,c,d=this._view,u=this._chart.ctx;"center"===d.yAlign?("left"===d.xAlign?(s=t.x,r=s-d.caretSize,a=s):(s=t.x+e.width,r=s+d.caretSize,a=s),h=t.y+e.height/2,l=h-d.caretSize,c=h+d.caretSize):("left"===d.xAlign?(s=t.x+d.cornerRadius,r=s+d.caretSize,a=r+d.caretSize):"right"===d.xAlign?(s=t.x+e.width-d.cornerRadius,r=s-d.caretSize,a=r-d.caretSize):(r=t.x+e.width/2,s=r-d.caretSize,a=r+d.caretSize),"top"===d.yAlign?(l=t.y,h=l-d.caretSize,c=l):(l=t.y+e.height,h=l+d.caretSize,c=l));var f=i.color(d.backgroundColor);u.fillStyle=f.alpha(o*f.alpha()).rgbString(),u.beginPath(),u.moveTo(s,l),u.lineTo(r,h),u.lineTo(a,c),u.closePath(),u.fill()},drawTitle:function(t,e,o,n){if(e.title.length){o.textAlign=e._titleAlign,o.textBaseline="top";var s=i.color(e.titleColor);o.fillStyle=s.alpha(n*s.alpha()).rgbString(),o.font=i.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),i.each(e.title,function(i,n){o.fillText(i,t.x,t.y),t.y+=e.titleFontSize+e.titleSpacing,n+1===e.title.length&&(t.y+=e.titleMarginBottom-e.titleSpacing)})}},drawBody:function(t,e,o,n){o.textAlign=e._bodyAlign,o.textBaseline="top";var s=i.color(e.bodyColor);o.fillStyle=s.alpha(n*s.alpha()).rgbString(),o.font=i.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),i.each(e.beforeBody,function(i){o.fillText(i,t.x,t.y),t.y+=e.bodyFontSize+e.bodySpacing}),i.each(e.body,function(s,r){"single"!==this._options.tooltips.mode&&(o.fillStyle=i.color(e.legendColorBackground).alpha(n).rgbaString(),o.fillRect(t.x,t.y,e.bodyFontSize,e.bodyFontSize),o.strokeStyle=i.color(e.labelColors[r].borderColor).alpha(n).rgbaString(),o.strokeRect(t.x,t.y,e.bodyFontSize,e.bodyFontSize),o.fillStyle=i.color(e.labelColors[r].backgroundColor).alpha(n).rgbaString(),o.fillRect(t.x+1,t.y+1,e.bodyFontSize-2,e.bodyFontSize-2),o.fillStyle=i.color(e.bodyColor).alpha(n).rgbaString()),o.fillText(s,t.x+("single"!==this._options.tooltips.mode?e.bodyFontSize+2:0),t.y),t.y+=e.bodyFontSize+e.bodySpacing},this),i.each(e.afterBody,function(i){o.fillText(i,t.x,t.y),t.y+=e.bodyFontSize}),t.y-=e.bodySpacing},drawFooter:function(t,e,o,n){if(e.footer.length){t.y+=e.footerMarginTop,o.textAlign=e._footerAlign,o.textBaseline="top";var s=i.color(e.footerColor);o.fillStyle=s.alpha(n*s.alpha()).rgbString(),o.font=i.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),i.each(e.footer,function(i){o.fillText(i,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing})}},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var o=e.caretPadding,n=this.getTooltipSize(e),s={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity;if(this._options.tooltips.enabled){var a=i.color(e.backgroundColor);t.fillStyle=a.alpha(r*a.alpha()).rgbString(),i.drawRoundedRectangle(t,s.x,s.y,n.width,n.height,e.cornerRadius),t.fill(),this.drawCaret(s,n,r,o),s.x+=e.xPadding,s.y+=e.yPadding,this.drawTitle(s,e,t,r),this.drawBody(s,e,t,r),this.drawFooter(s,e,t,r)}}}})}},{}],33:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.helpers;t.defaults.global.elements.arc={backgroundColor:t.defaults.global.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2):!1},inRange:function(t,e){var o=this._view;if(o){for(var n=i.getAngleFromPoint(o,{x:t,y:e}),s=o.startAngle,r=o.endAngle;s>r;)r+=2*Math.PI;for(;n.angle>r;)n.angle-=2*Math.PI;for(;n.angle<s;)n.angle+=2*Math.PI;var a=n.angle>=s&&n.angle<=r,l=n.distance>=o.innerRadius&&n.distance<=o.outerRadius;return a&&l}return!1},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t=this._chart.ctx,e=this._view;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,e.startAngle,e.endAngle),t.arc(e.x,e.y,e.innerRadius,e.endAngle,e.startAngle,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],34:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.elements.line={tension:.4,backgroundColor:t.defaults.global.defaultColor,borderWidth:3,borderColor:t.defaults.global.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},t.elements.Line=t.Element.extend({lineToNextPoint:function(t,e,i,o,n){var s=this._chart.ctx;e._view.skip?o.call(this,t,e,i):t._view.skip?n.call(this,t,e,i):0===e._view.tension?s.lineTo(e._view.x,e._view.y):s.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,e._view.controlPointPreviousX,e._view.controlPointPreviousY,e._view.x,e._view.y)},draw:function(){function i(t){r._view.skip||a._view.skip?t&&s.lineTo(o._view.scaleZero.x,o._view.scaleZero.y):s.bezierCurveTo(a._view.controlPointNextX,a._view.controlPointNextY,r._view.controlPointPreviousX,r._view.controlPointPreviousY,r._view.x,r._view.y)}var o=this,n=this._view,s=this._chart.ctx,r=this._children[0],a=this._children[this._children.length-1];s.save(),this._children.length>0&&n.fill&&(s.beginPath(),e.each(this._children,function(t,i){var o=e.previousItem(this._children,i),r=e.nextItem(this._children,i);0===i?(this._loop?s.moveTo(n.scaleZero.x,n.scaleZero.y):s.moveTo(t._view.x,n.scaleZero),t._view.skip?this._loop||s.moveTo(r._view.x,this._view.scaleZero):s.lineTo(t._view.x,t._view.y)):this.lineToNextPoint(o,t,r,function(t,e,i){this._loop?s.lineTo(this._view.scaleZero.x,this._view.scaleZero.y):(s.lineTo(t._view.x,this._view.scaleZero),s.moveTo(i._view.x,this._view.scaleZero))},function(t,e){s.lineTo(e._view.x,e._view.y)})},this),this._loop?i(!0):(s.lineTo(this._children[this._children.length-1]._view.x,n.scaleZero),s.lineTo(this._children[0]._view.x,n.scaleZero)),s.fillStyle=n.backgroundColor||t.defaults.global.defaultColor,s.closePath(),s.fill()),s.lineCap=n.borderCapStyle||t.defaults.global.elements.line.borderCapStyle,s.setLineDash&&s.setLineDash(n.borderDash||t.defaults.global.elements.line.borderDash),s.lineDashOffset=n.borderDashOffset||t.defaults.global.elements.line.borderDashOffset,s.lineJoin=n.borderJoinStyle||t.defaults.global.elements.line.borderJoinStyle,s.lineWidth=n.borderWidth||t.defaults.global.elements.line.borderWidth,s.strokeStyle=n.borderColor||t.defaults.global.defaultColor,s.beginPath(),e.each(this._children,function(t,i){var o=e.previousItem(this._children,i),n=e.nextItem(this._children,i);0===i?s.moveTo(t._view.x,t._view.y):this.lineToNextPoint(o,t,n,function(t,e,i){s.moveTo(i._view.x,i._view.y)},function(t,e){s.moveTo(e._view.x,e._view.y)})},this),this._loop&&this._children.length>0&&i(),s.stroke(),s.restore()}})}},{}],35:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.elements.point={radius:3,pointStyle:"circle",backgroundColor:t.defaults.global.defaultColor,borderWidth:1,borderColor:t.defaults.global.defaultColor,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(t,e){var i=this._view;if(i){var o=i.hitRadius+i.radius;return Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(o,2)}return!1},inLabelRange:function(t){var e=this._view;return e?Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2):!1},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(){var i=this._view,o=this._chart.ctx;if(!i.skip){if("object"==typeof i.pointStyle&&("[object HTMLImageElement]"===i.pointStyle.toString()||"[object HTMLCanvasElement]"===i.pointStyle.toString()))return void o.drawImage(i.pointStyle,i.x-i.pointStyle.width/2,i.y-i.pointStyle.height/2);if(!isNaN(i.radius)&&i.radius>0){o.strokeStyle=i.borderColor||t.defaults.global.defaultColor,o.lineWidth=e.getValueOrDefault(i.borderWidth,t.defaults.global.elements.point.borderWidth),o.fillStyle=i.backgroundColor||t.defaults.global.defaultColor;var n,s,r=i.radius;switch(i.pointStyle){default:o.beginPath(),o.arc(i.x,i.y,r,0,2*Math.PI),o.closePath(),o.fill();break;case"triangle":o.beginPath();var a=3*r/Math.sqrt(3),l=a*Math.sqrt(3)/2;o.moveTo(i.x-a/2,i.y+l/3),o.lineTo(i.x+a/2,i.y+l/3),o.lineTo(i.x,i.y-2*l/3),o.closePath(),o.fill();break;case"rect":o.fillRect(i.x-1/Math.SQRT2*r,i.y-1/Math.SQRT2*r,2/Math.SQRT2*r,2/Math.SQRT2*r),o.strokeRect(i.x-1/Math.SQRT2*r,i.y-1/Math.SQRT2*r,2/Math.SQRT2*r,2/Math.SQRT2*r);break;case"rectRot":o.translate(i.x,i.y),o.rotate(Math.PI/4),o.fillRect(-1/Math.SQRT2*r,-1/Math.SQRT2*r,2/Math.SQRT2*r,2/Math.SQRT2*r),o.strokeRect(-1/Math.SQRT2*r,-1/Math.SQRT2*r,2/Math.SQRT2*r,2/Math.SQRT2*r),o.setTransform(1,0,0,1,0,0);break;case"cross":o.beginPath(),o.moveTo(i.x,i.y+r),o.lineTo(i.x,i.y-r),o.moveTo(i.x-r,i.y),o.lineTo(i.x+r,i.y),o.closePath();break;case"crossRot":o.beginPath(),n=Math.cos(Math.PI/4)*r,s=Math.sin(Math.PI/4)*r,o.moveTo(i.x-n,i.y-s),o.lineTo(i.x+n,i.y+s),o.moveTo(i.x-n,i.y+s),o.lineTo(i.x+n,i.y-s),o.closePath();break;case"star":o.beginPath(),o.moveTo(i.x,i.y+r),o.lineTo(i.x,i.y-r),o.moveTo(i.x-r,i.y),o.lineTo(i.x+r,i.y),n=Math.cos(Math.PI/4)*r,s=Math.sin(Math.PI/4)*r,o.moveTo(i.x-n,i.y-s),o.lineTo(i.x+n,i.y+s),o.moveTo(i.x-n,i.y+s),o.lineTo(i.x+n,i.y-s),o.closePath();break;case"line":o.beginPath(),o.moveTo(i.x-r,i.y),o.lineTo(i.x+r,i.y),o.closePath();break;case"dash":o.beginPath(),o.moveTo(i.x,i.y),o.lineTo(i.x+r,i.y),o.closePath()}o.stroke()}}}})}},{}],36:[function(t,e,i){"use strict";e.exports=function(t){t.helpers;t.defaults.global.elements.rectangle={backgroundColor:t.defaults.global.defaultColor,borderWidth:0,borderColor:t.defaults.global.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return l[(c+t)%4]}var e=this._chart.ctx,i=this._view,o=i.width/2,n=i.x-o,s=i.x+o,r=i.base-(i.base-i.y),a=i.borderWidth/2;i.borderWidth&&(n+=a,s-=a,r+=a),e.beginPath(),e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth;var l=[[n,i.base],[n,r],[s,r],[s,i.base]],h=["bottom","left","top","right"],c=h.indexOf(i.borderSkipped,0);-1===c&&(c=0),e.moveTo.apply(e,t(0));for(var d=1;4>d;d++)e.lineTo.apply(e,t(d));e.fill(),i.borderWidth&&e.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var i=this._view,o=!1;return i&&(o=i.y<i.base?t>=i.x-i.width/2&&t<=i.x+i.width/2&&e>=i.y&&e<=i.base:t>=i.x-i.width/2&&t<=i.x+i.width/2&&e>=i.base&&e<=i.y),o},inLabelRange:function(t){var e=this._view;return e?t>=e.x-e.width/2&&t<=e.x+e.width/2:!1},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],37:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={position:"bottom"},o=t.Scale.extend({buildTicks:function(t){this.startIndex=0,this.endIndex=this.chart.data.labels.length;var i;void 0!==this.options.ticks.min&&(i=e.indexOf(this.chart.data.labels,this.options.ticks.min),this.startIndex=-1!==i?i:this.startIndex),void 0!==this.options.ticks.max&&(i=e.indexOf(this.chart.data.labels,this.options.ticks.max),this.endIndex=-1!==i?i:this.endIndex),this.ticks=0===this.startIndex&&this.endIndex===this.chart.data.labels.length?this.chart.data.labels:this.chart.data.labels.slice(this.startIndex,this.endIndex+1)},getLabelForIndex:function(t,e){return this.ticks[t]},getPixelForValue:function(t,e,i,o){var n=Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1);if(this.isHorizontal()){var s=this.width-(this.paddingLeft+this.paddingRight),r=s/n,a=r*(e-this.startIndex)+this.paddingLeft;return this.options.gridLines.offsetGridLines&&o&&(a+=r/2),this.left+Math.round(a)}var l=this.height-(this.paddingTop+this.paddingBottom),h=l/n,c=h*(e-this.startIndex)+this.paddingTop;return this.options.gridLines.offsetGridLines&&o&&(c+=h/2),this.top+Math.round(c)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.startIndex,null,e)}});t.scaleService.registerScaleType("category",o,i)}},{}],38:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={position:"left",ticks:{callback:function(t,i,o){var n=o[1]-o[0];Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));var s=e.log10(Math.abs(n)),r="";if(0!==t){var a=-1*Math.floor(s);a=Math.max(Math.min(a,20),0),r=t.toFixed(a)}else r="0";return r}}},o=t.Scale.extend({determineDataLimits:function(){if(this.min=null,this.max=null,this.options.stacked){var t={},i=!1,o=!1;e.each(this.chart.data.datasets,function(n){void 0===t[n.type]&&(t[n.type]={positiveValues:[],negativeValues:[]});var s=t[n.type].positiveValues,r=t[n.type].negativeValues;e.isDatasetVisible(n)&&(this.isHorizontal()?n.xAxisID===this.id:n.yAxisID===this.id)&&e.each(n.data,function(t,e){var n=+this.getRightValue(t);isNaN(n)||(s[e]=s[e]||0,r[e]=r[e]||0,this.options.relativePoints?s[e]=100:0>n?(o=!0,r[e]+=n):(i=!0,s[e]+=n))},this)},this),e.each(t,function(t){var i=t.positiveValues.concat(t.negativeValues),o=e.min(i),n=e.max(i);this.min=null===this.min?o:Math.min(this.min,o),this.max=null===this.max?n:Math.max(this.max,n)},this)}else e.each(this.chart.data.datasets,function(t){e.isDatasetVisible(t)&&(this.isHorizontal()?t.xAxisID===this.id:t.yAxisID===this.id)&&e.each(t.data,function(t,e){var i=+this.getRightValue(t);isNaN(i)||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this);if(this.options.ticks.beginAtZero){var n=e.sign(this.min),s=e.sign(this.max);0>n&&0>s?this.max=0:n>0&&s>0&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++)},buildTicks:function(){this.ticks=[];var i;if(this.isHorizontal())i=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.width/50));else{var o=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize);i=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.height/(2*o)))}i=Math.max(2,i);var n,s=this.options.ticks.fixedStepSize&&this.options.ticks.fixedStepSize>0||this.options.ticks.stepSize&&this.options.ticks.stepSize>0;if(s)n=e.getValueOrDefault(this.options.ticks.fixedStepSize,this.options.ticks.stepSize);else{var r=e.niceNum(this.max-this.min,!1);n=e.niceNum(r/(i-1),!0)}var a=Math.floor(this.min/n)*n,l=Math.ceil(this.max/n)*n,h=(l-a)/n;h=e.almostEquals(h,Math.round(h),n/1e3)?Math.round(h):Math.ceil(h),this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:a);for(var c=1;h>c;++c)this.ticks.push(a+c*n);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:l),"left"!==this.options.position&&"right"!==this.options.position||this.ticks.reverse(),this.max=e.max(this.ticks),this.min=e.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice(),this.zeroLineIndex=this.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(this)},getPixelForValue:function(t,e,i,o){var n,s=+this.getRightValue(t),r=this.end-this.start;if(this.isHorizontal()){var a=this.width-(this.paddingLeft+this.paddingRight);return n=this.left+a/r*(s-this.start),Math.round(n+this.paddingLeft)}var l=this.height-(this.paddingTop+this.paddingBottom);return n=this.bottom-this.paddingBottom-l/r*(s-this.start),Math.round(n)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticksAsNumbers[t],null,null,e)}});t.scaleService.registerScaleType("linear",o,i)}},{}],39:[function(t,e,i){"use strict";e.exports=function(t){var e=t.helpers,i={position:"left",ticks:{callback:function(e,i,o){var n=e/Math.pow(10,Math.floor(t.helpers.log10(e)));return 1===n||2===n||5===n||0===i||i===o.length-1?e.toExponential():""}}},o=t.Scale.extend({determineDataLimits:function(){if(this.min=null,this.max=null,this.options.stacked){var t={};e.each(this.chart.data.datasets,function(i){e.isDatasetVisible(i)&&(this.isHorizontal()?i.xAxisID===this.id:i.yAxisID===this.id)&&(void 0===t[i.type]&&(t[i.type]=[]),e.each(i.data,function(e,o){var n=t[i.type],s=+this.getRightValue(e);isNaN(s)||(n[o]=n[o]||0,this.options.relativePoints?n[o]=100:n[o]+=s)},this))},this),e.each(t,function(t){var i=e.min(t),o=e.max(t);this.min=null===this.min?i:Math.min(this.min,i),this.max=null===this.max?o:Math.max(this.max,o)},this)}else e.each(this.chart.data.datasets,function(t){e.isDatasetVisible(t)&&(this.isHorizontal()?t.xAxisID===this.id:t.yAxisID===this.id)&&e.each(t.data,function(t,e){var i=+this.getRightValue(t);isNaN(i)||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this);this.min=void 0!==this.options.ticks.min?this.options.ticks.min:this.min,this.max=void 0!==this.options.ticks.max?this.options.ticks.max:this.max,this.min===this.max&&(0!==this.min&&null!==this.min?(this.min=Math.pow(10,Math.floor(e.log10(this.min))-1),this.max=Math.pow(10,Math.floor(e.log10(this.max))+1)):(this.min=1,this.max=10))},buildTicks:function(){this.ticks=[];for(var t=void 0!==this.options.ticks.min?this.options.ticks.min:Math.pow(10,Math.floor(e.log10(this.min)));t<this.max;){this.ticks.push(t);var i=Math.floor(e.log10(t)),o=Math.floor(t/Math.pow(10,i))+1;10===o&&(o=1,++i),t=o*Math.pow(10,i)}var n=void 0!==this.options.ticks.max?this.options.ticks.max:t;this.ticks.push(n),"left"!==this.options.position&&"right"!==this.options.position||this.ticks.reverse(),this.max=e.max(this.ticks),this.min=e.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickValues[t],null,null,e)},getPixelForValue:function(t,i,o,n){var s,r=+this.getRightValue(t),a=e.log10(this.end)-e.log10(this.start);if(this.isHorizontal())if(0===r)s=this.left+this.paddingLeft;else{var l=this.width-(this.paddingLeft+this.paddingRight);s=this.left+l/a*(e.log10(r)-e.log10(this.start)),s+=this.paddingLeft}else if(0===r)s=this.top+this.paddingTop;else{var h=this.height-(this.paddingTop+this.paddingBottom);s=this.bottom-this.paddingBottom-h/a*(e.log10(r)-e.log10(this.start))}return s}});t.scaleService.registerScaleType("logarithmic",o,i)}},{}],40:[function(t,e,i){"use strict";
e.exports=function(t){var e=t.helpers,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(t){return t}}},o=t.Scale.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){this.width=this.maxWidth,this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var i=e.min([this.height,this.width]),o=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize);this.drawingArea=this.options.display?i/2-(o/2+this.options.ticks.backdropPaddingY):i/2},determineDataLimits:function(){if(this.min=null,this.max=null,e.each(this.chart.data.datasets,function(t){e.isDatasetVisible(t)&&e.each(t.data,function(t,e){var i=+this.getRightValue(t);isNaN(i)||(null===this.min?this.min=i:i<this.min&&(this.min=i),null===this.max?this.max=i:i>this.max&&(this.max=i))},this)},this),this.options.ticks.beginAtZero){var t=e.sign(this.min),i=e.sign(this.max);0>t&&0>i?this.max=0:t>0&&i>0&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++)},buildTicks:function(){this.ticks=[];var i=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),o=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*i)));o=Math.max(2,o);var n=e.niceNum(this.max-this.min,!1),s=e.niceNum(n/(o-1),!0),r=Math.floor(this.min/s)*s,a=Math.ceil(this.max/s)*s,l=Math.ceil((a-r)/s);this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:r);for(var h=1;l>h;++h)this.ticks.push(r+h*s);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:a),this.max=e.max(this.ticks),this.min=e.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},convertTicksToLabels:function(){t.Scale.prototype.convertTicksToLabels.call(this),this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var i,o,n,s,r,a,l,h,c,d,u,f,p=e.getValueOrDefault(this.options.pointLabels.fontSize,t.defaults.global.defaultFontSize),g=e.getValueOrDefault(this.options.pointLabels.fontStyle,t.defaults.global.defaultFontStyle),m=e.getValueOrDefault(this.options.pointLabels.fontFamily,t.defaults.global.defaultFontFamily),v=e.fontString(p,g,m),b=e.min([this.height/2-p-5,this.width/2]),y=this.width,w=0;for(this.ctx.font=v,o=0;o<this.getValueCount();o++)i=this.getPointPosition(o,b),n=this.ctx.measureText(this.pointLabels[o]?this.pointLabels[o]:"").width+5,0===o||o===this.getValueCount()/2?(s=n/2,i.x+s>y&&(y=i.x+s,r=o),i.x-s<w&&(w=i.x-s,l=o)):o<this.getValueCount()/2?i.x+n>y&&(y=i.x+n,r=o):o>this.getValueCount()/2&&i.x-n<w&&(w=i.x-n,l=o);c=w,d=Math.ceil(y-this.width),a=this.getIndexAngle(r),h=this.getIndexAngle(l),u=d/Math.sin(a+Math.PI/2),f=c/Math.sin(h+Math.PI/2),u=e.isNumber(u)?u:0,f=e.isNumber(f)?f:0,this.drawingArea=Math.round(b-(f+u)/2),this.setCenterPoint(f,u)},setCenterPoint:function(t,e){var i=this.width-e-this.drawingArea,o=t+this.drawingArea;this.xCenter=Math.round((o+i)/2+this.left),this.yCenter=Math.round(this.height/2+this.top)},getIndexAngle:function(t){var e=2*Math.PI/this.getValueCount();return t*e-Math.PI/2},getDistanceFromCenterForValue:function(t){if(null===t)return 0;var e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e},getPointPosition:function(t,e){var i=this.getIndexAngle(t);return{x:Math.round(Math.cos(i)*e)+this.xCenter,y:Math.round(Math.sin(i)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},draw:function(){if(this.options.display){var i=this.ctx;if(e.each(this.ticks,function(o,n){if(n>0||this.options.reverse){var s=this.getDistanceFromCenterForValue(this.ticks[n]),r=this.yCenter-s;if(this.options.gridLines.display)if(i.strokeStyle=this.options.gridLines.color,i.lineWidth=this.options.gridLines.lineWidth,this.options.lineArc)i.beginPath(),i.arc(this.xCenter,this.yCenter,s,0,2*Math.PI),i.closePath(),i.stroke();else{i.beginPath();for(var a=0;a<this.getValueCount();a++){var l=this.getPointPosition(a,this.getDistanceFromCenterForValue(this.ticks[n]));0===a?i.moveTo(l.x,l.y):i.lineTo(l.x,l.y)}i.closePath(),i.stroke()}if(this.options.ticks.display){var h=e.getValueOrDefault(this.options.ticks.fontColor,t.defaults.global.defaultFontColor),c=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),d=e.getValueOrDefault(this.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),u=e.getValueOrDefault(this.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),f=e.fontString(c,d,u);if(i.font=f,this.options.ticks.showLabelBackdrop){var p=i.measureText(o).width;i.fillStyle=this.options.ticks.backdropColor,i.fillRect(this.xCenter-p/2-this.options.ticks.backdropPaddingX,r-c/2-this.options.ticks.backdropPaddingY,p+2*this.options.ticks.backdropPaddingX,c+2*this.options.ticks.backdropPaddingY)}i.textAlign="center",i.textBaseline="middle",i.fillStyle=h,i.fillText(o,this.xCenter,r)}}},this),!this.options.lineArc){i.lineWidth=this.options.angleLines.lineWidth,i.strokeStyle=this.options.angleLines.color;for(var o=this.getValueCount()-1;o>=0;o--){if(this.options.angleLines.display){var n=this.getPointPosition(o,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max));i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(n.x,n.y),i.stroke(),i.closePath()}var s=this.getPointPosition(o,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max)+5),r=e.getValueOrDefault(this.options.pointLabels.fontColor,t.defaults.global.defaultFontColor),a=e.getValueOrDefault(this.options.pointLabels.fontSize,t.defaults.global.defaultFontSize),l=e.getValueOrDefault(this.options.pointLabels.fontStyle,t.defaults.global.defaultFontStyle),h=e.getValueOrDefault(this.options.pointLabels.fontFamily,t.defaults.global.defaultFontFamily),c=e.fontString(a,l,h);i.font=c,i.fillStyle=r;var d=this.pointLabels.length,u=this.pointLabels.length/2,f=u/2,p=f>o||o>d-f,g=o===f||o===d-f;0===o?i.textAlign="center":o===u?i.textAlign="center":u>o?i.textAlign="left":i.textAlign="right",g?i.textBaseline="middle":p?i.textBaseline="bottom":i.textBaseline="top",i.fillText(this.pointLabels[o]?this.pointLabels[o]:"",s.x,s.y)}}}}});t.scaleService.registerScaleType("radialLinear",o,i)}},{}],41:[function(t,e,i){"use strict";var o=t("moment");o="function"==typeof o?o:window.moment,e.exports=function(t){var e=t.helpers,i={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},n={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},s=t.Scale.extend({initialize:function(){if(!o)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");t.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return this.labelMoments[t][e]},determineDataLimits:function(){this.labelMoments=[];var t=[];this.chart.data.labels&&this.chart.data.labels.length>0?(e.each(this.chart.data.labels,function(e,i){var o=this.parseTime(e);this.options.time.round&&o.startOf(this.options.time.round),t.push(o)},this),this.firstTick=o.min.call(this,t),this.lastTick=o.max.call(this,t)):(this.firstTick=null,this.lastTick=null),e.each(this.chart.data.datasets,function(i,n){var s=[];"object"==typeof i.data[0]?e.each(i.data,function(t,e){var i=this.parseTime(this.getRightValue(t));this.options.time.round&&i.startOf(this.options.time.round),s.push(i),this.firstTick=null!==this.firstTick?o.min(this.firstTick,i):i,this.lastTick=null!==this.lastTick?o.max(this.lastTick,i):i},this):s=t,this.labelMoments.push(s)},this),this.options.time.min&&(this.firstTick=this.parseTime(this.options.time.min)),this.options.time.max&&(this.lastTick=this.parseTime(this.options.time.max)),this.firstTick=(this.firstTick||o()).clone(),this.lastTick=(this.lastTick||o()).clone()},buildTicks:function(o){this.ctx.save();var n=e.getValueOrDefault(this.options.ticks.fontSize,t.defaults.global.defaultFontSize),s=e.getValueOrDefault(this.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),r=e.getValueOrDefault(this.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),a=e.fontString(n,s,r);if(this.ctx.font=a,this.ticks=[],this.unitScale=1,this.scaleSizeInUnits=0,this.options.time.unit)this.tickUnit=this.options.time.unit||"day",this.displayFormat=this.options.time.displayFormats[this.tickUnit],this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,1);else{var l=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),h=this.tickFormatFunction(this.firstTick,0,[]),c=this.ctx.measureText(h).width,d=Math.cos(e.toRadians(this.options.ticks.maxRotation)),u=Math.sin(e.toRadians(this.options.ticks.maxRotation));c=c*d+n*u;var f=l/c;this.tickUnit="millisecond",this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.displayFormat=this.options.time.displayFormats[this.tickUnit];for(var p=0,g=i.units[p];p<i.units.length;){if(this.unitScale=1,e.isArray(g.steps)&&Math.ceil(this.scaleSizeInUnits/f)<e.max(g.steps)){for(var m=0;m<g.steps.length;++m)if(g.steps[m]>=Math.ceil(this.scaleSizeInUnits/f)){this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,g.steps[m]);break}break}if(g.maxStep===!1||Math.ceil(this.scaleSizeInUnits/f)<g.maxStep){this.unitScale=e.getValueOrDefault(this.options.time.unitStepSize,Math.ceil(this.scaleSizeInUnits/f));break}++p,g=i.units[p],this.tickUnit=g.name,this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.displayFormat=this.options.time.displayFormats[g.name]}}var v;this.options.time.min?v=this.firstTick.clone().startOf(this.tickUnit):(this.firstTick.startOf(this.tickUnit),v=this.firstTick),this.options.time.max||this.lastTick.endOf(this.tickUnit),this.smallestLabelSeparation=this.width,e.each(this.chart.data.datasets,function(t,e){for(var i=1;i<this.labelMoments[e].length;i++)this.smallestLabelSeparation=Math.min(this.smallestLabelSeparation,this.labelMoments[e][i].diff(this.labelMoments[e][i-1],this.tickUnit,!0))},this),this.options.time.displayFormat&&(this.displayFormat=this.options.time.displayFormat),this.ticks.push(this.firstTick.clone());for(var b=1;b<this.scaleSizeInUnits;++b){var y=v.clone().add(b,this.tickUnit);if(this.options.time.max&&y.diff(this.lastTick,this.tickUnit,!0)>=0)break;b%this.unitScale===0&&this.ticks.push(y)}0===this.ticks[this.ticks.length-1].diff(this.lastTick,this.tickUnit)&&0!==this.scaleSizeInUnits||(this.options.time.max?(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.ticks[0],this.tickUnit,!0)):(this.scaleSizeInUnits=Math.ceil(this.scaleSizeInUnits/this.unitScale)*this.unitScale,this.ticks.push(this.firstTick.clone().add(this.scaleSizeInUnits,this.tickUnit)),this.lastTick=this.ticks[this.ticks.length-1].clone())),this.ctx.restore()},getLabelForIndex:function(t,e){var i=this.chart.data.labels&&t<this.chart.data.labels.length?this.chart.data.labels[t]:"";return"object"==typeof this.chart.data.datasets[e].data[0]&&(i=this.getRightValue(this.chart.data.datasets[e].data[t])),this.options.time.tooltipFormat&&(i=this.parseTime(i).format(this.options.time.tooltipFormat)),i},tickFormatFunction:function(t,e,i){var o=t.format(this.displayFormat);return this.options.ticks.userCallback?this.options.ticks.userCallback(o,e,i):o},convertTicksToLabels:function(){this.ticks=this.ticks.map(this.tickFormatFunction,this)},getPixelForValue:function(t,e,i,o){var n=this.getLabelMoment(i,e);if(n){var s=n.diff(this.firstTick,this.tickUnit,!0),r=s/this.scaleSizeInUnits;if(this.isHorizontal()){var a=this.width-(this.paddingLeft+this.paddingRight),l=(a/Math.max(this.ticks.length-1,1),a*r+this.paddingLeft);return this.left+Math.round(l)}var h=this.height-(this.paddingTop+this.paddingBottom),c=(h/Math.max(this.ticks.length-1,1),h*r+this.paddingTop);return this.top+Math.round(c)}},parseTime:function(t){return"string"==typeof this.options.time.parser?o(t,this.options.time.parser):"function"==typeof this.options.time.parser?this.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?o(t):t.isValid&&t.isValid()?t:"string"!=typeof this.options.time.format&&this.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),this.options.time.format(t)):o(t,this.options.time.format)}});t.scaleService.registerScaleType("time",s,n)}},{moment:1}]},{},[7]),window.Handsontable={version:"0.15.1",buildDate:"Thu Jun 25 2015 14:04:28 GMT+0200 (CEST)"},function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Handsontable=t()}}(function(){var t;return function(t,e,i){return function o(t,e,i){function n(a,l){if(!e[a]){if(!t[a]){var h="function"==typeof require&&require;if(!l&&h)return h(a,!0);if(s)return s(a,!0);if(r[a]&&"undefined"!=typeof window[r[a]])return window[r[a]];var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=e[a]={exports:{}};t[a][0].call(d.exports,function(e){var i=t[a][1][e];return n(i?i:e)},d,d.exports,o,t,e,i)}return e[a].exports}for(var s="function"==typeof require&&require,r=JSON.parse('{"zeroclipboard":"ZeroClipboard","moment":"moment","pikaday":"Pikaday"}')||{},a=0;a<i.length;a++)n(i[a]);return n}(t,e,i),function(){return Handsontable}}({1:[function(t,e,i){"use strict";window.jQuery&&!function(t,e,i){e.fn.handsontable=function(t){var e,o,n,s,r,a=this.first(),l=a.data("handsontable");if("string"!=typeof t)return r=t||{},l?l.updateSettings(r):(l=new i.Core(a[0],r),a.data("handsontable",l),l.init()),a;if(n=[],arguments.length>1)for(e=1,o=arguments.length;o>e;e++)n.push(arguments[e]);if(l){if("undefined"==typeof l[t])throw new Error("Handsontable do not provide action: "+t);s=l[t].apply(l,n),"destroy"===t&&a.removeData()}return s}}(window,jQuery,Handsontable)},{}],2:[function(t,e,i){"use strict";function o(t,e){var i,o=function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};var t=10,e=40;this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var i={position:"absolute",height:e+"px",width:e+"px","border-radius":parseInt(e/1.5,10)+"px"};for(var o in i)i.hasOwnProperty(o)&&(this.selectionHandles.styles.bottomRightHitArea[o]=i[o],this.selectionHandles.styles.topLeftHitArea[o]=i[o]);var n={position:"absolute",height:t+"px",width:t+"px","border-radius":parseInt(t/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var o in n)n.hasOwnProperty(o)&&(this.selectionHandles.styles.bottomRight[o]=n[o],this.selectionHandles.styles.topLeft[o]=n[o]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)};if(e){var n=l(t);this.instance=t,this.settings=e,this.main=document.createElement("div"),i=this.main.style,i.position="absolute",i.top=0,i.left=0;for(var s=["top","left","bottom","right","corner"],r=0;5>r;r++){var a=s[r],h=document.createElement("DIV");h.className="wtBorder "+(this.settings.className||""),this.settings[a]&&this.settings[a].hide&&(h.className+=" hidden"),i=h.style,i.backgroundColor=this.settings[a]&&this.settings[a].color?this.settings[a].color:e.border.color,i.height=this.settings[a]&&this.settings[a].width?this.settings[a].width+"px":e.border.width+"px",i.width=this.settings[a]&&this.settings[a].width?this.settings[a].width+"px":e.border.width+"px",this.main.appendChild(h)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.cornerDefaultStyle={width:"5px",height:"5px",borderWidth:"2px",borderStyle:"solid",borderColor:"#FFF"},this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),Handsontable.mobileBrowser&&o.call(this),this.disappear(),t.wtTable.bordersHolder||(t.wtTable.bordersHolder=document.createElement("div"),t.wtTable.bordersHolder.className="htBorders",t.wtTable.spreader.appendChild(t.wtTable.bordersHolder)),t.wtTable.bordersHolder.insertBefore(this.main,t.wtTable.bordersHolder.firstChild);var c=!1;n.addEventListener(document.body,"mousedown",function(){c=!0}),n.addEventListener(document.body,"mouseup",function(){c=!1});for(var d=0,u=this.main.childNodes.length;u>d;d++)n.addEventListener(this.main.childNodes[d],"mouseenter",function(e){if(c&&t.getSetting("hideBorderOnMouseDownOver")){e.preventDefault(),e.stopImmediatePropagation();var i=this.getBoundingClientRect();this.style.display="none";var o=function(t){return t.clientY<Math.floor(i.top)?!0:t.clientY>Math.ceil(i.top+i.height)?!0:t.clientX<Math.floor(i.left)?!0:t.clientX>Math.ceil(i.left+i.width)?!0:void 0},s=function(t){o(t)&&(n.removeEventListener(document.body,"mousemove",s),this.style.display="block")};n.addEventListener(document.body,"mousemove",s)}})}}Object.defineProperties(i,{WalkontableBorder:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a=(n=t("./../../../dom.js"),n&&n.__esModule&&n||{"default":n}),l=(s=t("./../../../eventManager.js"),s&&s.__esModule&&s||{"default":s}).eventManager,h=(r=t("./cell/coords.js"),r&&r.__esModule&&r||{"default":r}).WalkontableCellCoords;o.prototype.appear=function(t){if(!this.disabled){var e,i,o,n,s,r,l,c,d,u,f,p,g,m,v,b,y,w,C,_=this.instance,x=function(){return this.instance.selections.area.cellRange&&(v!=this.instance.selections.area.cellRange.to.row||b!=this.instance.selections.area.cellRange.to.col)},S=function(t,e,i,o){var n=parseInt(this.selectionHandles.styles.topLeft.width,10),s=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(t-n,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(e-n,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(t-s/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(e-s/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(t+o,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(e+i,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(t+o-s/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(e+i-s/4,10)+"px",this.settings.border.multipleSelectionHandlesVisible&&this.settings.border.multipleSelectionHandlesVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",x.call(this)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),g==this.instance.wtSettings.getSetting("fixedRowsTop")||m==this.instance.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")};for(w=_.cloneOverlay instanceof WalkontableTopOverlay||_.cloneOverlay instanceof WalkontableCornerOverlay?_.getSetting("fixedRowsTop"):_.wtTable.getRenderedRowsCount(),y=0;w>y;y++)if(C=_.wtTable.rowFilter.renderedToSource(y),C>=t[0]&&C<=t[2]){g=C;break}for(y=w-1;y>=0;y--)if(C=_.wtTable.rowFilter.renderedToSource(y),C>=t[0]&&C<=t[2]){v=C;break}for(w=_.wtTable.getRenderedColumnsCount(),y=0;w>y;y++)if(C=_.wtTable.columnFilter.renderedToSource(y),C>=t[1]&&C<=t[3]){m=C;break}for(y=w-1;y>=0;y--)if(C=_.wtTable.columnFilter.renderedToSource(y),C>=t[1]&&C<=t[3]){b=C;break}if(void 0===g||void 0===m)return void this.disappear();e=g!==v||m!==b,i=_.wtTable.getCell(new h(g,m)),o=e?_.wtTable.getCell(new h(v,b)):i,n=a.offset(i),s=e?a.offset(o):n,r=a.offset(_.wtTable.TABLE),c=n.top,f=s.top+a.outerHeight(o)-c,u=n.left,p=s.left+a.outerWidth(o)-u,l=c-r.top-1,d=u-r.left-1;var k=a.getComputedStyle(i);parseInt(k.borderTopWidth,10)>0&&(l+=1,f=f>0?f-1:0),parseInt(k.borderLeftWidth,10)>0&&(d+=1,p=p>0?p-1:0),this.topStyle.top=l+"px",this.topStyle.left=d+"px",this.topStyle.width=p+"px",this.topStyle.display="block",this.leftStyle.top=l+"px",this.leftStyle.left=d+"px",this.leftStyle.height=f+"px",this.leftStyle.display="block";var T=Math.floor(this.settings.border.width/2);if(this.bottomStyle.top=l+f-T+"px",this.bottomStyle.left=d+"px",this.bottomStyle.width=p+"px",this.bottomStyle.display="block",this.rightStyle.top=l+"px",this.rightStyle.left=d+p-T+"px",this.rightStyle.height=f+1+"px",this.rightStyle.display="block",Handsontable.mobileBrowser||!this.hasSetting(this.settings.border.cornerVisible)||x.call(this))this.cornerStyle.display="none";else if(this.cornerStyle.top=l+f-4+"px",this.cornerStyle.left=d+p-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="block",b===this.instance.getSetting("totalColumns")-1){var R=a.getTrimmingContainer(_.wtTable.TABLE),E=o.offsetLeft+a.outerWidth(o)>=a.innerWidth(R);E&&(this.cornerStyle.left=Math.floor(d+p-3-parseInt(this.cornerDefaultStyle.width)/2)+"px",this.cornerStyle.borderRightWidth=0)}Handsontable.mobileBrowser&&S.call(this,l,d,p,f)}},o.prototype.disappear=function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",Handsontable.mobileBrowser&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")},o.prototype.hasSetting=function(t){return"function"==typeof t?t():!!t},window.WalkontableBorder=o},{"./../../../dom.js":27,"./../../../eventManager.js":41,"./cell/coords.js":5}],3:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableViewportColumnsCalculator:{get:function(){return n}},__esModule:{value:!0}});var o=new WeakMap,n=function(t,e,i,n,s,r,a){o.set(this,{viewportWidth:t,scrollOffset:e,totalColumns:i,columnWidthFn:n,overrideFn:s,onlyFullyVisible:r}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=a,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()},s=n;$traceurRuntime.createClass(n,{calculate:function(){for(var t,e=0,i=!0,n=[],s=o.get(this),r=s.onlyFullyVisible,a=s.overrideFn,l=s.scrollOffset,h=s.totalColumns,c=s.viewportWidth,d=0;h>d;d++)if(t=this._getColumnWidth(d),l>=e&&!r&&(this.startColumn=d),e>=l&&l+c>=e+t&&(null==this.startColumn&&(this.startColumn=d),this.endColumn=d),n.push(e),e+=t,r||(this.endColumn=d),e>=l+c){i=!1;break}if(this.endColumn===h-1&&i)for(this.startColumn=this.endColumn;this.startColumn>0;){var u=n[this.endColumn]+t-n[this.startColumn-1];if((c>=u||!r)&&this.startColumn--,u>c)break}null!==this.startColumn&&a&&a(this),this.startPosition=n[this.startColumn],void 0==this.startPosition&&(this.startPosition=null),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)},refreshStretching:function(t){if("none"!==this.stretch){for(var e,i,n=0,s=o.get(this),r=s.totalColumns,a=0;r>a;a++)e=this._getColumnWidth(a),n+=e;this.totalTargetWidth=t,i=n-t,"all"===this.stretch&&0>i?(this.stretchAllRatio=t/n,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0):"last"===this.stretch&&t!==1/0&&(this.stretchLastWidth=-i+this._getColumnWidth(r-1))}},getStretchedColumnWidth:function(t,e){var i=null;return"all"===this.stretch&&0!==this.stretchAllRatio?i=this._getStretchedAllColumnWidth(t,e):"last"===this.stretch&&0!==this.stretchLastWidth&&(i=this._getStretchedLastColumnWidth(t)),i},_getStretchedAllColumnWidth:function(t,e){var i=0,n=o.get(this),s=n.totalColumns;if(this.stretchAllColumnsWidth[t]||(this.stretchAllColumnsWidth[t]=Math.round(e*this.stretchAllRatio)),this.stretchAllColumnsWidth.length===s&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var r=0;r<this.stretchAllColumnsWidth.length;r++)i+=this.stretchAllColumnsWidth[r];i!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-i)}return this.stretchAllColumnsWidth[t]},_getStretchedLastColumnWidth:function(t){var e=o.get(this),i=e.totalColumns;return t===i-1?this.stretchLastWidth:null},_getColumnWidth:function(t){var e=o.get(this).columnWidthFn(t);return void 0===e&&(e=s.DEFAULT_WIDTH),e}},{get DEFAULT_WIDTH(){return 50}}),window.WalkontableViewportColumnsCalculator=n},{}],4:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableViewportRowsCalculator:{get:function(){return n}},__esModule:{value:!0}});var o=new WeakMap,n=function(t,e,i,n,s,r){o.set(this,{viewportHeight:t,scrollOffset:e,totalRows:i,rowHeightFn:n,overrideFn:s,onlyFullyVisible:r}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()},s=n;$traceurRuntime.createClass(n,{calculate:function(){for(var t=0,e=!0,i=[],n=o.get(this),r=n.onlyFullyVisible,a=n.overrideFn,l=n.rowHeightFn,h=n.scrollOffset,c=n.totalRows,d=n.viewportHeight,u=0;c>u;u++){var f=l(u);if(void 0===f&&(f=s.DEFAULT_HEIGHT),h>=t&&!r&&(this.startRow=u),t>=h&&h+d>=t+f&&(null===this.startRow&&(this.startRow=u),this.endRow=u),i.push(t),t+=f,r||(this.endRow=u),t>=h+d){e=!1;break}}if(this.endRow===c-1&&e)for(this.startRow=this.endRow;this.startRow>0;){var p=i[this.endRow]+f-i[this.startRow-1];if((d>=p||!r)&&this.startRow--,p>=d)break}null!==this.startRow&&a&&a(this),this.startPosition=i[this.startRow],void 0==this.startPosition&&(this.startPosition=null),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}},{get DEFAULT_HEIGHT(){return 23}}),window.WalkontableViewportRowsCalculator=n},{}],5:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableCellCoords:{get:function(){return o}},__esModule:{value:!0}});var o=function(t,e){"undefined"!=typeof t&&"undefined"!=typeof e?(this.row=t,this.col=e):(this.row=null,this.col=null)};$traceurRuntime.createClass(o,{isValid:function(t){return this.row<0||this.col<0?!1:!(this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns"))},isEqual:function(t){return t===this?!0:this.row===t.row&&this.col===t.col},isSouthEastOf:function(t){return this.row>=t.row&&this.col>=t.col},isNorthWestOf:function(t){return this.row<=t.row&&this.col<=t.col},isSouthWestOf:function(t){return this.row>=t.row&&this.col<=t.col},isNorthEastOf:function(t){return this.row<=t.row&&this.col>=t.col}},{}),window.WalkontableCellCoords=o},{}],6:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableCellRange:{get:function(){return s}},__esModule:{value:!0}});var o,n=(o=t("./../cell/coords.js"),o&&o.__esModule&&o||{"default":o}).WalkontableCellCoords,s=function(t,e,i){this.highlight=t,this.from=e,this.to=i},r=s;$traceurRuntime.createClass(s,{isValid:function(t){return this.from.isValid(t)&&this.to.isValid(t)},isSingle:function(){return this.from.row===this.to.row&&this.from.col===this.to.col},getHeight:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1},getWidth:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1},includes:function(t){var e=this.getTopLeftCorner(),i=this.getBottomRightCorner();return t.row<0&&(t.row=0),t.col<0&&(t.col=0),e.row<=t.row&&i.row>=t.row&&e.col<=t.col&&i.col>=t.col},includesRange:function(t){return this.includes(t.getTopLeftCorner())&&this.includes(t.getBottomRightCorner())},isEqual:function(t){return Math.min(this.from.row,this.to.row)==Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)==Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)==Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)==Math.max(t.from.col,t.to.col)},overlaps:function(t){return t.isSouthEastOf(this.getTopLeftCorner())&&t.isNorthWestOf(this.getBottomRightCorner())},isSouthEastOf:function(t){return this.getTopLeftCorner().isSouthEastOf(t)||this.getBottomRightCorner().isSouthEastOf(t)},isNorthWestOf:function(t){return this.getTopLeftCorner().isNorthWestOf(t)||this.getBottomRightCorner().isNorthWestOf(t)},expand:function(t){var e=this.getTopLeftCorner(),i=this.getBottomRightCorner();return t.row<e.row||t.col<e.col||t.row>i.row||t.col>i.col?(this.from=new n(Math.min(e.row,t.row),Math.min(e.col,t.col)),this.to=new n(Math.max(i.row,t.row),Math.max(i.col,t.col)),!0):!1},expandByRange:function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var e=this.getTopLeftCorner(),i=this.getBottomRightCorner(),o=(this.getTopRightCorner(),this.getBottomLeftCorner(),t.getTopLeftCorner()),s=t.getBottomRightCorner(),a=Math.min(e.row,o.row),l=Math.min(e.col,o.col),h=Math.max(i.row,s.row),c=Math.max(i.col,s.col),d=new n(a,l),u=new n(h,c),f=new r(d,d,u).isCorner(this.from,t),p=t.isEqual(new r(d,d,u));return f&&!p&&(this.from.col>d.col&&(d.col=c,u.col=l),this.from.row>d.row&&(d.row=h,u.row=a)),this.from=d,this.to=u,!0},getDirection:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0},
setDirection:function(t){switch(t){case"NW-SE":this.from=this.getTopLeftCorner(),this.to=this.getBottomRightCorner();break;case"NE-SW":this.from=this.getTopRightCorner(),this.to=this.getBottomLeftCorner();break;case"SE-NW":this.from=this.getBottomRightCorner(),this.to=this.getTopLeftCorner();break;case"SW-NE":this.from=this.getBottomLeftCorner(),this.to=this.getTopRightCorner()}},getTopLeftCorner:function(){return new n(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},getBottomRightCorner:function(){return new n(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},getTopRightCorner:function(){return new n(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},getBottomLeftCorner:function(){return new n(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},isCorner:function(t,e){return e&&e.includes(t)&&(this.getTopLeftCorner().isEqual(new n(e.from.row,e.from.col))||this.getTopRightCorner().isEqual(new n(e.from.row,e.to.col))||this.getBottomLeftCorner().isEqual(new n(e.to.row,e.from.col))||this.getBottomRightCorner().isEqual(new n(e.to.row,e.to.col)))?!0:t.isEqual(this.getTopLeftCorner())||t.isEqual(this.getTopRightCorner())||t.isEqual(this.getBottomLeftCorner())||t.isEqual(this.getBottomRightCorner())},getOppositeCorner:function(t,e){if(!(t instanceof n))return!1;if(e&&e.includes(t)){if(this.getTopLeftCorner().isEqual(new n(e.from.row,e.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new n(e.from.row,e.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new n(e.to.row,e.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new n(e.to.row,e.to.col)))return this.getTopLeftCorner()}return t.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():t.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():t.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():t.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0},getBordersSharedWith:function(t){if(!this.includesRange(t))return[];var e={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},i={top:Math.min(t.from.row,t.to.row),bottom:Math.max(t.from.row,t.to.row),left:Math.min(t.from.col,t.to.col),right:Math.max(t.from.col,t.to.col)},o=[];return e.top==i.top&&o.push("top"),e.right==i.right&&o.push("right"),e.bottom==i.bottom&&o.push("bottom"),e.left==i.left&&o.push("left"),o},getInner:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),i=[],o=t.row;o<=e.row;o++)for(var s=t.col;s<=e.col;s++)this.from.row===o&&this.from.col===s||this.to.row===o&&this.to.col===s||i.push(new n(o,s));return i},getAll:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),i=[],o=t.row;o<=e.row;o++)for(var s=t.col;s<=e.col;s++)t.row===o&&t.col===s?i.push(t):e.row===o&&e.col===s?i.push(e):i.push(new n(o,s));return i},forAll:function(t){for(var e=this.getTopLeftCorner(),i=this.getBottomRightCorner(),o=e.row;o<=i.row;o++)for(var n=e.col;n<=i.col;n++){var s=t(o,n);if(s===!1)return}}},{}),window.WalkontableCellRange=s},{"./../cell/coords.js":5}],7:[function(t,e,i){"use strict";Object.defineProperties(i,{Walkontable:{get:function(){return y}},__esModule:{value:!0}});var o,n,s,r,a,l,h,c,d=(o=t("./../../../dom.js"),o&&o.__esModule&&o||{"default":o}),u=(n=t("./../../../helpers.js"),n&&n.__esModule&&n||{"default":n}).randomString,f=(s=t("./event.js"),s&&s.__esModule&&s||{"default":s}).WalkontableEvent,p=(r=t("./overlays.js"),r&&r.__esModule&&r||{"default":r}).WalkontableOverlays,g=(a=t("./scroll.js"),a&&a.__esModule&&a||{"default":a}).WalkontableScroll,m=(l=t("./settings.js"),l&&l.__esModule&&l||{"default":l}).WalkontableSettings,v=(h=t("./table.js"),h&&h.__esModule&&h||{"default":h}).WalkontableTable,b=(c=t("./viewport.js"),c&&c.__esModule&&c||{"default":c}).WalkontableViewport,y=function(t){var e=[];if(this.guid="wt_"+u(),t.cloneSource?(this.cloneSource=t.cloneSource,this.cloneOverlay=t.cloneOverlay,this.wtSettings=t.cloneSource.wtSettings,this.wtTable=new v(this,t.table,t.wtRootElement),this.wtScroll=new g(this),this.wtViewport=t.cloneSource.wtViewport,this.wtEvent=new f(this),this.selections=this.cloneSource.selections):(this.wtSettings=new m(this,t),this.wtTable=new v(this,t.table),this.wtScroll=new g(this),this.wtViewport=new b(this),this.wtEvent=new f(this),this.selections=this.getSetting("selections"),this.wtOverlays=new p(this)),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var i=0,o=this.wtTable.THEAD.childNodes[0].childNodes.length;o>i;i++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[i].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(t,i){d.fastInnerText(i,e[t])}])}this.drawn=!1,this.drawInterrupted=!1};$traceurRuntime.createClass(y,{draw:function(){var t=void 0!==arguments[0]?arguments[0]:!1;return this.drawInterrupted=!1,t||d.isVisible(this.wtTable.TABLE)?this.wtTable.draw(t):this.drawInterrupted=!0,this},getCell:function(t){var e=void 0!==arguments[1]?arguments[1]:!1;if(!e)return this.wtTable.getCell(t);var i=this.wtSettings.getSetting("fixedRowsTop"),o=this.wtSettings.getSetting("fixedColumnsLeft");return t.row<i&&t.col<o?this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(t):t.row<i?this.wtOverlays.topOverlay.clone.wtTable.getCell(t):t.col<o?this.wtOverlays.leftOverlay.clone.wtTable.getCell(t):this.wtTable.getCell(t)},update:function(t,e){return this.wtSettings.update(t,e)},scrollVertical:function(t){return this.wtOverlays.topOverlay.scrollTo(t),this.getSetting("onScrollVertically"),this},scrollHorizontal:function(t){return this.wtOverlays.leftOverlay.scrollTo(t),this.getSetting("onScrollHorizontally"),this},scrollViewport:function(t){return this.wtScroll.scrollViewport(t),this},getViewport:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]},getOverlayName:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"},getSetting:function(t,e,i,o,n){return this.wtSettings.getSetting(t,e,i,o,n)},hasSetting:function(t){return this.wtSettings.has(t)},destroy:function(){this.wtOverlays.destroy(),this.wtEvent&&this.wtEvent.destroy()}},{}),window.Walkontable=y},{"./../../../dom.js":27,"./../../../helpers.js":42,"./event.js":8,"./overlays.js":16,"./scroll.js":17,"./settings.js":19,"./table.js":20,"./viewport.js":22}],8:[function(t,e,i){"use strict";function o(t){var e=this,i=a(t);this.instance=t;var o=[null,null];this.dblClickTimeout=[null,null];var n,s,l=function(t){var i=e.parentCell(t.realTarget);r.hasClass(t.realTarget,"corner")?e.instance.getSetting("onCellCornerMouseDown",t,t.realTarget):i.TD&&e.instance.hasSetting("onCellMouseDown")&&e.instance.getSetting("onCellMouseDown",t,i.coords,i.TD,e.instance),2!==t.button&&i.TD&&(o[0]=i.TD,clearTimeout(e.dblClickTimeout[0]),e.dblClickTimeout[0]=setTimeout(function(){o[0]=null},1e3))},h=function(t){e.instance.touchMoving=!0},c=function(t){i.addEventListener(this,"touchmove",h),e.checkIfTouchMove=setTimeout(function(){return e.instance.touchMoving===!0?(e.instance.touchMoving=void 0,void i.removeEventListener("touchmove",h,!1)):void l(t)},30)},d=function(t){var i,o;e.instance.hasSetting("onCellMouseOver")&&(i=e.instance.wtTable.TABLE,o=r.closest(t.realTarget,["TD","TH"],i),o&&o!==s&&r.isChildOf(o,i)&&(s=o,e.instance.getSetting("onCellMouseOver",t,e.instance.wtTable.getCoords(o),o,e.instance)))},u=function(t){if(2!==t.button){var i=e.parentCell(t.realTarget);i.TD===o[0]&&i.TD===o[1]?(r.hasClass(t.realTarget,"corner")?e.instance.getSetting("onCellCornerDblClick",t,i.coords,i.TD,e.instance):e.instance.getSetting("onCellDblClick",t,i.coords,i.TD,e.instance),o[0]=null,o[1]=null):i.TD===o[0]&&(o[1]=i.TD,clearTimeout(e.dblClickTimeout[1]),e.dblClickTimeout[1]=setTimeout(function(){o[1]=null},500))}},f=function(t){clearTimeout(n),t.preventDefault(),u(t)};if(i.addEventListener(this.instance.wtTable.holder,"mousedown",l),i.addEventListener(this.instance.wtTable.TABLE,"mouseover",d),i.addEventListener(this.instance.wtTable.holder,"mouseup",u),this.instance.wtTable.holder.parentNode.parentNode&&Handsontable.mobileBrowser&&!e.instance.wtTable.isWorkingOnClone()){var p="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");i.addEventListener(this.instance.wtTable.holder,"touchstart",function(t){e.instance.touchApplied=!0,r.isChildOf(t.target,p)&&c.call(t.target,t)}),i.addEventListener(this.instance.wtTable.holder,"touchend",function(t){e.instance.touchApplied=!1,r.isChildOf(t.target,p)&&f.call(t.target,t)}),e.instance.momentumScrolling||(e.instance.momentumScrolling={}),i.addEventListener(this.instance.wtTable.holder,"scroll",function(t){clearTimeout(e.instance.momentumScrolling._timeout),e.instance.momentumScrolling.ongoing||e.instance.getSetting("onBeforeTouchScroll"),e.instance.momentumScrolling.ongoing=!0,e.instance.momentumScrolling._timeout=setTimeout(function(){e.instance.touchApplied||(e.instance.momentumScrolling.ongoing=!1,e.instance.getSetting("onAfterMomentumScroll"))},200)})}i.addEventListener(window,"resize",function(){"none"!==e.instance.getSetting("stretchH")&&e.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),i.clear()}}Object.defineProperties(i,{WalkontableEvent:{get:function(){return o}},__esModule:{value:!0}});var n,s,r=(n=t("./../../../dom.js"),n&&n.__esModule&&n||{"default":n}),a=(s=t("./../../../eventManager.js"),s&&s.__esModule&&s||{"default":s}).eventManager;o.prototype.parentCell=function(t){var e={},i=this.instance.wtTable.TABLE,o=r.closest(t,["TD","TH"],i);return o&&r.isChildOf(o,i)?(e.coords=this.instance.wtTable.getCoords(o),e.TD=o):r.hasClass(t,"wtBorder")&&r.hasClass(t,"current")?(e.coords=this.instance.selections.current.cellRange.highlight,e.TD=this.instance.wtTable.getCell(e.coords)):r.hasClass(t,"wtBorder")&&r.hasClass(t,"area")&&this.instance.selections.area.cellRange&&(e.coords=this.instance.selections.area.cellRange.to,e.TD=this.instance.wtTable.getCell(e.coords)),e},window.WalkontableEvent=o},{"./../../../dom.js":27,"./../../../eventManager.js":41}],9:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableColumnFilter:{get:function(){return o}},__esModule:{value:!0}});var o=function(t,e,i){this.offset=t,this.total=e,this.countTH=i};$traceurRuntime.createClass(o,{offsetted:function(t){return t+this.offset},unOffsetted:function(t){return t-this.offset},renderedToSource:function(t){return this.offsetted(t)},sourceToRendered:function(t){return this.unOffsetted(t)},offsettedTH:function(t){return t-this.countTH},unOffsettedTH:function(t){return t+this.countTH},visibleRowHeadedColumnToSourceColumn:function(t){return this.renderedToSource(this.offsettedTH(t))},sourceColumnToVisibleRowHeadedColumn:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}},{}),window.WalkontableColumnFilter=o},{}],10:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableRowFilter:{get:function(){return o}},__esModule:{value:!0}});var o=function(t,e,i){this.offset=t,this.total=e,this.countTH=i};$traceurRuntime.createClass(o,{offsetted:function(t){return t+this.offset},unOffsetted:function(t){return t-this.offset},renderedToSource:function(t){return this.offsetted(t)},sourceToRendered:function(t){return this.unOffsetted(t)},offsettedTH:function(t){return t-this.countTH},unOffsettedTH:function(t){return t+this.countTH},visibleColHeadedRowToSourceRow:function(t){return this.renderedToSource(this.offsettedTH(t))},sourceRowToVisibleColHeadedRow:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}},{}),window.WalkontableRowFilter=o},{}],11:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableOverlay:{get:function(){return h}},__esModule:{value:!0}});var o,n,s,r=(o=t("./../../../../dom.js"),o&&o.__esModule&&o||{"default":o}),a=(n=t("./../../../../helpers.js"),n&&n.__esModule&&n||{"default":n}).defineGetter,l=(s=t("./../../../../eventManager.js"),s&&s.__esModule&&s||{"default":s}).eventManager,h=function(t){a(this,"wot",t,{writable:!1}),this.instance=this.wot,this.type="",this.TABLE=this.wot.wtTable.TABLE,this.hider=this.wot.wtTable.hider,this.spreader=this.wot.wtTable.spreader,this.holder=this.wot.wtTable.holder,this.wtRootElement=this.wot.wtTable.wtRootElement,this.trimmingContainer=r.getTrimmingContainer(this.hider.parentNode.parentNode),this.mainTableScrollableElement=r.getScrollableElement(this.wot.wtTable.TABLE),this.needFullRender=this.shouldBeRendered(),this.isElementSizesAdjusted=!1},c=h;$traceurRuntime.createClass(h,{shouldBeRendered:function(){return!0},makeClone:function(t){if(-1===c.CLONE_TYPES.indexOf(t))throw new Error('Clone type "'+t+'" is not supported.');var e=document.createElement("DIV"),i=document.createElement("TABLE");return e.className="ht_clone_"+t+" handsontable",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.overflow="hidden",i.className=this.wot.wtTable.TABLE.className,e.appendChild(i),this.type=t,this.wot.wtTable.wtRootElement.parentNode.appendChild(e),new Walkontable({cloneSource:this.wot,cloneOverlay:this,table:i})},refresh:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=this.shouldBeRendered();this.clone&&(this.needFullRender||e)&&this.clone.draw(t),this.needFullRender=e},destroy:function(){l(this.clone).clear()}},{get CLONE_TOP(){return"top"},get CLONE_LEFT(){return"left"},get CLONE_CORNER(){return"corner"},get CLONE_DEBUG(){return"debug"},get CLONE_TYPES(){return[c.CLONE_TOP,c.CLONE_LEFT,c.CLONE_CORNER,c.CLONE_DEBUG]}}),window.WalkontableOverlay=h},{"./../../../../dom.js":27,"./../../../../eventManager.js":41,"./../../../../helpers.js":42}],12:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableCornerOverlay:{get:function(){return a}},__esModule:{value:!0}});var o,n,s=(o=t("./../../../../dom.js"),o&&o.__esModule&&o||{"default":o}),r=(n=t("./_base.js"),n&&n.__esModule&&n||{"default":n}).WalkontableOverlay,a=function(t){$traceurRuntime.superConstructor(l).call(this,t),this.clone=this.makeClone(r.CLONE_CORNER)},l=a;$traceurRuntime.createClass(a,{shouldBeRendered:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length||!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)},resetFixedPosition:function(){if(this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=s.outerHeight(this.clone.wtTable.TABLE),i=s.outerWidth(this.clone.wtTable.TABLE);if(this.trimmingContainer===window){var o,n,r=this.wot.wtTable.hider.getBoundingClientRect(),a=Math.ceil(r.top),l=Math.ceil(r.left),h=Math.ceil(r.bottom),c=Math.ceil(r.right);o=0>l&&c-t.offsetWidth>0?-l+"px":"0",n=0>a&&h-t.offsetHeight>0?-a+"px":"0",s.setOverlayPosition(t,o,n)}t.style.height=(0===e?e:e+4)+"px",t.style.width=(0===i?i:i+4)+"px"}}},{},r),window.WalkontableCornerOverlay=a},{"./../../../../dom.js":27,"./_base.js":11}],13:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableDebugOverlay:{get:function(){return a}},__esModule:{value:!0}});var o,n,s=(o=t("./../../../../dom.js"),o&&o.__esModule&&o||{"default":o}),r=(n=t("./_base.js"),n&&n.__esModule&&n||{"default":n}).WalkontableOverlay,a=function(t){$traceurRuntime.superConstructor(l).call(this,t),this.clone=this.makeClone(r.CLONE_DEBUG),this.clone.wtTable.holder.style.opacity=.4,this.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",s.addClass(this.clone.wtTable.holder.parentNode,"wtDebugVisible")},l=a;$traceurRuntime.createClass(a,{},{},r),window.WalkontableDebugOverlay=a},{"./../../../../dom.js":27,"./_base.js":11}],14:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableLeftOverlay:{get:function(){return a}},__esModule:{value:!0}});var o,n,s=(o=t("./../../../../dom.js"),o&&o.__esModule&&o||{"default":o}),r=(n=t("./_base.js"),n&&n.__esModule&&n||{"default":n}).WalkontableOverlay,a=function(t){$traceurRuntime.superConstructor(l).call(this,t),this.clone=this.makeClone(r.CLONE_LEFT)},l=a;$traceurRuntime.createClass(a,{shouldBeRendered:function(){return!(!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0;if(this.trimmingContainer===window){var i,o,n=this.wot.wtTable.hider.getBoundingClientRect(),r=Math.ceil(n.left),a=Math.ceil(n.right);o=this.wot.wtTable.hider.style.top,o=""===o?0:o,i=0>r&&a-t.offsetWidth>0?-r:0,e=i,i+="px",s.setOverlayPosition(t,i,o)}else e=this.getScrollPosition();this.adjustHeaderBordersPosition(e)}},setScrollPosition:function(t){this.mainTableScrollableElement===window?window.scrollTo(t,s.getWindowScrollTop()):this.mainTableScrollableElement.scrollLeft=t},onScroll:function(){this.wot.getSetting("onScrollHorizontally")},sumCellSizes:function(t,e){for(var i=0,o=this.wot.wtSettings.defaultColumnWidth;e>t;)i+=this.wot.wtTable.getStretchedColumnWidth(t)||o,t++;return i},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1;(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildsSize(),t||(this.isElementSizesAdjusted=!0))},adjustRootElementSize:function(){var t,e=this.wot.wtTable.holder,i=e.clientHeight!==e.offsetHeight?s.getScrollbarWidth():0,o=this.clone.wtTable.holder.parentNode,n=o.style;this.trimmingContainer!==window&&(n.height=this.wot.wtViewport.getWorkspaceHeight()-i+"px"),this.clone.wtTable.holder.style.height=n.height,t=s.outerWidth(this.clone.wtTable.TABLE),n.width=(0===t?t:t+4)+"px"},adjustRootChildsSize:function(){var t=s.getScrollbarWidth();this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,0===t&&(t=30),this.clone.wtTable.holder.style.width=parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+t+"px"},applyToDOM:function(){var t=this.wot.getSetting("totalColumns");if(this.isElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.top=""},scrollTo:function(t,e){var i=this.getTableParentOffset(),o=this.wot.cloneSource?this.wot.cloneSource:this.wot,n=o.wtTable.holder,r=0;e&&n.offsetWidth!==n.clientWidth&&(r=s.getScrollbarWidth()),e?(i+=this.sumCellSizes(0,t+1),i-=this.wot.wtViewport.getViewportWidth()):i+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),t),i+=r,this.setScrollPosition(i)},getTableParentOffset:function(){return this.trimmingContainer===window?this.wot.wtTable.holderOffset.left:0},getScrollPosition:function(){return s.getScrollLeft(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(t){if(0===this.wot.getSetting("fixedColumnsLeft")&&this.wot.getSetting("rowHeaders").length>0){var e=this.wot.wtTable.holder.parentNode,i=s.hasClass(e,"innerBorderLeft");t?s.addClass(e,"innerBorderLeft"):s.removeClass(e,"innerBorderLeft"),(!i&&t||i&&!t)&&this.wot.wtOverlays.adjustElementsSize()}}},{},r),window.WalkontableLeftOverlay=a},{"./../../../../dom.js":27,"./_base.js":11}],15:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableTopOverlay:{get:function(){return a}},__esModule:{value:!0}});var o,n,s=(o=t("./../../../../dom.js"),o&&o.__esModule&&o||{"default":o}),r=(n=t("./_base.js"),n&&n.__esModule&&n||{"default":n}).WalkontableOverlay,a=function(t){$traceurRuntime.superConstructor(l).call(this,t),this.clone=this.makeClone(r.CLONE_TOP)},l=a;$traceurRuntime.createClass(a,{shouldBeRendered:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length)},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0;if(this.wot.wtOverlays.leftOverlay.trimmingContainer===window){var i,o,n=this.wot.wtTable.hider.getBoundingClientRect(),r=Math.ceil(n.top),a=Math.ceil(n.bottom);i=this.wot.wtTable.hider.style.left,i=""===i?0:i,o=0>r&&a-t.offsetHeight>0?-r:0,e=o,o+="px",s.setOverlayPosition(t,i,o)}else e=this.getScrollPosition();this.adjustHeaderBordersPosition(e)}},setScrollPosition:function(t){this.mainTableScrollableElement===window?window.scrollTo(s.getWindowScrollLeft(),t):this.mainTableScrollableElement.scrollTop=t},onScroll:function(){this.wot.getSetting("onScrollVertically")},sumCellSizes:function(t,e){for(var i=0,o=this.wot.wtSettings.settings.defaultRowHeight;e>t;)i+=this.wot.wtTable.getRowHeight(t)||o,t++;return i},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1;(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildsSize(),t||(this.isElementSizesAdjusted=!0))},adjustRootElementSize:function(){var t,e=this.wot.wtTable.holder,i=e.clientWidth!==e.offsetWidth?s.getScrollbarWidth():0,o=this.clone.wtTable.holder.parentNode,n=o.style;this.trimmingContainer!==window&&(n.width=this.wot.wtViewport.getWorkspaceWidth()-i+"px"),this.clone.wtTable.holder.style.width=n.width,t=s.outerHeight(this.clone.wtTable.TABLE),n.height=(0===t?t:t+4)+"px"},adjustRootChildsSize:function(){var t=s.getScrollbarWidth();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===t&&(t=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+t+"px"},applyToDOM:function(){var t=this.wot.getSetting("totalRows");if(this.isElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.left=""},scrollTo:function(t,e){var i=this.getTableParentOffset(),o=this.wot.cloneSource?this.wot.cloneSource:this.wot,n=o.wtTable.holder,r=0;e&&n.offsetHeight!==n.clientHeight&&(r=s.getScrollbarWidth()),e?(i+=this.sumCellSizes(0,t+1),i-=this.wot.wtViewport.getViewportHeight(),i+=1):i+=this.sumCellSizes(this.wot.getSetting("fixedRowsTop"),t),i+=r,this.setScrollPosition(i)},getTableParentOffset:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0},getScrollPosition:function(){return s.getScrollTop(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(t){if(0===this.wot.getSetting("fixedRowsTop")&&this.wot.getSetting("columnHeaders").length>0){var e=this.wot.wtTable.holder.parentNode,i=s.hasClass(e,"innerBorderTop");t?s.addClass(e,"innerBorderTop"):s.removeClass(e,"innerBorderTop"),(!i&&t||i&&!t)&&this.wot.wtOverlays.adjustElementsSize()}if(0===this.wot.getSetting("rowHeaders").length){var o=this.clone.wtTable.THEAD.querySelector("th:nth-of-type(2)");o&&(o.style["border-left-width"]=0)}}},{},r),window.WalkontableTopOverlay=a},{"./../../../../dom.js":27,"./_base.js":11}],16:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableOverlays:{get:function(){return g}},__esModule:{value:!0}});var o,n,s,r,a,l,h=(o=t("./../../../dom.js"),o&&o.__esModule&&o||{"default":o}),c=(n=t("./../../../eventManager.js"),n&&n.__esModule&&n||{"default":n}).EventManager,d=(s=t("./overlay/corner.js"),s&&s.__esModule&&s||{"default":s}).WalkontableCornerOverlay,u=(r=t("./overlay/debug.js"),r&&r.__esModule&&r||{"default":r}).WalkontableDebugOverlay,f=(a=t("./overlay/left.js"),a&&a.__esModule&&a||{"default":a}).WalkontableLeftOverlay,p=(l=t("./overlay/top.js"),l&&l.__esModule&&l||{"default":l}).WalkontableTopOverlay,g=function(t){this.wot=t,this.instance=this.wot,this.eventManager=new c(this.wot),this.wot.update("scrollbarWidth",h.getScrollbarWidth()),this.wot.update("scrollbarHeight",h.getScrollbarWidth()),this.mainTableScrollableElement=h.getScrollableElement(this.wot.wtTable.TABLE),this.topOverlay=new p(this.wot),this.leftOverlay=new f(this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay=new d(this.wot)),this.wot.getSetting("debug")&&(this.debug=new u(this.wot)),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},left:{top:0,left:null}},this.registerListeners()};$traceurRuntime.createClass(g,{refreshAll:function(){if(this.wot.drawn){if(!this.wot.wtTable.holder.parentNode)return void this.destroy();this.wot.draw(!0),this.topOverlay.onScroll(),this.leftOverlay.onScroll()}},registerListeners:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"keydown",function(){return t.onKeyDown()}),this.eventManager.addEventListener(document.documentElement,"keyup",function(){return t.onKeyUp()}),this.eventManager.addEventListener(this.mainTableScrollableElement,"scroll",function(e){return t.onTableScroll(e)}),this.topOverlay.needFullRender&&(this.eventManager.addEventListener(this.topOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}),this.eventManager.addEventListener(this.topOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)})),this.leftOverlay.needFullRender&&(this.eventManager.addEventListener(this.leftOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}),this.eventManager.addEventListener(this.leftOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)})),this.topOverlay.trimmingContainer!==window&&this.leftOverlay.trimmingContainer!==window&&this.eventManager.addEventListener(window,"wheel",function(e){var i,o=e.wheelDeltaY||e.deltaY,n=e.wheelDeltaX||e.deltaX;t.topOverlay.clone.wtTable.holder.contains(e.target)?i="top":t.leftOverlay.clone.wtTable.holder.contains(e.target)&&(i="left"),"top"==i&&0!==o?e.preventDefault():"left"==i&&0!==n&&e.preventDefault()})},onTableScroll:function(t){Handsontable.mobileBrowser||(!this.keyPressed||this.mainTableScrollableElement===window||t.target.contains(this.mainTableScrollableElement))&&("scroll"===t.type?this.syncScrollPositions(t):this.translateMouseWheelToScroll(t))},onKeyDown:function(){this.keyPressed=!0},onKeyUp:function(){this.keyPressed=!1},translateMouseWheelToScroll:function(t){for(var e,i=this.topOverlay.clone.wtTable.holder,o=this.leftOverlay.clone.wtTable.holder,n={type:"wheel"},s=t.target,r=t.wheelDeltaY||-1*t.deltaY,a=t.wheelDeltaX||-1*t.deltaX;s!=document&&null!=s;){if(s.className.indexOf("wtHolder")>-1){e=s;break}s=s.parentNode}return n.target=e,e==i?this.syncScrollPositions(n,-.2*r):e==o&&this.syncScrollPositions(n,-.2*a),!1},syncScrollPositions:function(t){var e=void 0!==arguments[1]?arguments[1]:null;if(!this.destroyed){if(0===arguments.length)return void this.syncScrollWithMaster();var i,o,n=this.mainTableScrollableElement,s=t.target,r=0,a=!1;this.topOverlay.needFullRender&&(i=this.topOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&(o=this.leftOverlay.clone.wtTable.holder),s===document&&(s=window),s===n?(r=h.getScrollLeft(s),this.overlayScrollPositions.master.left!==r&&(this.overlayScrollPositions.master.left=r,a=!0,i&&(i.scrollLeft=r)),r=h.getScrollTop(s),this.overlayScrollPositions.master.top!==r&&(this.overlayScrollPositions.master.top=r,a=!0,o&&(o.scrollTop=r))):s===i?(r=h.getScrollLeft(s),this.overlayScrollPositions.top.left!==r&&(this.overlayScrollPositions.top.left=r,a=!0,n.scrollLeft=r),null!==e&&(a=!0,n.scrollTop+=e)):s===o&&(r=h.getScrollTop(s),this.overlayScrollPositions.left.top!==r&&(this.overlayScrollPositions.left.top=r,a=!0,n.scrollTop=r),null!==e&&(a=!0,n.scrollLeft+=e)),!this.keyPressed&&a&&"scroll"===t.type&&this.refreshAll()}},syncScrollWithMaster:function(){var t=this.topOverlay.mainTableScrollableElement;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=t.scrollLeft),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=t.scrollTop)},destroy:function(){this.eventManager.clear(),this.topOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0},refresh:function(){var t=void 0!==arguments[0]?arguments[0]:!1;if(this.topOverlay.isElementSizesAdjusted&&this.leftOverlay.isElementSizesAdjusted){var e=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,i=e.clientWidth,o=e.clientHeight;(i!==this.spreaderLastSize.width||o!==this.spreaderLastSize.height)&&(this.spreaderLastSize.width=i,this.spreaderLastSize.height=o,this.adjustElementsSize())}this.leftOverlay.refresh(t),this.topOverlay.refresh(t),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(t),this.debug&&this.debug.refresh(t)},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=this.wot.getSetting("totalColumns"),i=this.wot.getSetting("totalRows"),o=this.wot.wtViewport.getRowHeaderWidth(),n=this.wot.wtViewport.getColumnHeaderHeight(),s=this.wot.wtTable.hider.style;s.width=o+this.leftOverlay.sumCellSizes(0,e)+"px",s.height=n+this.topOverlay.sumCellSizes(0,i)+1+"px",this.topOverlay.adjustElementsSize(t),this.leftOverlay.adjustElementsSize(t)},applyToDOM:function(){this.topOverlay.isElementSizesAdjusted&&this.leftOverlay.isElementSizesAdjusted||this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.leftOverlay.applyToDOM()}},{}),window.WalkontableOverlays=g},{"./../../../dom.js":27,"./../../../eventManager.js":41,"./overlay/corner.js":12,"./overlay/debug.js":13,"./overlay/left.js":14,"./overlay/top.js":15}],17:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableScroll:{get:function(){return o}},__esModule:{value:!0}});var o=function(t){this.wot=t,this.instance=t};$traceurRuntime.createClass(o,{scrollViewport:function(t){if(this.wot.drawn){var e=this.wot.getSetting("totalRows"),i=this.wot.getSetting("totalColumns");if(t.row<0||t.row>e-1)throw new Error("row "+t.row+" does not exist");if(t.col<0||t.col>i-1)throw new Error("column "+t.col+" does not exist");t.row>this.instance.wtTable.getLastVisibleRow()?this.wot.wtOverlays.topOverlay.scrollTo(t.row,!0):t.row>=this.instance.getSetting("fixedRowsTop")&&t.row<this.instance.wtTable.getFirstVisibleRow()&&this.wot.wtOverlays.topOverlay.scrollTo(t.row),t.col>this.instance.wtTable.getLastVisibleColumn()?this.wot.wtOverlays.leftOverlay.scrollTo(t.col,!0):t.col>=this.instance.getSetting("fixedColumnsLeft")&&t.col<this.instance.wtTable.getFirstVisibleColumn()&&this.wot.wtOverlays.leftOverlay.scrollTo(t.col)}}},{}),window.WalkontableScroll=o},{}],18:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableSelection:{get:function(){return d}},__esModule:{value:!0}});var o,n,s,r,a=(o=t("./../../../dom.js"),o&&o.__esModule&&o||{"default":o}),l=(n=t("./border.js"),n&&n.__esModule&&n||{"default":n}).WalkontableBorder,h=(s=t("./cell/coords.js"),s&&s.__esModule&&s||{"default":s}).WalkontableCellCoords,c=(r=t("./cell/range.js"),r&&r.__esModule&&r||{"default":r
}).WalkontableCellRange,d=function(t,e){this.settings=t,this.cellRange=e||null,this.instanceBorders={}};$traceurRuntime.createClass(d,{getBorder:function(t){return this.instanceBorders[t.guid]?this.instanceBorders[t.guid]:void(this.instanceBorders[t.guid]=new l(t,this.settings))},isEmpty:function(){return null===this.cellRange},add:function(t){this.isEmpty()?this.cellRange=new c(t,t,t):this.cellRange.expand(t)},replace:function(t,e){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=e,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=e,!0}return!1},clear:function(){this.cellRange=null},getCorners:function(){var t=this.cellRange.getTopLeftCorner(),e=this.cellRange.getBottomRightCorner();return[t.row,t.col,e.row,e.col]},addClassAtCoords:function(t,e,i,o){var n=t.wtTable.getCell(new h(e,i));"object"==typeof n&&a.addClass(n,o)},draw:function(t){if(this.isEmpty()){if(this.settings.border){var e=this.getBorder(t);e&&e.disappear()}}else{for(var i,o,n,s=t.wtTable.getRenderedRowsCount(),r=t.wtTable.getRenderedColumnsCount(),l=this.getCorners(),h=0;r>h;h++)o=t.wtTable.columnFilter.renderedToSource(h),o>=l[1]&&o<=l[3]&&(n=t.wtTable.getColumnHeader(o),n&&this.settings.highlightColumnClassName&&a.addClass(n,this.settings.highlightColumnClassName));for(var c=0;s>c;c++){i=t.wtTable.rowFilter.renderedToSource(c),i>=l[0]&&i<=l[2]&&(n=t.wtTable.getRowHeader(i),n&&this.settings.highlightRowClassName&&a.addClass(n,this.settings.highlightRowClassName));for(var d=0;r>d;d++)o=t.wtTable.columnFilter.renderedToSource(d),i>=l[0]&&i<=l[2]&&o>=l[1]&&o<=l[3]?this.settings.className&&this.addClassAtCoords(t,i,o,this.settings.className):i>=l[0]&&i<=l[2]?this.settings.highlightRowClassName&&this.addClassAtCoords(t,i,o,this.settings.highlightRowClassName):o>=l[1]&&o<=l[3]&&this.settings.highlightColumnClassName&&this.addClassAtCoords(t,i,o,this.settings.highlightColumnClassName)}if(t.getSetting("onBeforeDrawBorders",l,this.settings.className),this.settings.border){var u=this.getBorder(t);u&&u.appear(l)}}}},{}),window.WalkontableSelection=d},{"./../../../dom.js":27,"./border.js":2,"./cell/coords.js":5,"./cell/range.js":6}],19:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableSettings:{get:function(){return s}},__esModule:{value:!0}});var o,n=(o=t("./../../../dom.js"),o&&o.__esModule&&o||{"default":o}),s=function(t,e){var i=this;this.wot=t,this.instance=t,this.defaults={table:void 0,debug:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,data:void 0,fixedColumnsLeft:0,fixedRowsTop:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(t,e,o){var s=i.getSetting("data",t,e);n.fastInnerText(o,void 0===s||null===s?"":s)},columnWidth:function(t){},rowHeight:function(t){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1},this.settings={};for(var o in this.defaults)if(this.defaults.hasOwnProperty(o))if(void 0!==e[o])this.settings[o]=e[o];else{if(void 0===this.defaults[o])throw new Error('A required setting "'+o+'" was not provided');this.settings[o]=this.defaults[o]}};$traceurRuntime.createClass(s,{update:function(t,e){if(void 0===e)for(var i in t)t.hasOwnProperty(i)&&(this.settings[i]=t[i]);else this.settings[t]=e;return this.wot},getSetting:function(t,e,i,o,n){return"function"==typeof this.settings[t]?this.settings[t](e,i,o,n):void 0!==e&&Array.isArray(this.settings[t])?this.settings[t][e]:this.settings[t]},has:function(t){return!!this.settings[t]}},{}),window.WalkontableSettings=s},{"./../../../dom.js":27}],20:[function(t,e,i){"use strict";function o(t,e){this.instance=t,this.TABLE=e,p.removeTextNodes(this.TABLE);var i=this.TABLE.parentNode;if(!i||1!==i.nodeType||!p.hasClass(i,"wtHolder")){var o=document.createElement("DIV");o.className="wtSpreader",i&&i.insertBefore(o,this.TABLE),o.appendChild(this.TABLE)}if(this.spreader=this.TABLE.parentNode,this.spreader.style.position="relative",i=this.spreader.parentNode,!i||1!==i.nodeType||!p.hasClass(i,"wtHolder")){var n=document.createElement("DIV");n.className="wtHider",i&&i.insertBefore(n,this.spreader),n.appendChild(this.spreader)}if(this.hider=this.spreader.parentNode,i=this.hider.parentNode,!i||1!==i.nodeType||!p.hasClass(i,"wtHolder")){var s=document.createElement("DIV");s.style.position="relative",s.className="wtHolder",i&&i.insertBefore(s,this.hider),t.cloneSource||(s.parentNode.className+="ht_master handsontable"),s.appendChild(this.hider)}if(this.holder=this.hider.parentNode,this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.TBODY=this.TABLE.getElementsByTagName("TBODY")[0],this.TBODY||(this.TBODY=document.createElement("TBODY"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.getElementsByTagName("THEAD")[0],this.THEAD||(this.THEAD=document.createElement("THEAD"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.getElementsByTagName("COLGROUP")[0],this.COLGROUP||(this.COLGROUP=document.createElement("COLGROUP"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.instance.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length){var r=document.createElement("TR");this.THEAD.appendChild(r)}this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null}Object.defineProperties(i,{WalkontableTable:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a,l,h,c,d,u,f,p=(n=t("./../../../dom.js"),n&&n.__esModule&&n||{"default":n}),g=(s=t("./cell/coords.js"),s&&s.__esModule&&s||{"default":s}).WalkontableCellCoords,m=((r=t("./cell/range.js"),r&&r.__esModule&&r||{"default":r}).WalkontableCellRange,(a=t("./filter/column.js"),a&&a.__esModule&&a||{"default":a}).WalkontableColumnFilter),v=(l=t("./overlay/corner.js"),l&&l.__esModule&&l||{"default":l}).WalkontableCornerOverlay,b=(h=t("./overlay/debug.js"),h&&h.__esModule&&h||{"default":h}).WalkontableDebugOverlay,y=(c=t("./overlay/left.js"),c&&c.__esModule&&c||{"default":c}).WalkontableLeftOverlay,w=(d=t("./filter/row.js"),d&&d.__esModule&&d||{"default":d}).WalkontableRowFilter,C=(u=t("./tableRenderer.js"),u&&u.__esModule&&u||{"default":u}).WalkontableTableRenderer,_=(f=t("./overlay/top.js"),f&&f.__esModule&&f||{"default":f}).WalkontableTopOverlay;o.prototype.alignOverlaysWithTrimmingContainer=function(){var t=p.getTrimmingContainer(this.wtRootElement);this.isWorkingOnClone()||(this.holder.parentNode.style.position="relative",t!==window?(this.holder.style.width=p.getStyle(t,"width"),this.holder.style.height=p.getStyle(t,"height"),this.holder.style.overflow=""):(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible"))},o.prototype.isWorkingOnClone=function(){return!!this.instance.cloneSource},o.prototype.draw=function(t){if(this.isWorkingOnClone()||(this.holderOffset=p.offset(this.holder),t=this.instance.wtViewport.createRenderCalculators(t)),t)this.isWorkingOnClone()||this.instance.wtViewport.createVisibleCalculators(),this.instance.wtOverlays&&this.instance.wtOverlays.refresh(!0);else{this.isWorkingOnClone()?this.tableOffset=this.instance.cloneSource.wtTable.tableOffset:this.tableOffset=p.offset(this.TABLE);var e;e=this.instance.cloneOverlay instanceof b||this.instance.cloneOverlay instanceof _||this.instance.cloneOverlay instanceof v?0:this.instance.wtViewport.rowsRenderCalculator.startRow;var i;i=this.instance.cloneOverlay instanceof b||this.instance.cloneOverlay instanceof y||this.instance.cloneOverlay instanceof v?0:this.instance.wtViewport.columnsRenderCalculator.startColumn,this.rowFilter=new w(e,this.instance.getSetting("totalRows"),this.instance.getSetting("columnHeaders").length),this.columnFilter=new m(i,this.instance.getSetting("totalColumns"),this.instance.getSetting("rowHeaders").length),this._doDraw(),this.alignOverlaysWithTrimmingContainer()}return this.refreshSelections(t),this.isWorkingOnClone()||(this.instance.wtOverlays.topOverlay.resetFixedPosition(),this.instance.wtOverlays.leftOverlay.resetFixedPosition(),this.instance.wtOverlays.topLeftCornerOverlay&&this.instance.wtOverlays.topLeftCornerOverlay.resetFixedPosition()),this.instance.drawn=!0,this},o.prototype._doDraw=function(){var t=new C(this);t.render()},o.prototype.removeClassFromCells=function(t){for(var e=this.TABLE.querySelectorAll("."+t),i=0,o=e.length;o>i;i++)p.removeClass(e[i],t)},o.prototype.refreshSelections=function(t){var e,i;if(this.instance.selections){if(i=this.instance.selections.length,t)for(e=0;i>e;e++)this.instance.selections[e].settings.className&&this.removeClassFromCells(this.instance.selections[e].settings.className),this.instance.selections[e].settings.highlightRowClassName&&this.removeClassFromCells(this.instance.selections[e].settings.highlightRowClassName),this.instance.selections[e].settings.highlightColumnClassName&&this.removeClassFromCells(this.instance.selections[e].settings.highlightColumnClassName);for(e=0;i>e;e++)this.instance.selections[e].draw(this.instance,t)}},o.prototype.getCell=function(t){if(this.isRowBeforeRenderedRows(t.row))return-1;if(this.isRowAfterRenderedRows(t.row))return-2;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t.row)];return e?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t.col)]:void 0},o.prototype.getColumnHeader=function(t,e){e||(e=0);var i=this.THEAD.childNodes[e];return i?i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]:void 0},o.prototype.getRowHeader=function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return e?e.childNodes[0]:void 0},o.prototype.getCoords=function(t){var e=t.parentNode,i=p.index(e);return i=e.parentNode===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(i):this.rowFilter.renderedToSource(i),new g(i,this.columnFilter.visibleRowHeadedColumnToSourceColumn(t.cellIndex))},o.prototype.getTrForRow=function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]},o.prototype.getFirstRenderedRow=function(){return this.instance.wtViewport.rowsRenderCalculator.startRow},o.prototype.getFirstVisibleRow=function(){return this.instance.wtViewport.rowsVisibleCalculator.startRow},o.prototype.getFirstRenderedColumn=function(){return this.instance.wtViewport.columnsRenderCalculator.startColumn},o.prototype.getFirstVisibleColumn=function(){return this.instance.wtViewport.columnsVisibleCalculator.startColumn},o.prototype.getLastRenderedRow=function(){return this.instance.wtViewport.rowsRenderCalculator.endRow},o.prototype.getLastVisibleRow=function(){return this.instance.wtViewport.rowsVisibleCalculator.endRow},o.prototype.getLastRenderedColumn=function(){return this.instance.wtViewport.columnsRenderCalculator.endColumn},o.prototype.getLastVisibleColumn=function(){return this.instance.wtViewport.columnsVisibleCalculator.endColumn},o.prototype.isRowBeforeRenderedRows=function(t){return this.rowFilter.sourceToRendered(t)<0&&t>=0},o.prototype.isRowAfterViewport=function(t){return t>this.getLastVisibleRow()},o.prototype.isRowAfterRenderedRows=function(t){return t>this.getLastRenderedRow()},o.prototype.isColumnBeforeViewport=function(t){return this.columnFilter.sourceToRendered(t)<0&&t>=0},o.prototype.isColumnAfterViewport=function(t){return t>this.getLastVisibleColumn()},o.prototype.isLastRowFullyVisible=function(){return this.getLastVisibleRow()===this.getLastRenderedRow()},o.prototype.isLastColumnFullyVisible=function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn},o.prototype.getRenderedColumnsCount=function(){return this.instance.cloneOverlay instanceof b?this.instance.getSetting("totalColumns"):this.instance.cloneOverlay instanceof y||this.instance.cloneOverlay instanceof v?this.instance.getSetting("fixedColumnsLeft"):this.instance.wtViewport.columnsRenderCalculator.count},o.prototype.getRenderedRowsCount=function(){return this.instance.cloneOverlay instanceof b?this.instance.getSetting("totalRows"):this.instance.cloneOverlay instanceof _||this.instance.cloneOverlay instanceof v?this.instance.getSetting("fixedRowsTop"):this.instance.wtViewport.rowsRenderCalculator.count},o.prototype.getVisibleRowsCount=function(){return this.instance.wtViewport.rowsVisibleCalculator.count},o.prototype.allRowsInViewport=function(){return this.instance.getSetting("totalRows")==this.getVisibleRowsCount()},o.prototype.getRowHeight=function(t){var e=this.instance.wtSettings.settings.rowHeight(t),i=this.instance.wtViewport.oversizedRows[t];return void 0!==i&&(e=e?Math.max(e,i):i),e},o.prototype.getColumnHeaderHeight=function(t){var e=this.instance.wtSettings.settings.defaultRowHeight,i=this.instance.wtViewport.oversizedColumnHeaders[t];return void 0!==i&&(e=e?Math.max(e,i):i),e},o.prototype.getVisibleColumnsCount=function(){return this.instance.wtViewport.columnsVisibleCalculator.count},o.prototype.allColumnsInViewport=function(){return this.instance.getSetting("totalColumns")==this.getVisibleColumnsCount()},o.prototype.getColumnWidth=function(t){var e=this.instance.wtSettings.settings.columnWidth;"function"==typeof e?e=e(t):"object"==typeof e&&(e=e[t]);var i=this.instance.wtViewport.oversizedCols[t];return void 0!==i&&(e=e?Math.max(e,i):i),e},o.prototype.getStretchedColumnWidth=function(t){var e,i=this.getColumnWidth(t)||this.instance.wtSettings.settings.defaultColumnWidth,o=this.instance.wtViewport.columnsRenderCalculator;return o&&(e=o.getStretchedColumnWidth(t,i),e&&(i=e)),i},window.WalkontableTable=o},{"./../../../dom.js":27,"./cell/coords.js":5,"./cell/range.js":6,"./filter/column.js":9,"./filter/row.js":10,"./overlay/corner.js":12,"./overlay/debug.js":13,"./overlay/left.js":14,"./overlay/top.js":15,"./tableRenderer.js":21}],21:[function(t,e,i){"use strict";function o(t,e){var i=document.createElement("TH");return e.insertBefore(i,t),e.removeChild(t),i}function n(t,e){var i=document.createElement("TD");return e.insertBefore(i,t),e.removeChild(t),i}Object.defineProperties(i,{WalkontableTableRenderer:{get:function(){return l}},__esModule:{value:!0}});var s,r=(s=t("./../../../dom.js"),s&&s.__esModule&&s||{"default":s}),a={},l=function(t){this.wtTable=t,this.wot=t.instance,this.instance=t.instance,this.rowFilter=t.rowFilter,this.columnFilter=t.columnFilter,this.TABLE=t.TABLE,this.THEAD=t.THEAD,this.TBODY=t.TBODY,this.COLGROUP=t.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0};$traceurRuntime.createClass(l,{render:function(){this.wtTable.isWorkingOnClone()||this.wot.getSetting("beforeDraw",!0),this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var t,e=this.wtTable.getRenderedColumnsCount(),i=this.wtTable.getRenderedRowsCount(),o=this.wot.getSetting("totalColumns"),n=this.wot.getSetting("totalRows"),s=!1;if(o>0&&(this.adjustAvailableNodes(),s=!0,this.renderColGroups(),this.renderColumnHeaders(),this.renderRows(n,i,e),this.wtTable.isWorkingOnClone()?this.adjustColumnHeaderHeights():(t=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnWidths(e)),s||this.adjustAvailableNodes(),this.removeRedundantRows(i),!this.wtTable.isWorkingOnClone()){if(this.markOversizedRows(),this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM(),t!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;for(var r=this.wtTable.getFirstRenderedColumn(),a=this.wtTable.getLastRenderedColumn(),l=r;a>l;l++){var h=this.wtTable.getStretchedColumnWidth(l),c=this.columnFilter.sourceToRendered(l);this.COLGROUP.childNodes[c+this.rowHeaderCount].style.width=h+"px"}}this.wot.getSetting("onDraw",!0)}},removeRedundantRows:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--},renderRows:function(t,e,i){for(var o,n,s=0,r=this.rowFilter.renderedToSource(s),a=this.wtTable.isWorkingOnClone();t>r&&r>=0;){if(s>1e3)throw new Error("Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars.");if(void 0!==e&&s===e)break;if(n=this.getOrCreateTrForRow(s,n),this.renderRowHeaders(r,n),this.adjustColumns(n,i+this.rowHeaderCount),o=this.renderCells(r,n,i),a||this.resetOversizedRow(r),n.firstChild){var l=this.wot.wtTable.getRowHeight(r);l?n.firstChild.style.height=l+"px":n.firstChild.style.height=""}s++,r=this.rowFilter.renderedToSource(s)}},resetOversizedRow:function(t){this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[t]&&(this.wot.wtViewport.oversizedRows[t]=void 0)},markOversizedRows:function(){var t,e,i,o,n,s=this.instance.wtTable.TBODY.childNodes.length,a=s*this.instance.wtSettings.settings.defaultRowHeight,l=r.innerHeight(this.instance.wtTable.TBODY)-1;if(a!==l)for(;s;)s--,i=this.instance.wtTable.rowFilter.renderedToSource(s),t=this.instance.wtTable.getRowHeight(i),o=this.instance.wtTable.getTrForRow(i),n=o.querySelector("th"),e=n?r.innerHeight(n):r.innerHeight(o)-1,(!t&&this.instance.wtSettings.settings.defaultRowHeight<e||e>t)&&(this.instance.wtViewport.oversizedRows[i]=e)},adjustColumnHeaderHeights:function(){for(var t=this.wot.getSetting("columnHeaders"),e=this.wot.wtTable.THEAD.childNodes,i=this.wot.wtViewport.oversizedColumnHeaders,o=0,n=t.length;n>o;o++)if(i[o]){if(0===e[o].childNodes.length)return;e[o].childNodes[0].style.height=i[o]+"px"}},markIfOversizedColumnHeader:function(t){var e,i,o,n,s=this.wot.getSetting("columnHeaders").length,a=this.wot.wtSettings.settings.defaultRowHeight;for(e=this.wot.wtTable.columnFilter.renderedToSource(t);s;)s--,i=this.wot.wtTable.getColumnHeaderHeight(s),o=this.wot.wtTable.getColumnHeader(e,s),o&&(n=r.innerHeight(o),(!i&&n>a||n>i)&&(this.wot.wtViewport.oversizedColumnHeaders[s]=n))},renderCells:function(t,e,i){for(var o,s,a=0;i>a;a++)s=this.columnFilter.renderedToSource(a),o=0===a?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(s)]:o.nextSibling,"TH"==o.nodeName&&(o=n(o,e)),r.hasClass(o,"hide")||(o.className=""),o.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(t,s,o);return o},adjustColumnWidths:function(t){var e=0,i=this.wot.cloneSource?this.wot.cloneSource:this.wot,o=i.wtTable.holder;o.offsetHeight<o.scrollHeight&&(e=r.getScrollbarWidth()),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-e);for(var n=0;t>n;n++){var s=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(n));this.COLGROUP.childNodes[n+this.rowHeaderCount].style.width=s+"px"}},appendToTbody:function(t){this.TBODY.appendChild(t),this.wtTable.tbodyChildrenLength++},getOrCreateTrForRow:function(t,e){var i;return t>=this.wtTable.tbodyChildrenLength?(i=this.createRow(),this.appendToTbody(i)):i=0===t?this.TBODY.firstChild:e.nextSibling,i},createRow:function(){for(var t=document.createElement("TR"),e=0;e<this.rowHeaderCount;e++)t.appendChild(document.createElement("TH"));return t},renderRowHeader:function(t,e,i){i.className="",i.removeAttribute("style"),this.rowHeaders[e](t,i,e)},renderRowHeaders:function(t,e){for(var i=e.firstChild,n=0;n<this.rowHeaderCount;n++)i?"TD"==i.nodeName&&(i=o(i,e)):(i=document.createElement("TH"),e.appendChild(i)),this.renderRowHeader(t,n,i),i=i.nextSibling},adjustAvailableNodes:function(){this.adjustColGroups(),this.adjustThead()},renderColumnHeaders:function(){var t=this.wot.getOverlayName();if(this.columnHeaderCount){for(var e=this.wtTable.getRenderedColumnsCount(),i=0;i<this.columnHeaderCount;i++)for(var o=this.getTrForColumnHeaders(i),n=-1*this.rowHeaderCount;e>n;n++){var s=this.columnFilter.renderedToSource(n);this.renderColumnHeader(i,s,o.childNodes[n+this.rowHeaderCount]),a[t]||this.wtTable.isWorkingOnClone()||this.markIfOversizedColumnHeader(n)}a[t]=!0}},adjustColGroups:function(){for(var t=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<t+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>t+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--},adjustThead:function(){var t=this.wtTable.getRenderedColumnsCount(),e=this.THEAD.firstChild;if(this.columnHeaders.length){for(var i=0,o=this.columnHeaders.length;o>i;i++){for(e=this.THEAD.childNodes[i],e||(e=document.createElement("TR"),this.THEAD.appendChild(e)),this.theadChildrenLength=e.childNodes.length;this.theadChildrenLength<t+this.rowHeaderCount;)e.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>t+this.rowHeaderCount;)e.removeChild(e.lastChild),this.theadChildrenLength--}var n=this.THEAD.childNodes.length;if(n>this.columnHeaders.length)for(var s=this.columnHeaders.length;n>s;s++)this.THEAD.removeChild(this.THEAD.lastChild)}else e&&r.empty(e)},getTrForColumnHeaders:function(t){return this.THEAD.childNodes[t]},renderColumnHeader:function(t,e,i){return i.className="",i.removeAttribute("style"),this.columnHeaders[t](e,i,t)},renderColGroups:function(){for(var t=0;t<this.wtTable.colgroupChildrenLength;t++)t<this.rowHeaderCount?r.addClass(this.COLGROUP.childNodes[t],"rowHeader"):r.removeClass(this.COLGROUP.childNodes[t],"rowHeader")},adjustColumns:function(t,e){for(var i=t.childNodes.length;e>i;){var o=document.createElement("TD");t.appendChild(o),i++}for(;i>e;)t.removeChild(t.lastChild),i--},removeRedundantColumns:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}},{}),window.WalkontableTableRenderer=l},{"./../../../dom.js":27}],22:[function(t,e,i){"use strict";Object.defineProperties(i,{WalkontableViewport:{get:function(){return d}},__esModule:{value:!0}});var o,n,s,r,a=(o=t("./../../../dom.js"),o&&o.__esModule&&o||{"default":o}),l=(n=t("./../../../eventManager.js"),n&&n.__esModule&&n||{"default":n}).eventManager,h=(s=t("./calculator/viewportColumns.js"),s&&s.__esModule&&s||{"default":s}).WalkontableViewportColumnsCalculator,c=(r=t("./calculator/viewportRows.js"),r&&r.__esModule&&r||{"default":r}).WalkontableViewportRowsCalculator,d=function(t){var e=this;this.wot=t,this.instance=this.wot,this.oversizedRows=[],this.oversizedCols=[],this.oversizedColumnHeaders=[],this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null;var i=l(t);i.addEventListener(window,"resize",function(){e.clientHeight=e.getWorkspaceHeight()})};$traceurRuntime.createClass(d,{getWorkspaceHeight:function(){var t,e=this.instance.wtOverlays.topOverlay.trimmingContainer,i=0;return e===window?i=document.documentElement.clientHeight:(t=a.outerHeight(e),i=t>0&&e.clientHeight>0?e.clientHeight:1/0),i},getWorkspaceWidth:function(){var t,e,i=this.instance.getSetting("totalColumns"),o=this.instance.wtOverlays.leftOverlay.trimmingContainer,n=this.instance.getSetting("stretchH"),s=document.documentElement.offsetWidth;return t=Handsontable.freezeOverlays?Math.min(s-this.getWorkspaceOffset().left,s):Math.min(this.getContainerFillWidth(),s-this.getWorkspaceOffset().left,s),o===window&&i>0&&this.sumColumnWidths(0,i-1)>t?document.documentElement.clientWidth:o!==window&&(e=a.getStyle(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow"),"scroll"==e||"hidden"==e||"auto"==e)?Math.max(t,o.clientWidth):"none"!==n&&n?t:Math.max(t,a.outerWidth(this.instance.wtTable.TABLE))},hasVerticalScroll:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()},hasHorizontalScroll:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()},sumColumnWidths:function(t,e){for(var i=0,o=this.instance.wtSettings.defaultColumnWidth;e>t;)i+=this.wot.wtTable.getColumnWidth(t)||o,t++;return i},getContainerFillWidth:function(){if(this.containerWidth)return this.containerWidth;var t,e,i=this.instance.wtTable.holder;return e=document.createElement("DIV"),e.style.width="100%",e.style.height="1px",i.appendChild(e),t=e.offsetWidth,this.containerWidth=t,i.removeChild(e),t},getWorkspaceOffset:function(){return a.offset(this.wot.wtTable.TABLE)},getWorkspaceActualHeight:function(){return a.outerHeight(this.wot.wtTable.TABLE)},getWorkspaceActualWidth:function(){return a.outerWidth(this.wot.wtTable.TABLE)||a.outerWidth(this.wot.wtTable.TBODY)||a.outerWidth(this.wot.wtTable.THEAD)},getColumnHeaderHeight:function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=a.outerHeight(this.wot.wtTable.THEAD)),this.columnHeaderHeight},getViewportHeight:function(){var t,e=this.getWorkspaceHeight();return e===1/0?e:(t=this.getColumnHeaderHeight(),t>0&&(e-=t),e)},getRowHeaderWidth:function(){if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth)){var t=this.instance.getSetting("rowHeaders");if(t.length){var e=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var i=0,o=t.length;o>i;i++)e?(this.rowHeaderWidth+=a.outerWidth(e),e=e.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0}return this.rowHeaderWidth},getViewportWidth:function(){var t,e=this.getWorkspaceWidth();return e===1/0?e:(t=this.getRowHeaderWidth(),t>0?e-t:e)},createRowsCalculator:function(){var t,e,i,o=void 0!==arguments[0]?arguments[0]:!1,n=this;if(this.rowHeaderWidth=NaN,t=this.wot.wtSettings.settings.renderAllRows?1/0:this.getViewportHeight(),e=a.getScrollTop(this.wot.wtOverlays.mainTableScrollableElement)-this.wot.wtOverlays.topOverlay.getTableParentOffset(),0>e&&(e=0),i=this.wot.getSetting("fixedRowsTop")){var s=this.wot.wtOverlays.topOverlay.sumCellSizes(0,i);e+=s,t-=s}return new c(t,e,this.wot.getSetting("totalRows"),function(t){return n.wot.wtTable.getRowHeight(t)},o?null:this.wot.wtSettings.settings.viewportRowCalculatorOverride,o)},createColumnsCalculator:function(){var t,e,i=void 0!==arguments[0]?arguments[0]:!1,o=this,n=this.getViewportWidth();if(this.columnHeaderHeight=NaN,t=this.wot.wtOverlays.leftOverlay.getScrollPosition()-this.wot.wtOverlays.topOverlay.getTableParentOffset(),0>t&&(t=0),e=this.wot.getSetting("fixedColumnsLeft")){var s=this.wot.wtOverlays.leftOverlay.sumCellSizes(0,e);t+=s,n-=s}return this.wot.wtTable.holder.clientWidth!==this.wot.wtTable.holder.offsetWidth&&(n-=a.getScrollbarWidth()),new h(n,t,this.wot.getSetting("totalColumns"),function(t){return o.wot.wtTable.getColumnWidth(t)},i?null:this.wot.wtSettings.settings.viewportColumnCalculatorOverride,i,this.wot.getSetting("stretchH"))},createRenderCalculators:function(){var t=void 0!==arguments[0]?arguments[0]:!1;if(t){var e=this.createRowsCalculator(!0),i=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(e)&&this.areAllProposedVisibleColumnsAlreadyRendered(i)||(t=!1)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t},createVisibleCalculators:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)},areAllProposedVisibleRowsAlreadyRendered:function(t){return this.rowsVisibleCalculator?t.startRow<this.rowsRenderCalculator.startRow||t.startRow===this.rowsRenderCalculator.startRow&&t.startRow>0?!1:!(t.endRow>this.rowsRenderCalculator.endRow||t.endRow===this.rowsRenderCalculator.endRow&&t.endRow<this.wot.getSetting("totalRows")-1):!1},areAllProposedVisibleColumnsAlreadyRendered:function(t){return this.columnsVisibleCalculator?t.startColumn<this.columnsRenderCalculator.startColumn||t.startColumn===this.columnsRenderCalculator.startColumn&&t.startColumn>0?!1:!(t.endColumn>this.columnsRenderCalculator.endColumn||t.endColumn===this.columnsRenderCalculator.endColumn&&t.endColumn<this.wot.getSetting("totalColumns")-1):!1}},{}),window.WalkontableViewport=d},{"./../../../dom.js":27,"./../../../eventManager.js":41,"./calculator/viewportColumns.js":3,"./calculator/viewportRows.js":4}],23:[function(t,e,i){"use strict";var o,n,s,r,a,l,h,c,d,u,f,p,g=Handsontable.version,m=Handsontable.buildDate;window.Handsontable=function b(t,e){var i=new b.Core(t,e||{});return i.init(),i},Handsontable.version=g,Handsontable.buildDate=m,o=t("./shims/array.filter.js"),o&&o.__esModule&&o||{"default":o},n=t("./shims/array.indexOf.js"),n&&n.__esModule&&n||{"default":n},s=t("./shims/array.isArray.js"),s&&s.__esModule&&s||{"default":s},r=t("./shims/classes.js"),r&&r.__esModule&&r||{"default":r},a=t("./shims/object.keys.js"),a&&a.__esModule&&a||{"default":a},l=t("./shims/string.trim.js"),l&&l.__esModule&&l||{"default":l},h=t("./shims/weakmap.js"),h&&h.__esModule&&h||{"default":h},Handsontable.plugins={};var v=(c=t("./pluginHooks.js"),c&&c.__esModule&&c||{"default":c}).Hooks;Handsontable.hooks||(Handsontable.hooks=new v),d=t("./core.js"),d&&d.__esModule&&d||{"default":d},u=t("./renderers/_cellDecorator.js"),u&&u.__esModule&&u||{"default":u},f=t("./cellTypes.js"),f&&f.__esModule&&f||{"default":f},p=t("./../plugins/jqueryHandsontable.js"),p&&p.__esModule&&p||{"default":p}},{"./../plugins/jqueryHandsontable.js":1,"./cellTypes.js":24,"./core.js":25,"./pluginHooks.js":44,"./renderers/_cellDecorator.js":71,"./shims/array.filter.js":78,"./shims/array.indexOf.js":79,"./shims/array.isArray.js":80,"./shims/classes.js":81,"./shims/object.keys.js":82,"./shims/string.trim.js":83,"./shims/weakmap.js":84}],24:[function(t,e,i){"use strict";var o,n,s,r,a,l,h,c,d,u,f,p,g,m,v,b,y,w,C,_,x,S,k=(o=t("./helpers.js"),o&&o.__esModule&&o||{"default":o}),T=(n=t("./editors.js"),n&&n.__esModule&&n||{"default":n}).getEditorConstructor,R=(s=t("./renderers.js"),s&&s.__esModule&&s||{"default":s}).getRenderer;(r=t("./editors/autocompleteEditor.js"),r&&r.__esModule&&r||{"default":r}).AutocompleteEditor,(a=t("./editors/checkboxEditor.js"),a&&a.__esModule&&a||{"default":a}).CheckboxEditor,(l=t("./editors/dateEditor.js"),l&&l.__esModule&&l||{"default":l}).DateEditor,(h=t("./editors/dropdownEditor.js"),h&&h.__esModule&&h||{"default":h}).DropdownEditor,(c=t("./editors/handsontableEditor.js"),c&&c.__esModule&&c||{"default":c}).HandsontableEditor,(d=t("./editors/mobileTextEditor.js"),d&&d.__esModule&&d||{"default":d}).MobileTextEditor,(u=t("./editors/numericEditor.js"),u&&u.__esModule&&u||{"default":u}).NumericEditor,(f=t("./editors/passwordEditor.js"),f&&f.__esModule&&f||{"default":f}).PasswordEditor,(p=t("./editors/selectEditor.js"),p&&p.__esModule&&p||{"default":p}).SelectEditor,(g=t("./editors/textEditor.js"),g&&g.__esModule&&g||{"default":g}).TextEditor,(m=t("./renderers/autocompleteRenderer.js"),m&&m.__esModule&&m||{"default":m}).AutocompleteRenderer,(v=t("./renderers/checkboxRenderer.js"),v&&v.__esModule&&v||{"default":v}).CheckboxRenderer,(b=t("./renderers/htmlRenderer.js"),b&&b.__esModule&&b||{"default":b}).HtmlRenderer,(y=t("./renderers/numericRenderer.js"),y&&y.__esModule&&y||{"default":y}).NumericRenderer,(w=t("./renderers/passwordRenderer.js"),w&&w.__esModule&&w||{"default":w}).PasswordRenderer,(C=t("./renderers/textRenderer.js"),C&&C.__esModule&&C||{"default":C}).TextRenderer,(_=t("./validators/autocompleteValidator.js"),
_&&_.__esModule&&_||{"default":_}).AutocompleteValidator,(x=t("./validators/dateValidator.js"),x&&x.__esModule&&x||{"default":x}).DateValidator,(S=t("./validators/numericValidator.js"),S&&S.__esModule&&S||{"default":S}).NumericValidator,Handsontable.mobileBrowser=k.isMobileBrowser(),Handsontable.AutocompleteCell={editor:T("autocomplete"),renderer:R("autocomplete"),validator:Handsontable.AutocompleteValidator},Handsontable.CheckboxCell={editor:T("checkbox"),renderer:R("checkbox")},Handsontable.TextCell={editor:T(Handsontable.mobileBrowser?"mobile":"text"),renderer:R("text")},Handsontable.NumericCell={editor:T("numeric"),renderer:R("numeric"),validator:Handsontable.NumericValidator,dataType:"number"},Handsontable.DateCell={editor:T("date"),validator:Handsontable.DateValidator,renderer:R("autocomplete")},Handsontable.HandsontableCell={editor:T("handsontable"),renderer:R("autocomplete")},Handsontable.PasswordCell={editor:T("password"),renderer:R("password"),copyable:!1},Handsontable.DropdownCell={editor:T("dropdown"),renderer:R("autocomplete"),validator:Handsontable.AutocompleteValidator},Handsontable.cellTypes={text:Handsontable.TextCell,date:Handsontable.DateCell,numeric:Handsontable.NumericCell,checkbox:Handsontable.CheckboxCell,autocomplete:Handsontable.AutocompleteCell,handsontable:Handsontable.HandsontableCell,password:Handsontable.PasswordCell,dropdown:Handsontable.DropdownCell},Handsontable.cellLookup={validator:{numeric:Handsontable.NumericValidator,autocomplete:Handsontable.AutocompleteValidator}}},{"./editors.js":29,"./editors/autocompleteEditor.js":31,"./editors/checkboxEditor.js":32,"./editors/dateEditor.js":33,"./editors/dropdownEditor.js":34,"./editors/handsontableEditor.js":35,"./editors/mobileTextEditor.js":36,"./editors/numericEditor.js":37,"./editors/passwordEditor.js":38,"./editors/selectEditor.js":39,"./editors/textEditor.js":40,"./helpers.js":42,"./renderers.js":70,"./renderers/autocompleteRenderer.js":72,"./renderers/checkboxRenderer.js":73,"./renderers/htmlRenderer.js":74,"./renderers/numericRenderer.js":75,"./renderers/passwordRenderer.js":76,"./renderers/textRenderer.js":77,"./validators/autocompleteValidator.js":86,"./validators/dateValidator.js":87,"./validators/numericValidator.js":88}],25:[function(t,e,i){"use strict";var o,n,s,r,a,l,h,c,d,u,f,p,g=(o=t("./dom.js"),o&&o.__esModule&&o||{"default":o}),m=(n=t("./helpers.js"),n&&n.__esModule&&n||{"default":n}),v=(s=t("numeral"),s&&s.__esModule&&s||{"default":s})["default"],b=(r=t("./dataMap.js"),r&&r.__esModule&&r||{"default":r}).DataMap,y=(a=t("./editorManager.js"),a&&a.__esModule&&a||{"default":a}).EditorManager,w=(l=t("./eventManager.js"),l&&l.__esModule&&l||{"default":l}).eventManager,C=(h=t("./plugins.js"),h&&h.__esModule&&h||{"default":h}).getPlugin,_=(c=t("./renderers.js"),c&&c.__esModule&&c||{"default":c}).getRenderer,x=(d=t("./tableView.js"),d&&d.__esModule&&d||{"default":d}).TableView,S=(u=t("./3rdparty/walkontable/src/cell/coords.js"),u&&u.__esModule&&u||{"default":u}).WalkontableCellCoords,k=(f=t("./3rdparty/walkontable/src/cell/range.js"),f&&f.__esModule&&f||{"default":f}).WalkontableCellRange;(p=t("./3rdparty/walkontable/src/selection.js"),p&&p.__esModule&&p||{"default":p}).WalkontableSelection,Handsontable.activeGuid=null,Handsontable.Core=function(t,e){function i(){var t=!1;return{validatorsInQueue:0,addValidatorToQueue:function(){this.validatorsInQueue++,t=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==t&&(t=!0,this.onQueueEmpty())}}}function o(t,e,o){function n(){var i;t.length&&(i=Handsontable.hooks.run(R,"beforeChange",t,e),"function"==typeof i?console.warn("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):i===!1&&t.splice(0,t.length)),o()}var s=new i;s.onQueueEmpty=n;for(var r=t.length-1;r>=0;r--)if(null===t[r])t.splice(r,1);else{var a=t[r][0],l=d.propToCol(t[r][1]),h=R.runHooks("modifyCol",l),c=R.getCellMeta(a,h);if("numeric"===c.type&&"string"==typeof t[r][3]&&t[r][3].length>0&&(/^-?[\d\s]*(\.|\,)?\d*$/.test(t[r][3])||c.format)){var u=t[r][3].length;"undefined"==typeof c.language?v.language("en"):t[r][3].indexOf(".")===u-3&&-1===t[r][3].indexOf(",")?v.language("en"):v.language(c.language),v.validate(t[r][3])&&(t[r][3]=v().unformat(t[r][3]))}R.getCellValidator(c)&&(s.addValidatorToQueue(),R.validateCell(t[r][3],c,function(e,i){return function(o){if("boolean"!=typeof o)throw new Error("Validation error: result is not boolean");o===!1&&i.allowInvalid===!1&&(t.splice(e,1),i.valid=!0,--e),s.removeValidatorFormQueue()}}(r,c),e))}s.checkIfQueueIsEmpty()}function n(t,e){var i=t.length-1;if(!(0>i)){for(;i>=0;i--)if(null!==t[i]){if(null!=t[i][2]||null!=t[i][3]){if(c.settings.allowInsertRow)for(;t[i][0]>R.countRows()-1;)d.createRow();if("array"===R.dataType&&c.settings.allowInsertColumn)for(;d.propToCol(t[i][1])>R.countCols()-1;)d.createCol();d.set(t[i][0],t[i][1],t[i][3])}}else t.splice(i,1);R.forceFullRender=!0,u.adjustRowsAndCols(),Handsontable.hooks.run(R,"beforeChangeRender",t,e),f.refreshBorders(null,!0),Handsontable.hooks.run(R,"afterChange",t,e||"edit")}}function s(t,e,i){return"object"==typeof t?t:[[t,e,i]]}function r(t){if(t.hasOwnProperty("type")){var e,i={};if("object"==typeof t.type)e=t.type;else if("string"==typeof t.type&&(e=Handsontable.cellTypes[t.type],void 0===e))throw new Error('You declared cell type "'+t.type+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');for(var o in e)e.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(i[o]=e[o]);return i}}function a(t){return Handsontable.hooks.run(R,"modifyRow",t)}function l(t){return Handsontable.hooks.run(R,"modifyCol",t)}function h(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}var c,d,u,f,p,R=this,E=function(){},D=w(R);m.extend(E.prototype,T.prototype),m.extend(E.prototype,e),m.extend(E.prototype,r(e)),this.rootElement=t,this.isHotTableEnv=g.isChildOfWebComponentTable(this.rootElement),Handsontable.eventManager.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("DIV"),t.insertBefore(this.container,t.firstChild),this.guid="ht_"+m.randomString(),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid),c={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new E,selRange:null,isPopulated:null,scrollable:null,firstRun:!0},u={alter:function(t,e,i,o,n){var s;switch(i=i||1,t){case"insert_row":if(R.getSettings().maxRows===R.countRows())return;s=d.createRow(e,i),s&&(f.isSelected()&&c.selRange.from.row>=e?(c.selRange.from.row=c.selRange.from.row+s,f.transformEnd(s,0)):f.refreshBorders());break;case"insert_col":if(s=d.createCol(e,i)){if(Array.isArray(R.getSettings().colHeaders)){var r=[e,0];r.length+=s,Array.prototype.splice.apply(R.getSettings().colHeaders,r)}f.isSelected()&&c.selRange.from.col>=e?(c.selRange.from.col=c.selRange.from.col+s,f.transformEnd(0,s)):f.refreshBorders()}break;case"remove_row":e=R.runHooks("modifyCol",e),d.removeRow(e,i),c.cellSettings.splice(e,i);var a=R.getSettings().fixedRowsTop;a>=e+1&&(R.getSettings().fixedRowsTop-=Math.min(i,a-e)),u.adjustRowsAndCols(),f.refreshBorders();break;case"remove_col":d.removeCol(e,i);for(var l=0,h=d.getAll().length;h>l;l++)l in c.cellSettings&&c.cellSettings[l].splice(e,i);var p=R.getSettings().fixedColumnsLeft;p>=e+1&&(R.getSettings().fixedColumnsLeft-=Math.min(i,p-e)),Array.isArray(R.getSettings().colHeaders)&&("undefined"==typeof e&&(e=-1),R.getSettings().colHeaders.splice(e,i)),u.adjustRowsAndCols(),f.refreshBorders();break;default:throw new Error('There is no such action "'+t+'"')}n||u.adjustRowsAndCols()},adjustRowsAndCols:function(){if(c.settings.minRows){var t=R.countRows();if(t<c.settings.minRows)for(var e=0,i=c.settings.minRows;i-t>e;e++)d.createRow(R.countRows(),1,!0)}if(c.settings.minSpareRows){var o=R.countEmptyRows(!0);if(o<c.settings.minSpareRows)for(;o<c.settings.minSpareRows&&R.countRows()<c.settings.maxRows;o++)d.createRow(R.countRows(),1,!0)}var n;if((c.settings.minCols||c.settings.minSpareCols)&&(n=R.countEmptyCols(!0)),c.settings.minCols&&!c.settings.columns&&R.countCols()<c.settings.minCols)for(;R.countCols()<c.settings.minCols;n++)d.createCol(R.countCols(),1,!0);if(c.settings.minSpareCols&&!c.settings.columns&&"array"===R.dataType&&n<c.settings.minSpareCols)for(;n<c.settings.minSpareCols&&R.countCols()<c.settings.maxCols;n++)d.createCol(R.countCols(),1,!0);var s=R.countRows(),r=R.countCols();if((0===s||0===r)&&f.deselect(),f.isSelected()){var a=!1,l=c.selRange.from.row,h=c.selRange.from.col,u=c.selRange.to.row,p=c.selRange.to.col;l>s-1?(l=s-1,a=!0,u>l&&(u=l)):u>s-1&&(u=s-1,a=!0,l>u&&(l=u)),h>r-1?(h=r-1,a=!0,p>h&&(p=h)):p>r-1&&(p=r-1,a=!0,h>p&&(h=p)),a&&R.selectCell(l,h,u,p)}R.view&&R.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(t,e,i,o,n,s,r){var a,l,h,d,u=[],f={};if(l=e.length,0===l)return!1;var p,g,v,b;switch(n){case"shift_down":for(p=i?i.col-t.col+1:0,g=i?i.row-t.row+1:0,e=m.translateRowsToColumns(e),h=0,d=e.length,v=Math.max(d,p);v>h;h++)if(d>h){for(a=0,l=e[h].length;g-l>a;a++)e[h].push(e[h][a%l]);e[h].unshift(t.col+h,t.row,0),R.spliceCol.apply(R,e[h])}else e[h%d][0]=t.col+h,R.spliceCol.apply(R,e[h%d]);break;case"shift_right":for(p=i?i.col-t.col+1:0,g=i?i.row-t.row+1:0,a=0,l=e.length,b=Math.max(l,g);b>a;a++)if(l>a){for(h=0,d=e[a].length;p-d>h;h++)e[a].push(e[a][h%d]);e[a].unshift(t.row+a,t.col,0),R.spliceRow.apply(R,e[a])}else e[a%l][0]=t.row+a,R.spliceRow.apply(R,e[a%l]);break;case"overwrite":default:f.row=t.row,f.col=t.col;var y={row:0,col:0},w={row:i&&t?i.row-t.row+1:1,col:i&&t?i.col-t.col+1:1},C=!0;for(-1!==["up","left"].indexOf(s)?y={row:Math.ceil(w.row/l)||1,col:Math.ceil(w.col/e[0].length)||1}:-1!==["down","right"].indexOf(s)&&(y={row:1,col:1}),a=0;l>a&&!(i&&f.row>i.row||!c.settings.allowInsertRow&&f.row>R.countRows()-1||f.row>=c.settings.maxRows);a++){for(f.col=t.col,d=e[a]?e[a].length:0,h=0;d>h&&!(i&&f.col>i.col||!c.settings.allowInsertColumn&&f.col>R.countCols()-1||f.col>=c.settings.maxCols);h++){if(!R.getCellMeta(f.row,f.col).readOnly){var _,x,S,k=e[a][h],T=R.getDataAtCell(f.row,f.col),E={row:a,col:h};"autofill"===o&&(_=R.runHooks("beforeAutofillInsidePopulate",E,s,e,r,y,w),_&&(y="undefined"!=typeof _.iterators?_.iterators:y,k="undefined"!=typeof _.value?_.value:k)),null!==k&&"object"==typeof k?null===T||"object"!=typeof T?C=!1:(S=Handsontable.helper.duckSchema(T[0]||T),x=Handsontable.helper.duckSchema(k[0]||k),Handsontable.helper.isObjectEquals(S,x)?k=Handsontable.helper.deepClone(k):C=!1):null!==T&&"object"==typeof T&&(C=!1),C&&u.push([f.row,f.col,k]),C=!0}f.col++,i&&h===d-1&&(h=-1,-1!==["down","right"].indexOf(s)?y.col++:-1!==["up","left"].indexOf(s)&&y.col>1&&y.col--)}f.row++,y.col=1,i&&a===l-1&&(a=-1,-1!==["down","right"].indexOf(s)?y.row++:-1!==["up","left"].indexOf(s)&&y.row>1&&y.row--)}R.setDataAtCell(u,null,null,o||"populateFromArray")}}},this.selection=f={inProgress:!1,selectedHeader:{cols:!1,rows:!1},setSelectedHeaders:function(t,e){R.selection.selectedHeader.rows=t,R.selection.selectedHeader.cols=e},begin:function(){R.selection.inProgress=!0},finish:function(){var t=R.getSelected();Handsontable.hooks.run(R,"afterSelectionEnd",t[0],t[1],t[2],t[3]),Handsontable.hooks.run(R,"afterSelectionEndByProp",t[0],R.colToProp(t[1]),t[2],R.colToProp(t[3])),R.selection.inProgress=!1},isInProgress:function(){return R.selection.inProgress},setRangeStart:function(t,e){Handsontable.hooks.run(R,"beforeSetRangeStart",t),c.selRange=new k(t,t,t),f.setRangeEnd(t,null,e)},setRangeEnd:function(t,e,i){if(null!==c.selRange){var o;Handsontable.hooks.run(R,"beforeSetRangeEnd",t),R.selection.begin(),c.selRange.to=new S(t.row,t.col),c.settings.multiSelect||(c.selRange.from=t),R.view.wt.selections.current.clear(),o=R.getCellMeta(c.selRange.highlight.row,c.selRange.highlight.col).disableVisualSelection,"string"==typeof o&&(o=[o]),(o===!1||Array.isArray(o)&&-1===o.indexOf("current"))&&R.view.wt.selections.current.add(c.selRange.highlight),R.view.wt.selections.area.clear(),(o===!1||Array.isArray(o)&&-1===o.indexOf("area"))&&f.isMultiple()&&(R.view.wt.selections.area.add(c.selRange.from),R.view.wt.selections.area.add(c.selRange.to)),(c.settings.currentRowClassName||c.settings.currentColClassName)&&(R.view.wt.selections.highlight.clear(),R.view.wt.selections.highlight.add(c.selRange.from),R.view.wt.selections.highlight.add(c.selRange.to)),Handsontable.hooks.run(R,"afterSelection",c.selRange.from.row,c.selRange.from.col,c.selRange.to.row,c.selRange.to.col),Handsontable.hooks.run(R,"afterSelectionByProp",c.selRange.from.row,d.colToProp(c.selRange.from.col),c.selRange.to.row,d.colToProp(c.selRange.to.col)),e!==!1&&R.view.mainViewIsActive()&&(c.selRange.from&&!f.isMultiple()?R.view.scrollViewport(c.selRange.from):R.view.scrollViewport(t)),f.refreshBorders(null,i)}},refreshBorders:function(t,e){e||p.destroyEditor(t),R.view.render(),f.isSelected()&&!e&&p.prepareEditor()},isMultiple:function(){var t=!(c.selRange.to.col===c.selRange.from.col&&c.selRange.to.row===c.selRange.from.row),e=Handsontable.hooks.run(R,"afterIsMultipleSelection",t);return t?e:void 0},transformStart:function(t,e,i,o){var n,s,r,a=new S(t,e),l=0,h=0;R.runHooks("modifyTransformStart",a),n=R.countRows(),s=R.countCols(),c.selRange.highlight.row+t>n-1?i&&c.settings.minSpareRows>0?(R.alter("insert_row",n),n=R.countRows()):c.settings.autoWrapCol&&(a.row=1-n,a.col=c.selRange.highlight.col+a.col==s-1?1-s:1):c.settings.autoWrapCol&&c.selRange.highlight.row+a.row<0&&c.selRange.highlight.col+a.col>=0&&(a.row=n-1,a.col=c.selRange.highlight.col+a.col==0?s-1:-1),c.selRange.highlight.col+a.col>s-1?i&&c.settings.minSpareCols>0?(R.alter("insert_col",s),s=R.countCols()):c.settings.autoWrapRow&&(a.row=c.selRange.highlight.row+a.row==n-1?1-n:1,a.col=1-s):c.settings.autoWrapRow&&c.selRange.highlight.col+a.col<0&&c.selRange.highlight.row+a.row>=0&&(a.row=c.selRange.highlight.row+a.row==0?n-1:-1,a.col=s-1),r=new S(c.selRange.highlight.row+a.row,c.selRange.highlight.col+a.col),r.row<0?(l=-1,r.row=0):r.row>0&&r.row>=n&&(l=1,r.row=n-1),r.col<0?(h=-1,r.col=0):r.col>0&&r.col>=s&&(h=1,r.col=s-1),R.runHooks("afterModifyTransformStart",r,l,h),f.setRangeStart(r,o)},transformEnd:function(t,e){var i,o,n,s=new S(t,e),r=0,a=0;R.runHooks("modifyTransformEnd",s),i=R.countRows(),o=R.countCols(),n=new S(c.selRange.to.row+s.row,c.selRange.to.col+s.col),n.row<0?(r=-1,n.row=0):n.row>0&&n.row>=i&&(r=1,n.row=i-1),n.col<0?(a=-1,n.col=0):n.col>0&&n.col>=o&&(a=1,n.col=o-1),R.runHooks("afterModifyTransformEnd",n,r,a),f.setRangeEnd(n,!0)},isSelected:function(){return null!==c.selRange},inInSelection:function(t){return f.isSelected()?c.selRange.includes(t):!1},deselect:function(){f.isSelected()&&(R.selection.inProgress=!1,c.selRange=null,R.view.wt.selections.current.clear(),R.view.wt.selections.area.clear(),(c.settings.currentRowClassName||c.settings.currentColClassName)&&R.view.wt.selections.highlight.clear(),p.destroyEditor(),f.refreshBorders(),Handsontable.hooks.run(R,"afterDeselect"))},selectAll:function(){c.settings.multiSelect&&(f.setRangeStart(new S(0,0)),f.setRangeEnd(new S(R.countRows()-1,R.countCols()-1),!1))},empty:function(){if(f.isSelected()){var t,e,i=c.selRange.getTopLeftCorner(),o=c.selRange.getBottomRightCorner(),n=[];for(t=i.row;t<=o.row;t++)for(e=i.col;e<=o.col;e++)R.getCellMeta(t,e).readOnly||n.push([t,e,""]);R.setDataAtCell(n)}}},this.init=function(){Handsontable.hooks.run(R,"beforeInit"),Handsontable.mobileBrowser&&g.addClass(R.rootElement,"mobile"),this.updateSettings(c.settings,!0),this.view=new x(this),p=new y(R,c,f,d),this.forceFullRender=!0,this.view.render(),"object"==typeof c.firstRun&&(Handsontable.hooks.run(R,"afterChange",c.firstRun[0],c.firstRun[1]),c.firstRun=!1),Handsontable.hooks.run(R,"afterInit")},this.validateCell=function(t,e,i,o){function n(t){var o=e.col,n=e.row,s=R.getCell(n,o,!0);s&&R.view.wt.wtSettings.settings.cellRenderer(n,o,s),i(t)}var s=R.getCellValidator(e);"[object RegExp]"===Object.prototype.toString.call(s)&&(s=function(t){return function(e,i){i(t.test(e))}}(s)),"function"==typeof s?(t=Handsontable.hooks.run(R,"beforeValidate",t,e.row,e.prop,o),R._registerTimeout(setTimeout(function(){s.call(e,t,function(i){i=Handsontable.hooks.run(R,"afterValidate",i,t,e.row,e.prop,o),e.valid=i,n(i),Handsontable.hooks.run(R,"postAfterValidate",i,t,e.row,e.prop,o)})},0))):(e.valid=!0,n(e.valid))},this.setDataAtCell=function(t,e,i,r){var a,l,h,c=s(t,e,i),u=[];for(a=0,l=c.length;l>a;a++){if("object"!=typeof c[a])throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof c[a][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");h=d.colToProp(c[a][1]),u.push([c[a][0],h,d.get(c[a][0],h),c[a][2]])}r||"object"!=typeof t||(r=e),o(u,r,function(){n(u,r)})},this.setDataAtRowProp=function(t,e,i,r){var a,l,h=s(t,e,i),c=[];for(a=0,l=h.length;l>a;a++)c.push([h[a][0],h[a][1],d.get(h[a][0],h[a][1]),h[a][2]]);r||"object"!=typeof t||(r=e),o(c,r,function(){n(c,r)})},this.listen=function(){Handsontable.activeGuid=R.guid,document.activeElement&&document.activeElement!==document.body?document.activeElement.blur():document.activeElement||document.body.focus()},this.unlisten=function(){Handsontable.activeGuid=null},this.isListening=function(){return Handsontable.activeGuid===R.guid},this.destroyEditor=function(t){f.refreshBorders(t)},this.populateFromArray=function(t,e,i,o,n,s,r,a,l){var h;if("object"!=typeof i||"object"!=typeof i[0])throw new Error("populateFromArray parameter `input` must be an array of arrays");return h="number"==typeof o?new S(o,n):null,u.populateFromArray(new S(t,e),i,h,s,r,a,l)},this.spliceCol=function(t,e,i){return d.spliceCol.apply(d,arguments)},this.spliceRow=function(t,e,i){return d.spliceRow.apply(d,arguments)},this.getSelected=function(){return f.isSelected()?[c.selRange.from.row,c.selRange.from.col,c.selRange.to.row,c.selRange.to.col]:void 0},this.getSelectedRange=function(){return f.isSelected()?c.selRange:void 0},this.render=function(){R.view&&(R.forceFullRender=!0,f.refreshBorders(null,!0))},this.loadData=function(t){function e(){c.cellSettings.length=0}if("object"==typeof t&&null!==t)t.push&&t.splice||(t=[t]);else{if(null!==t)throw new Error("loadData only accepts array of objects or array of arrays ("+typeof t+" given)");t=[];for(var i,o=0,n=c.settings.startRows;n>o;o++){i=[];for(var s=0,r=c.settings.startCols;r>s;s++)i.push(null);t.push(i)}}c.isPopulated=!1,E.prototype.data=t,Array.isArray(c.settings.dataSchema)||Array.isArray(t[0])?R.dataType="array":"function"==typeof c.settings.dataSchema?R.dataType="function":R.dataType="object",d=new b(R,c,E),e(),u.adjustRowsAndCols(),Handsontable.hooks.run(R,"afterLoadData"),c.firstRun?c.firstRun=[null,"loadData"]:(Handsontable.hooks.run(R,"afterChange",null,"loadData"),R.render()),c.isPopulated=!0},this.getData=function(t,e,i,o){return"undefined"==typeof t?d.getAll():d.getRange(new S(t,e),new S(i,o),d.DESTINATION_RENDERER)},this.getCopyableData=function(t,e,i,o){return d.getCopyableText(new S(t,e),new S(i,o))},this.getSchema=function(){return d.getSchema()},this.updateSettings=function(t,e){var i,o;if("undefined"!=typeof t.rows)throw new Error("'rows' setting is no longer supported. do you mean startRows, minRows or maxRows?");if("undefined"!=typeof t.cols)throw new Error("'cols' setting is no longer supported. do you mean startCols, minCols or maxCols?");for(i in t)"data"!==i&&(Handsontable.hooks.getRegistered().indexOf(i)>-1?("function"==typeof t[i]||Array.isArray(t[i]))&&R.addHook(i,t[i]):!e&&t.hasOwnProperty(i)&&(E.prototype[i]=t[i]));if(void 0===t.data&&void 0===c.settings.data?R.loadData(null):void 0!==t.data?R.loadData(t.data):void 0!==t.columns&&d.createMap(),o=R.countCols(),c.cellSettings.length=0,o>0){var n,s;for(i=0;o>i;i++)c.columnSettings[i]=m.columnFactory(E,c.columnsSettingConflicts),n=c.columnSettings[i].prototype,E.prototype.columns&&(s=E.prototype.columns[i],m.extend(n,s),m.extend(n,r(s)))}if("undefined"!=typeof t.cell)for(i in t.cell)if(t.cell.hasOwnProperty(i)){var a=t.cell[i];R.setCellMetaObject(a.row,a.col,a)}if(Handsontable.hooks.run(R,"afterCellMetaReset"),"undefined"!=typeof t.className&&(E.prototype.className&&g.removeClass(R.rootElement,E.prototype.className),t.className&&g.addClass(R.rootElement,t.className)),"undefined"!=typeof t.height){var l=t.height;"function"==typeof l&&(l=l()),R.rootElement.style.height=l+"px"}if("undefined"!=typeof t.width){var h=t.width;"function"==typeof h&&(h=h()),R.rootElement.style.width=h+"px"}l&&(R.rootElement.style.overflow="hidden"),e||Handsontable.hooks.run(R,"afterUpdateSettings"),u.adjustRowsAndCols(),R.view&&!c.firstRun&&(R.forceFullRender=!0,f.refreshBorders(null,!0))},this.getValue=function(){var t=R.getSelected();if(E.prototype.getValue){if("function"==typeof E.prototype.getValue)return E.prototype.getValue.call(R);if(t)return R.getData()[t[0]][E.prototype.getValue]}else if(t)return R.getDataAtCell(t[0],t[1])},this.getSettings=function(){return c.settings},this.clear=function(){f.selectAll(),f.empty()},this.alter=function(t,e,i,o,n){u.alter(t,e,i,o,n)},this.getCell=function(t,e,i){return R.view.getCellAtCoords(new S(t,e),i)},this.getCoords=function(t){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,t)},this.colToProp=function(t){return d.colToProp(t)},this.propToCol=function(t){return d.propToCol(t)},this.getDataAtCell=function(t,e){return d.get(t,d.colToProp(e))},this.getDataAtRowProp=function(t,e){return d.get(t,e)},this.getDataAtCol=function(t){var e=[];return e.concat.apply(e,d.getRange(new S(0,t),new S(c.settings.data.length-1,t),d.DESTINATION_RENDERER))},this.getDataAtProp=function(t){var e,i=[];return e=d.getRange(new S(0,d.propToCol(t)),new S(c.settings.data.length-1,d.propToCol(t)),d.DESTINATION_RENDERER),i.concat.apply(i,e)},this.getSourceDataAtCol=function(t){for(var e=[],i=c.settings.data,o=0;o<i.length;o++)e.push(i[o][t]);return e},this.getSourceDataAtRow=function(t){return c.settings.data[t]},this.getDataAtRow=function(t){var e=d.getRange(new S(t,0),new S(t,this.countCols()-1),d.DESTINATION_RENDERER);return e[0]},this.removeCellMeta=function(t,e,i){var o=R.getCellMeta(t,e);void 0!=o[i]&&delete c.cellSettings[t][e][i]},this.setCellMetaObject=function(t,e,i){if("object"==typeof i)for(var o in i)if(i.hasOwnProperty(o)){var n=i[o];this.setCellMeta(t,e,o,n)}},this.setCellMeta=function(t,e,i,o){c.cellSettings[t]||(c.cellSettings[t]=[]),c.cellSettings[t][e]||(c.cellSettings[t][e]=new c.columnSettings[e]),c.cellSettings[t][e][i]=o,Handsontable.hooks.run(R,"afterSetCellMeta",t,e,i,o)},this.getCellMeta=function(t,e){var i,o=d.colToProp(e);if(t=a(t),e=l(e),c.columnSettings[e]||(c.columnSettings[e]=m.columnFactory(E,c.columnsSettingConflicts)),c.cellSettings[t]||(c.cellSettings[t]=[]),c.cellSettings[t][e]||(c.cellSettings[t][e]=new c.columnSettings[e]),i=c.cellSettings[t][e],i.row=t,i.col=e,i.prop=o,i.instance=R,Handsontable.hooks.run(R,"beforeGetCellMeta",t,e,i),m.extend(i,r(i)),i.cells){var n=i.cells.call(i,t,e,o);n&&(m.extend(i,n),m.extend(i,r(n)))}return Handsontable.hooks.run(R,"afterGetCellMeta",t,e,i),i},this.isColumnModificationAllowed=function(){return!("object"===R.dataType||R.getSettings().columns)};var M=m.cellMethodLookupFactory("renderer");this.getCellRenderer=function(t,e){var i=M.call(this,t,e);return _(i)},this.getCellEditor=m.cellMethodLookupFactory("editor"),this.getCellValidator=m.cellMethodLookupFactory("validator"),this.validateCells=function(t){var e=new i;e.onQueueEmpty=t;for(var o=R.countRows()-1;o>=0;){for(var n=R.countCols()-1;n>=0;)e.addValidatorToQueue(),R.validateCell(R.getDataAtCell(o,n),R.getCellMeta(o,n),function(){e.removeValidatorFormQueue()},"validateCells"),n--;o--}e.checkIfQueueIsEmpty()},this.getRowHeader=function(t){if(void 0===t){for(var e=[],i=0,o=R.countRows();o>i;i++)e.push(R.getRowHeader(i));return e}return Array.isArray(c.settings.rowHeaders)&&void 0!==c.settings.rowHeaders[t]?c.settings.rowHeaders[t]:"function"==typeof c.settings.rowHeaders?c.settings.rowHeaders(t):c.settings.rowHeaders&&"string"!=typeof c.settings.rowHeaders&&"number"!=typeof c.settings.rowHeaders?t+1:c.settings.rowHeaders},this.hasRowHeaders=function(){return!!c.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==c.settings.colHeaders&&null!==c.settings.colHeaders)return!!c.settings.colHeaders;for(var t=0,e=R.countCols();e>t;t++)if(R.getColHeader(t))return!0;return!1},this.getColHeader=function(t){if(void 0===t){for(var e=[],i=0,o=R.countCols();o>i;i++)e.push(R.getColHeader(i));return e}var n=t;return t=Handsontable.hooks.run(R,"modifyCol",t),c.settings.columns&&c.settings.columns[t]&&c.settings.columns[t].title?c.settings.columns[t].title:Array.isArray(c.settings.colHeaders)&&void 0!==c.settings.colHeaders[t]?c.settings.colHeaders[t]:"function"==typeof c.settings.colHeaders?c.settings.colHeaders(t):c.settings.colHeaders&&"string"!=typeof c.settings.colHeaders&&"number"!=typeof c.settings.colHeaders?m.spreadsheetColumnLabel(n):c.settings.colHeaders},this._getColWidthFromSettings=function(t){var e=R.getCellMeta(0,t),i=e.width;if((void 0===i||i===c.settings.width)&&(i=e.colWidths),void 0!==i&&null!==i){switch(typeof i){case"object":i=i[t];break;case"function":i=i(t)}"string"==typeof i&&(i=parseInt(i,10))}return i},this.getColWidth=function(t){var e=R._getColWidthFromSettings(t);return e||(e=50),e=Handsontable.hooks.run(R,"modifyColWidth",e,t)},this._getRowHeightFromSettings=function(t){var e=c.settings.rowHeights;if(void 0!==e&&null!==e){switch(typeof e){case"object":e=e[t];break;case"function":e=e(t)}"string"==typeof e&&(e=parseInt(e,10))}return e},this.getRowHeight=function(t){var e=R._getRowHeightFromSettings(t);return e=Handsontable.hooks.run(R,"modifyRowHeight",e,t)},this.countRows=function(){return c.settings.data.length},this.countCols=function(){return"object"===R.dataType||"function"===R.dataType?c.settings.columns&&c.settings.columns.length?c.settings.columns.length:d.colToPropCache.length:"array"===R.dataType?c.settings.columns&&c.settings.columns.length?c.settings.columns.length:c.settings.data&&c.settings.data[0]&&c.settings.data[0].length?c.settings.data[0].length:0:void 0},this.rowOffset=function(){return R.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return R.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return R.view.wt.drawn?R.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return R.view.wt.drawn?R.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return R.view.wt.drawn?R.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return R.view.wt.drawn?R.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(t){for(var e,i=R.countRows()-1,o=0;i>=0;){if(e=Handsontable.hooks.run(this,"modifyRow",i),R.isEmptyRow(e))o++;else if(t)break;i--}return o},this.countEmptyCols=function(t){if(R.countRows()<1)return 0;for(var e=R.countCols()-1,i=0;e>=0;){if(R.isEmptyCol(e))i++;else if(t)break;e--}return i},this.isEmptyRow=function(t){return c.settings.isEmptyRow.call(R,t)},this.isEmptyCol=function(t){return c.settings.isEmptyCol.call(R,t)},this.selectCell=function(t,e,i,o,n,s){var r;if(s="undefined"==typeof s||s===!0,"number"!=typeof t||0>t||t>=R.countRows())return!1;if("number"!=typeof e||0>e||e>=R.countCols())return!1;if("undefined"!=typeof i){if("number"!=typeof i||0>i||i>=R.countRows())return!1;if("number"!=typeof o||0>o||o>=R.countCols())return!1}return r=new S(t,e),c.selRange=new k(r,r,r),document.activeElement&&document.activeElement!==document.documentElement&&document.activeElement!==document.body&&document.activeElement.blur(),s&&R.listen(),"undefined"==typeof i?f.setRangeEnd(c.selRange.from,n):f.setRangeEnd(new S(i,o),n),R.selection.finish(),!0},this.selectCellByProp=function(t,e,i,o,n){return arguments[1]=d.propToCol(arguments[1]),"undefined"!=typeof arguments[3]&&(arguments[3]=d.propToCol(arguments[3])),R.selectCell.apply(R,arguments)},this.deselectCell=function(){f.deselect()},this.destroy=function(){R._clearTimeouts(),R.view&&R.view.destroy(),g.empty(R.rootElement),D.clear(),Handsontable.hooks.run(R,"afterDestroy"),Handsontable.hooks.destroy(R);for(var t in R)R.hasOwnProperty(t)&&("function"==typeof R[t]?"runHooks"!==t&&(R[t]=h):"guid"!==t&&(R[t]=null));c=null,d=null,u=null,f=null,p=null,R=null,E=null},this.getActiveEditor=function(){return p.getActiveEditor()},this.getPlugin=function(t){return C(this,t)},this.getInstance=function(){return R},this.addHook=function(t,e){Handsontable.hooks.add(t,e,R)},this.addHookOnce=function(t,e){Handsontable.hooks.once(t,e,R)},this.removeHook=function(t,e){Handsontable.hooks.remove(t,e,R)},this.runHooks=function(t,e,i,o,n,s,r){return Handsontable.hooks.run(R,t,e,i,o,n,s,r)},this.timeouts=[],this._registerTimeout=function(t){this.timeouts.push(t)},this._clearTimeouts=function(){for(var t=0,e=this.timeouts.length;e>t;t++)clearTimeout(this.timeouts[t])},this.version=Handsontable.version};var T=function(){};T.prototype={data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:null,colHeaders:null,colWidths:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",persistentState:!1,currentRowClassName:void 0,currentColClassName:void 0,stretchH:"none",isEmptyRow:function(t){var e,i,o,n;for(e=0,i=this.countCols();i>e;e++)if(o=this.getDataAtCell(t,e),""!==o&&null!==o&&"undefined"!=typeof o)return"object"==typeof o?(n=this.getCellMeta(t,e),m.isObjectEquals(this.getSchema()[n.prop],o)):!1;return!0},isEmptyCol:function(t){var e,i,o;for(e=0,i=this.countRows();i>e;e++)if(o=this.getDataAtCell(e,t),""!==o&&null!==o&&"undefined"!=typeof o)return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,search:!1,type:"text",copyable:!0,editor:void 0,autoComplete:void 0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:10,viewportColumnRenderingOffset:10,groups:void 0,validator:void 0,disableVisualSelection:!1,sortIndicator:!1,manualColumnFreeze:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,format:void 0,className:void 0},Handsontable.DefaultSettings=T},{"./3rdparty/walkontable/src/cell/coords.js":5,"./3rdparty/walkontable/src/cell/range.js":6,"./3rdparty/walkontable/src/selection.js":18,"./dataMap.js":26,"./dom.js":27,"./editorManager.js":28,"./eventManager.js":41,"./helpers.js":42,"./plugins.js":45,"./renderers.js":70,"./tableView.js":85,numeral:"numeral"}],26:[function(t,e,i){"use strict";function o(t,e,i){this.instance=t,this.priv=e,this.GridSettings=i,this.dataSource=this.instance.getSettings().data,this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},
this.createMap()}Object.defineProperties(i,{DataMap:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a=(n=t("./helpers.js"),n&&n.__esModule&&n||{"default":n}),l=(s=t("./multiMap.js"),s&&s.__esModule&&s||{"default":s}).MultiMap,h=(r=t("SheetClip"),r&&r.__esModule&&r||{"default":r})["default"];Handsontable.DataMap=o,o.prototype.DESTINATION_RENDERER=1,o.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,o.prototype.recursiveDuckSchema=function(t){return Handsontable.helper.duckSchema(t)},o.prototype.recursiveDuckColumns=function(t,e,i){var o,n;if("undefined"==typeof e&&(e=0,i=""),"object"==typeof t&&!Array.isArray(t))for(n in t)t.hasOwnProperty(n)&&(null===t[n]?(o=i+n,this.colToPropCache.push(o),this.propToColCache.set(o,e),e++):e=this.recursiveDuckColumns(t[n],e,n+"."));return e},o.prototype.createMap=function(){var t,e,i=this.getSchema();if("undefined"==typeof i)throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new l;var o=this.instance.getSettings().columns;if(o)for(t=0,e=o.length;e>t;t++)"undefined"!=typeof o[t].data&&(this.colToPropCache[t]=o[t].data,this.propToColCache.set(o[t].data,t));else this.recursiveDuckColumns(i)},o.prototype.colToProp=function(t){return t=Handsontable.hooks.run(this.instance,"modifyCol",t),this.colToPropCache&&"undefined"!=typeof this.colToPropCache[t]?this.colToPropCache[t]:t},o.prototype.propToCol=function(t){var e;return e="undefined"!=typeof this.propToColCache.get(t)?this.propToColCache.get(t):t,e=Handsontable.hooks.run(this.instance,"modifyCol",e)},o.prototype.getSchema=function(){var t=this.instance.getSettings().dataSchema;return t?"function"==typeof t?t():t:this.duckSchema},o.prototype.createRow=function(t,e,i){var o,n,s=this.instance.countCols(),r=0;e||(e=1),("number"!=typeof t||t>=this.instance.countRows())&&(t=this.instance.countRows()),n=t;for(var l=this.instance.getSettings().maxRows;e>r&&this.instance.countRows()<l;){if("array"===this.instance.dataType){o=[];for(var h=0;s>h;h++)o.push(null)}else"function"===this.instance.dataType?o=this.instance.getSettings().dataSchema(t):(o={},a.deepExtend(o,this.getSchema()));t===this.instance.countRows()?this.dataSource.push(o):this.dataSource.splice(t,0,o),r++,n++}return Handsontable.hooks.run(this.instance,"afterCreateRow",t,r,i),this.instance.forceFullRender=!0,r},o.prototype.createCol=function(t,e,i){if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var o,n,s=this.instance.countRows(),r=this.dataSource,l=0;e||(e=1),n=t;for(var h=this.instance.getSettings().maxCols;e>l&&this.instance.countCols()<h;){if(o=a.columnFactory(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof t||t>=this.instance.countCols()){for(var c=0;s>c;c++)"undefined"==typeof r[c]&&(r[c]=[]),r[c].push(null);this.priv.columnSettings.push(o)}else{for(var c=0;s>c;c++)r[c].splice(n,0,null);this.priv.columnSettings.splice(n,0,o)}l++,n++}return Handsontable.hooks.run(this.instance,"afterCreateCol",t,l,i),this.instance.forceFullRender=!0,l},o.prototype.removeRow=function(t,e){e||(e=1),"number"!=typeof t&&(t=-e),t=(this.instance.countRows()+t)%this.instance.countRows();var i=this.physicalRowsToLogical(t,e),o=Handsontable.hooks.run(this.instance,"beforeRemoveRow",t,e);if(o!==!1){var n=this.dataSource,s=n.filter(function(t,e){return-1==i.indexOf(e)});n.length=0,Array.prototype.push.apply(n,s),Handsontable.hooks.run(this.instance,"afterRemoveRow",t,e),this.instance.forceFullRender=!0}},o.prototype.removeCol=function(t,e){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");e||(e=1),"number"!=typeof t&&(t=-e),t=(this.instance.countCols()+t)%this.instance.countCols();var i=Handsontable.hooks.run(this.instance,"beforeRemoveCol",t,e);if(i!==!1){for(var o=this.dataSource,n=0,s=this.instance.countRows();s>n;n++)o[n].splice(t,e);this.priv.columnSettings.splice(t,e),Handsontable.hooks.run(this.instance,"afterRemoveCol",t,e),this.instance.forceFullRender=!0}},o.prototype.spliceCol=function(t,e,i){var o=4<=arguments.length?[].slice.call(arguments,3):[],n=this.instance.getDataAtCol(t),s=n.slice(e,e+i),r=n.slice(e+i);a.extendArray(o,r);for(var l=0;i>l;)o.push(null),l++;return a.to2dArray(o),this.instance.populateFromArray(e,t,o,null,null,"spliceCol"),s},o.prototype.spliceRow=function(t,e,i){var o=4<=arguments.length?[].slice.call(arguments,3):[],n=this.instance.getSourceDataAtRow(t),s=n.slice(e,e+i),r=n.slice(e+i);a.extendArray(o,r);for(var l=0;i>l;)o.push(null),l++;return this.instance.populateFromArray(t,e,[o],null,null,"spliceRow"),s},o.prototype.get=function(t,e){if(t=Handsontable.hooks.run(this.instance,"modifyRow",t),"string"==typeof e&&e.indexOf(".")>-1){var i=e.split("."),o=this.dataSource[t];if(!o)return null;for(var n=0,s=i.length;s>n;n++)if(o=o[i[n]],"undefined"==typeof o)return null;return o}return"function"==typeof e?e(this.dataSource.slice(t,t+1)[0]):this.dataSource[t]?this.dataSource[t][e]:null};var c=a.cellMethodLookupFactory("copyable",!1);o.prototype.getCopyable=function(t,e){return c.call(this.instance,t,this.propToCol(e))?this.get(t,e):""},o.prototype.set=function(t,e,i,o){if(t=Handsontable.hooks.run(this.instance,"modifyRow",t,o||"datamapGet"),"string"==typeof e&&e.indexOf(".")>-1){for(var n=e.split("."),s=this.dataSource[t],r=0,a=n.length-1;a>r;r++)"undefined"==typeof s[n[r]]&&(s[n[r]]={}),s=s[n[r]];s[n[r]]=i}else"function"==typeof e?e(this.dataSource.slice(t,t+1)[0],i):this.dataSource[t][e]=i},o.prototype.physicalRowsToLogical=function(t,e){for(var i,o=this.instance.countRows(),n=(o+t)%o,s=[],r=e;o>n&&r;)i=Handsontable.hooks.run(this.instance,"modifyRow",n),s.push(i),r--,n++;return s},o.prototype.clear=function(){for(var t=0;t<this.instance.countRows();t++)for(var e=0;e<this.instance.countCols();e++)this.set(t,this.colToProp(e),"")},o.prototype.getAll=function(){return this.dataSource},o.prototype.getRange=function(t,e,i){var o,n,s,r,a,l=[],h=i===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(n=Math.max(t.row,e.row),r=Math.max(t.col,e.col),o=Math.min(t.row,e.row);n>=o;o++){for(a=[],s=Math.min(t.col,e.col);r>=s;s++)a.push(h.call(this,o,this.colToProp(s)));l.push(a)}return l},o.prototype.getText=function(t,e){return h.stringify(this.getRange(t,e,this.DESTINATION_RENDERER))},o.prototype.getCopyableText=function(t,e){return h.stringify(this.getRange(t,e,this.DESTINATION_CLIPBOARD_GENERATOR))}},{"./helpers.js":42,"./multiMap.js":43,SheetClip:"SheetClip"}],27:[function(t,e,i){"use strict";function o(t){null!=t&&null==t.isImmediatePropagationEnabled&&(t.stopImmediatePropagation=function(){this.isImmediatePropagationEnabled=!1,this.cancelBubble=!0},t.isImmediatePropagationEnabled=!0,t.isImmediatePropagationStopped=function(){return!this.isImmediatePropagationEnabled})}function n(t,e,i){for(;null!=t&&t!==i;){if(t.nodeType===Node.ELEMENT_NODE&&(e.indexOf(t.nodeName)>-1||e.indexOf(t)>-1))return t;t=t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.host:t.parentNode}return null}function s(t,e){var i=t.parentNode,o=[];for("string"==typeof e?o=Array.prototype.slice.call(document.querySelectorAll(e),0):o.push(e);null!=i;){if(o.indexOf(i)>-1)return!0;i=i.parentNode}return!1}function r(t){function e(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName===o.toUpperCase()}var i,o="hot-table",n=!1;for(i=a(t);null!=i;){if(e(i)){n=!0;break}if(i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(n=e(i.host))break;i=i.host}i=i.parentNode}return n}function a(t){return"undefined"!=typeof Polymer&&"function"==typeof wrap?wrap(t):t}function l(t){return"undefined"!=typeof Polymer&&"function"==typeof unwrap?unwrap(t):t}function h(){var t=document.createElement("div");return!(!t.createShadowRoot||!t.createShadowRoot.toString().match(/\[native code\]/))}function c(t){var e=0;if(t.previousSibling)for(;t=t.previousSibling;)++e;return e}function d(t){var e=0,i=[];if(!t||!t.length)return i;for(;t[e];)i.push(t[e]),e++;return i}function u(t,e){return q(t,e)}function f(t,e){return X(t,e)}function p(t,e){return K(t,e)}function g(t,e){if(3===t.nodeType)e.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1)for(var i=t.childNodes,o=i.length-1;o>=0;o--)g(i[o],t)}function m(t){for(var e;e=t.lastChild;)t.removeChild(e)}function v(t,e){it.test(e)?t.innerHTML=e:b(t,e)}function b(t,e){var i=t.firstChild;i&&3===i.nodeType&&null===i.nextSibling?ot?i.textContent=e:i.data=e:(m(t),t.appendChild(document.createTextNode(e)))}function y(t){for(var e=t;l(e)!==document.documentElement;){if(null===e)return!1;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(e.host){if(e.host.impl)return y(e.host.impl);if(e.host)return y(e.host);throw new Error("Lost in Web Components world")}return!1}if("none"===e.style.display)return!1;e=e.parentNode}return!0}function w(t){var e,i,o,n,s;if(n=document.documentElement,N()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName)return s=t.getBoundingClientRect(),{top:s.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)};for(e=t.offsetLeft,i=t.offsetTop,o=t;(t=t.offsetParent)&&t!==document.body;)e+=t.offsetLeft,i+=t.offsetTop,o=t;return o&&"fixed"===o.style.position&&(e+=window.pageXOffset||n.scrollLeft,i+=window.pageYOffset||n.scrollTop),{left:e,top:i}}function C(){var t=window.scrollY;return void 0==t&&(t=document.documentElement.scrollTop),t}function _(){var t=window.scrollX;return void 0==t&&(t=document.documentElement.scrollLeft),t}function x(t){return t===window?C(t):t.scrollTop}function S(t){return t===window?_(t):t.scrollLeft}function k(t){for(var e,i,o,n=t.parentNode,s=["auto","scroll"],r="",a="",l="",h="";n&&n.style&&document.body!==n;){if(e=n.style.overflow,i=n.style.overflowX,o=n.style.overflowY,"scroll"==e||"scroll"==i||"scroll"==o)return n;if(window.getComputedStyle&&(r=window.getComputedStyle(n),a=r.getPropertyValue("overflow"),l=r.getPropertyValue("overflow-y"),h=r.getPropertyValue("overflow-x"),"scroll"===a||"scroll"===h||"scroll"===l))return n;if(n.clientHeight<=n.scrollHeight&&(-1!==s.indexOf(o)||-1!==s.indexOf(e)||-1!==s.indexOf(a)||-1!==s.indexOf(l)))return n;if(n.clientWidth<=n.scrollWidth&&(-1!==s.indexOf(i)||-1!==s.indexOf(e)||-1!==s.indexOf(a)||-1!==s.indexOf(h)))return n;n=n.parentNode}return window}function T(t){for(var e=t.parentNode;e&&e.style&&document.body!==e;){if("visible"!==e.style.overflow&&""!==e.style.overflow)return e;if(window.getComputedStyle){var i=window.getComputedStyle(e);if("visible"!==i.getPropertyValue("overflow")&&""!==i.getPropertyValue("overflow"))return e}e=e.parentNode}return window}function R(t,e){if(t){if(t!==window){var i,o=t.style[e];return""!==o&&void 0!==o?o:(i=E(t),""!==i[e]&&void 0!==i[e]?i[e]:void 0)}if("width"===e)return window.innerWidth+"px";if("height"===e)return window.innerHeight+"px"}}function E(t){return t.currentStyle||document.defaultView.getComputedStyle(t)}function D(t){return t.offsetWidth}function M(t){return N()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName?t.offsetHeight+t.firstChild.offsetHeight:t.offsetHeight}function O(t){return t.clientHeight||t.innerHeight}function A(t){return t.clientWidth||t.innerWidth}function H(t,e,i){window.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i)}function P(t,e,i){window.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)}function I(){var t=document.createElement("TABLE");t.style.borderSpacing=0,t.style.borderWidth=0,t.style.padding=0;var e=document.createElement("TBODY");t.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var i=document.createElement("CAPTION");i.innerHTML="c<br>c<br>c<br>c",i.style.padding=0,i.style.margin=0,t.insertBefore(i,e),document.body.appendChild(t),tt=t.offsetHeight<2*t.lastChild.offsetHeight,document.body.removeChild(t)}function N(){return void 0===tt&&I(),tt}function L(t){if(t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange();if(null==e)return 0;var i=t.createTextRange(),o=i.duplicate();return i.moveToBookmark(e.getBookmark()),o.setEndPoint("EndToStart",i),o.text.length}return 0}function j(t){if(t.selectionEnd)return t.selectionEnd;if(document.selection){var e=document.selection.createRange();if(null==e)return 0;var i=t.createTextRange();return i.text.indexOf(e.text)+e.text.length}}function W(t,e,i){if(void 0===i&&(i=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,i)}catch(o){var n=t.parentNode,s=n.style.display;n.style.display="block",t.setSelectionRange(e,i),n.style.display=s}}else if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",e),r.select()}}function F(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),(document.body||document.documentElement).appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var o=t.offsetWidth;return i==o&&(o=e.clientWidth),(document.body||document.documentElement).removeChild(e),i-o}function B(){return void 0===et&&(et=F()),et}function z(){return z}function V(){return st}function $(){return rt}function U(t,e,i){nt||st?(t.style.top=i,t.style.left=e):rt?t.style["-webkit-transform"]="translate3d("+e+","+i+",0)":t.style.transform="translate3d("+e+","+i+",0)"}function Y(t){var e;return t.style.transform&&""!==(e=t.style.transform)?["transform",e]:t.style["-webkit-transform"]&&""!==(e=t.style["-webkit-transform"])?["-webkit-transform",e]:-1}function G(t){t.transform&&""!==t.transform?t.transform="":t["-webkit-transform"]&&""!==t["-webkit-transform"]&&(t["-webkit-transform"]="")}Object.defineProperties(i,{enableImmediatePropagation:{get:function(){return o}},closest:{get:function(){return n}},isChildOf:{get:function(){return s}},isChildOfWebComponentTable:{get:function(){return r}},polymerWrap:{get:function(){return a}},polymerUnwrap:{get:function(){return l}},isWebComponentSupportedNatively:{get:function(){return h}},index:{get:function(){return c}},hasClass:{get:function(){return u}},addClass:{get:function(){return f}},removeClass:{get:function(){return p}},removeTextNodes:{get:function(){return g}},empty:{get:function(){return m}},HTML_CHARACTERS:{get:function(){return it}},fastInnerHTML:{get:function(){return v}},fastInnerText:{get:function(){return b}},isVisible:{get:function(){return y}},offset:{get:function(){return w}},getWindowScrollTop:{get:function(){return C}},getWindowScrollLeft:{get:function(){return _}},getScrollTop:{get:function(){return x}},getScrollLeft:{get:function(){return S}},getScrollableElement:{get:function(){return k}},getTrimmingContainer:{get:function(){return T}},getStyle:{get:function(){return R}},getComputedStyle:{get:function(){return E}},outerWidth:{get:function(){return D}},outerHeight:{get:function(){return M}},innerHeight:{get:function(){return O}},innerWidth:{get:function(){return A}},addEvent:{get:function(){return H}},removeEvent:{get:function(){return P}},hasCaptionProblem:{get:function(){return N}},getCaretPosition:{get:function(){return L}},getSelectionEndPosition:{get:function(){return j}},setCaretPosition:{get:function(){return W}},getScrollbarWidth:{get:function(){return B}},isIE8:{get:function(){return z}},isIE9:{get:function(){return V}},isSafari:{get:function(){return $}},setOverlayPosition:{get:function(){return U}},getCssTransform:{get:function(){return Y}},resetCssTransform:{get:function(){return G}},__esModule:{value:!0}});var q,X,K,Q=!!document.documentElement.classList;if(Q){var Z=function(){var t=document.createElement("div");return t.classList.add("test","test2"),t.classList.contains("test2")}();q=function(t,e){return""===e?!1:t.classList.contains(e)},X=function(t,e){var i=0;if("string"==typeof e&&(e=e.split(" ")),e=d(e),Z)t.classList.add.apply(t.classList,e);else for(;e&&e[i];)t.classList.add(e[i]),i++},K=function(t,e){var i=0;if("string"==typeof e&&(e=e.split(" ")),e=d(e),Z)t.classList.remove.apply(t.classList,e);else for(;e&&e[i];)t.classList.remove(e[i]),i++}}else{var J=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")};q=function(t,e){return!!t.className.match(J(e))},X=function(t,e){var i=0,o=t.className;if("string"==typeof e&&(e=e.split(" ")),""===o)o=e.join(" ");else for(;e&&e[i];)J(e[i]).test(o)||(o+=" "+e[i]),i++;t.className=o},K=function(t,e){var i=0,o=t.className;for("string"==typeof e&&(e=e.split(" "));e&&e[i];)o=o.replace(J(e[i])," ").trim(),i++;t.className!==o&&(t.className=o)}}var tt,et,it=/(<(.*)>|&(.*);)/,ot=!!document.createTextNode("test").textContent,nt=!document.createTextNode("test").textContent,st=!!document.documentMode,rt=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);window.Handsontable=window.Handsontable||{},Handsontable.Dom={addClass:f,addEvent:H,closest:n,empty:m,enableImmediatePropagation:o,fastInnerHTML:v,fastInnerText:b,getCaretPosition:L,getComputedStyle:E,getCssTransform:Y,getScrollableElement:k,getScrollbarWidth:B,getScrollLeft:S,getScrollTop:x,getStyle:R,getSelectionEndPosition:j,getTrimmingContainer:T,getWindowScrollLeft:_,getWindowScrollTop:C,hasCaptionProblem:N,hasClass:u,HTML_CHARACTERS:it,index:c,innerHeight:O,innerWidth:A,isChildOf:s,isChildOfWebComponentTable:r,isIE8:z,isIE9:V,isSafari:$,isVisible:y,isWebComponentSupportedNatively:h,offset:w,outerHeight:M,outerWidth:D,polymerUnwrap:l,polymerWrap:a,removeClass:p,removeEvent:P,removeTextNodes:g,resetCssTransform:G,setCaretPosition:W,setOverlayPosition:U}},{}],28:[function(t,e,i){"use strict";function o(t,e,i){function o(t){var o="function"==typeof e.settings.enterMoves?e.settings.enterMoves(event):e.settings.enterMoves;t?i.transformStart(-o.row,-o.col):i.transformStart(o.row,o.col,!0)}function n(t){t?i.transformEnd(-1,0):i.transformStart(-1,0)}function s(t){t?i.transformEnd(1,0):i.transformStart(1,0)}function r(t){t?i.transformEnd(0,1):i.transformStart(0,1)}function a(t){t?i.transformEnd(0,-1):i.transformStart(0,-1)}function l(l){var u,f;if(t.isListening()&&(Handsontable.hooks.run(t,"beforeKeyDown",l),!b&&(d.enableImmediatePropagation(l),!l.isImmediatePropagationStopped()&&(e.lastKeyCode=l.keyCode,i.isSelected())))){if(u=(l.ctrlKey||l.metaKey)&&!l.altKey,g&&!g.isWaiting()&&!c.isMetaKey(l.keyCode)&&!u&&!m.isEditorOpened())return void m.openEditor("",l);switch(f=l.shiftKey?i.setRangeEnd:i.setRangeStart,l.keyCode){case v.A:!m.isEditorOpened()&&u&&(i.selectAll(),l.preventDefault(),c.stopPropagation(l));break;case v.ARROW_UP:m.isEditorOpened()&&!g.isWaiting()&&m.closeEditorAndSaveChanges(u),n(l.shiftKey),l.preventDefault(),c.stopPropagation(l);break;case v.ARROW_DOWN:m.isEditorOpened()&&!g.isWaiting()&&m.closeEditorAndSaveChanges(u),s(l.shiftKey),l.preventDefault(),c.stopPropagation(l);break;case v.ARROW_RIGHT:m.isEditorOpened()&&!g.isWaiting()&&m.closeEditorAndSaveChanges(u),r(l.shiftKey),l.preventDefault(),c.stopPropagation(l);break;case v.ARROW_LEFT:m.isEditorOpened()&&!g.isWaiting()&&m.closeEditorAndSaveChanges(u),a(l.shiftKey),l.preventDefault(),c.stopPropagation(l);break;case v.TAB:var p="function"==typeof e.settings.tabMoves?e.settings.tabMoves(l):e.settings.tabMoves;l.shiftKey?i.transformStart(-p.row,-p.col):i.transformStart(p.row,p.col,!0),l.preventDefault(),c.stopPropagation(l);break;case v.BACKSPACE:case v.DELETE:i.empty(l),m.prepareEditor(),l.preventDefault();break;case v.F2:m.openEditor(null,l),l.preventDefault();break;case v.ENTER:m.isEditorOpened()?(g&&g.state!==Handsontable.EditorState.WAITING&&m.closeEditorAndSaveChanges(u),o(l.shiftKey)):t.getSettings().enterBeginsEditing?m.openEditor(null,l):o(l.shiftKey),l.preventDefault(),l.stopImmediatePropagation();break;case v.ESCAPE:m.isEditorOpened()&&m.closeEditorAndRestoreOriginalValue(u),l.preventDefault();break;case v.HOME:f(l.ctrlKey||l.metaKey?new h(0,e.selRange.from.col):new h(e.selRange.from.row,0)),l.preventDefault(),c.stopPropagation(l);break;case v.END:f(l.ctrlKey||l.metaKey?new h(t.countRows()-1,e.selRange.from.col):new h(e.selRange.from.row,t.countCols()-1)),l.preventDefault(),c.stopPropagation(l);break;case v.PAGE_UP:i.transformStart(-t.countVisibleRows(),0),l.preventDefault(),c.stopPropagation(l);break;case v.PAGE_DOWN:i.transformStart(t.countVisibleRows(),0),l.preventDefault(),c.stopPropagation(l)}}}function f(){function e(t,e,i){"TD"==i.nodeName&&m.openEditor()}t.addHook("afterDocumentKeyDown",l),p.addEventListener(document.documentElement,"keydown",function(e){t.runHooks("afterDocumentKeyDown",e)}),t.view.wt.update("onCellDblClick",e),t.addHook("afterDestroy",function(){b=!0})}var p,g,m=this,v=c.keyCode,b=!1;p=u(t),this.destroyEditor=function(t){this.closeEditor(t)},this.getActiveEditor=function(){return g},this.prepareEditor=function(){var i,o,n,s,r,a,l;return g&&g.isWaiting()?void this.closeEditor(!1,!1,function(t){t&&m.prepareEditor()}):(i=e.selRange.highlight.row,o=e.selRange.highlight.col,n=t.colToProp(o),s=t.getCell(i,o),r=t.getDataAtCell(i,o),a=t.getCellMeta(i,o),l=t.getCellEditor(a),void(l?(g=Handsontable.editors.getEditor(l,t),g.prepare(i,o,n,s,r,a)):g=void 0))},this.isEditorOpened=function(){return g&&g.isOpened()},this.openEditor=function(t,e){g&&!g.cellProperties.readOnly?g.beginEditing(t,e):g&&g.cellProperties.readOnly&&e&&e.keyCode===c.keyCode.ENTER&&o()},this.closeEditor=function(t,e,i){g?g.finishEditing(t,e,i):i&&i(!1)},this.closeEditorAndSaveChanges=function(t){return this.closeEditor(!1,t)},this.closeEditorAndRestoreOriginalValue=function(t){return this.closeEditor(!0,t)},f()}Object.defineProperties(i,{EditorManager:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a,l,h=(n=t("./3rdparty/walkontable/src/cell/coords.js"),n&&n.__esModule&&n||{"default":n}).WalkontableCellCoords,c=(s=t("./helpers.js"),s&&s.__esModule&&s||{"default":s}),d=(r=t("./dom.js"),r&&r.__esModule&&r||{"default":r}),u=((a=t("./editors.js"),a&&a.__esModule&&a||{"default":a}).getEditor,(l=t("./eventManager.js"),l&&l.__esModule&&l||{"default":l}).eventManager);Handsontable.EditorManager=o},{"./3rdparty/walkontable/src/cell/coords.js":5,"./dom.js":27,"./editors.js":29,"./eventManager.js":41,"./helpers.js":42}],29:[function(t,e,i){"use strict";function o(t){var e,i;i={},e=t,this.getConstructor=function(){return t},this.getInstance=function(t){return t.guid in i||(i[t.guid]=new e(t)),i[t.guid]}}function n(t,e){var i=new o(e);"string"==typeof t&&(c[t]=i,Handsontable.editors[h.toUpperCaseFirst(t)+"Editor"]=e),d.set(e,i)}function s(t,e){var i;if("function"==typeof t)d.get(t)||n(null,t),i=d.get(t);else{if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter ');i=c[t]}if(!i)throw Error('No editor registered under name "'+t+'"');return i.getInstance(e)}function r(t){var e;if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter ');if(e=c[t],!e)throw Error('No editor registered under name "'+t+'"');return e.getConstructor()}function a(t){return!!c[t]}Object.defineProperties(i,{registerEditor:{get:function(){return n}},getEditor:{get:function(){return s}},hasEditor:{get:function(){return a}},getEditorConstructor:{get:function(){return r}},__esModule:{value:!0}});var l,h=(l=t("./helpers.js"),l&&l.__esModule&&l||{"default":l}),c={},d=new WeakMap;Handsontable.editors=Handsontable.editors||{},Handsontable.editors.registerEditor=n,Handsontable.editors.getEditor=s},{"./helpers.js":42}],30:[function(t,e,i){"use strict";function o(t){this.instance=t,this.state=Handsontable.EditorState.VIRGIN,this._opened=!1,this._closeCallback=null,this.init()}Object.defineProperties(i,{BaseEditor:{get:function(){return o}},__esModule:{value:!0}});var n,s,r=(n=t("./../helpers.js"),n&&n.__esModule&&n||{"default":n}),a=(s=t("./../3rdparty/walkontable/src/cell/coords.js"),s&&s.__esModule&&s||{"default":s}).WalkontableCellCoords;Handsontable.editors=Handsontable.editors||{},Handsontable.editors.BaseEditor=o,Handsontable.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"},o.prototype._fireCallbacks=function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)},o.prototype.init=function(){},o.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},o.prototype.setValue=function(t){throw Error("Editor setValue() method unimplemented")},o.prototype.open=function(){throw Error("Editor open() method unimplemented")},o.prototype.close=function(){throw Error("Editor close() method unimplemented")},o.prototype.prepare=function(t,e,i,o,n,s){this.TD=o,this.row=t,this.col=e,this.prop=i,this.originalValue=n,this.cellProperties=s,this.state=Handsontable.EditorState.VIRGIN},o.prototype.extend=function(){function t(){i.apply(this,arguments)}function e(t,e){function i(){}return i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t}var i=this.constructor;return e(t,i)},o.prototype.saveValue=function(t,e){var i,o;e?(i=this.instance.getSelected(),i[0]>i[2]&&(o=i[0],i[0]=i[2],i[2]=o),i[1]>i[3]&&(o=i[1],i[1]=i[3],i[3]=o),this.instance.populateFromArray(i[0],i[1],t,i[2],i[3],"edit")):this.instance.populateFromArray(this.row,this.col,t,null,null,"edit")},o.prototype.beginEditing=function(t,e){this.state==Handsontable.EditorState.VIRGIN&&(this.instance.view.scrollViewport(new a(this.row,this.col)),this.instance.view.render(),this.state=Handsontable.EditorState.EDITING,t="string"==typeof t?t:this.originalValue,this.setValue(r.stringify(t)),this.open(e),this._opened=!0,this.focus(),this.instance.view.render())},o.prototype.finishEditing=function(t,e,i){var o,n=this;if(i){var s=this._closeCallback;this._closeCallback=function(t){s&&s(t),i(t)}}if(!this.isWaiting()){if(this.state==Handsontable.EditorState.VIRGIN)return void this.instance._registerTimeout(setTimeout(function(){n._fireCallbacks(!0)},0));if(this.state==Handsontable.EditorState.EDITING){if(t)return this.cancelChanges(),void this.instance.view.render();o=this.instance.getSettings().trimWhitespace?[["string"==typeof this.getValue()?String.prototype.trim.call(this.getValue()||""):this.getValue()]]:[[this.getValue()]],this.state=Handsontable.EditorState.WAITING,this.saveValue(o,e),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(t){n.state=Handsontable.EditorState.FINISHED,n.discardEditor(t)}):(this.state=Handsontable.EditorState.FINISHED,this.discardEditor(!0))}}},o.prototype.cancelChanges=function(){this.state=Handsontable.EditorState.FINISHED,this.discardEditor()},o.prototype.discardEditor=function(t){this.state===Handsontable.EditorState.FINISHED&&(t===!1&&this.cellProperties.allowInvalid!==!0?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=Handsontable.EditorState.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this.state=Handsontable.EditorState.VIRGIN,this._fireCallbacks(!0)))},o.prototype.isOpened=function(){return this._opened},o.prototype.isWaiting=function(){return this.state===Handsontable.EditorState.WAITING}},{"./../3rdparty/walkontable/src/cell/coords.js":5,"./../helpers.js":42}],31:[function(t,e,i){"use strict";function o(t){p=!1;var e=this.getActiveEditor(),i=l.keyCode;if(l.isPrintableChar(t.keyCode)||t.keyCode===i.BACKSPACE||t.keyCode===i.DELETE||t.keyCode===i.INSERT){var o=0;if(t.keyCode===i.C&&(t.ctrlKey||t.metaKey))return;e.isOpened()||(o+=10),e.instance._registerTimeout(setTimeout(function(){e.queryChoices(e.TEXTAREA.value),p=!0},o))}}Object.defineProperties(i,{AutocompleteEditor:{get:function(){return f}},__esModule:{value:!0}});var n,s,r,a,l=(n=t("./../helpers.js"),n&&n.__esModule&&n||{"default":n}),h=(s=t("./../dom.js"),s&&s.__esModule&&s||{"default":s}),c=(r=t("./../editors.js"),r&&r.__esModule&&r||{"default":r}),d=(c.getEditorConstructor,c.registerEditor),u=(a=t("./handsontableEditor.js"),a&&a.__esModule&&a||{"default":a}).HandsontableEditor,f=u.prototype.extend();f.prototype.init=function(){u.prototype.init.apply(this,arguments),this.query=null,this.choices=[]},f.prototype.createElements=function(){u.prototype.createElements.apply(this,arguments),h.addClass(this.htContainer,"autocompleteEditor"),h.addClass(this.htContainer,-1!==window.navigator.platform.indexOf("Mac")?"htMacScroll":"")};var p=!1;f.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",o),u.prototype.prepare.apply(this,arguments)},f.prototype.open=function(){u.prototype.open.apply(this,arguments);var t=this.htEditor.getInstance(),e=this;this.TEXTAREA.style.visibility="visible",this.focus(),t.updateSettings({colWidths:[h.outerWidth(this.TEXTAREA)-2],width:h.outerWidth(this.TEXTAREA)+h.getScrollbarWidth()+2,afterRenderer:function(t,i,o,n,s){var r,a,l=this.getCellMeta(i,o).filteringCaseSensitive===!0,s=Handsontable.helper.stringify(s);s&&(r=l?s.indexOf(this.query):s.toLowerCase().indexOf(e.query.toLowerCase()),-1!=r&&(a=s.substr(r,e.query.length),t.innerHTML=s.replace(a,"<strong>"+a+"</strong>")))}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]=h.getScrollbarWidth()+2+"px",p&&(p=!1),e.instance._registerTimeout(setTimeout(function(){e.queryChoices(e.TEXTAREA.value)},0))},f.prototype.close=function(){u.prototype.close.apply(this,arguments)},f.prototype.queryChoices=function(t){if(this.query=t,"function"==typeof this.cellProperties.source){var e=this;this.cellProperties.source(t,function(t){e.updateChoicesList(t)})}else if(Array.isArray(this.cellProperties.source)){var i;if(t&&this.cellProperties.filter!==!1){var o=this.cellProperties.filteringCaseSensitive===!0,n=t.toLowerCase();i=this.cellProperties.source.filter(function(e){return o?-1!=e.indexOf(t):-1!=e.toLowerCase().indexOf(n)})}else i=this.cellProperties.source;this.updateChoicesList(i)}else this.updateChoicesList([])},f.prototype.updateChoicesList=function(t){var e,i=h.getCaretPosition(this.TEXTAREA),o=h.getSelectionEndPosition(this.TEXTAREA),n=f.sortByRelevance(this.getValue(),t,this.cellProperties.filteringCaseSensitive);if(0!=this.cellProperties.filter){for(var s=[],r=0,a=n.length;a>r;r++)s.push(t[n[r]]);e=0,t=s}else e=n[0];this.choices=t,this.htEditor.loadData(l.pivot([t])),this.updateDropdownHeight(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(e),this.instance.listen(),this.TEXTAREA.focus(),h.setCaretPosition(this.TEXTAREA,i,i!=o?o:void 0)},f.prototype.updateDropdownHeight=function(){this.htEditor.updateSettings({height:this.getDropdownHeight()}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()},f.prototype.finishEditing=function(t){t||this.instance.removeHook("beforeKeyDown",o),u.prototype.finishEditing.apply(this,arguments)},f.prototype.highlightBestMatchingChoice=function(t){"number"==typeof t?this.htEditor.selectCell(t,0):this.htEditor.deselectCell()},f.sortByRelevance=function(t,e,i){var o,n,s,r,a,l=[],h=t.length,c=[];if(0===h){for(r=0,a=e.length;a>r;r++)c.push(r);return c}for(r=0,a=e.length;a>r;r++)o=Handsontable.helper.stringify(e[r]),n=i?o.indexOf(t):o.toLowerCase().indexOf(t.toLowerCase()),-1!=n&&(s=o.length-n-h,l.push({baseIndex:r,index:n,charsLeft:s,value:o}));for(l.sort(function(t,e){return-1===e.index?-1:-1===t.index?1:t.index<e.index?-1:e.index<t.index?1:t.index===e.index?t.charsLeft<e.charsLeft?-1:t.charsLeft>e.charsLeft?1:0:void 0}),r=0,a=l.length;a>r;r++)c.push(l[r].baseIndex);return c},f.prototype.getDropdownHeight=function(){var t=this.htEditor.getInstance().getRowHeight(0)||23;return this.choices.length>=10?10*t:this.choices.length*t+8;
},d("autocomplete",f)},{"./../dom.js":27,"./../editors.js":29,"./../helpers.js":42,"./handsontableEditor.js":35}],32:[function(t,e,i){"use strict";Object.defineProperties(i,{CheckboxEditor:{get:function(){return h}},__esModule:{value:!0}});var o,n,s,r=(o=t("./../editors.js"),o&&o.__esModule&&o||{"default":o}).registerEditor,a=(n=t("./_baseEditor.js"),n&&n.__esModule&&n||{"default":n}).BaseEditor,l=(s=t("./../dom.js"),s&&s.__esModule&&s||{"default":s}),h=function(){$traceurRuntime.superConstructor(c).apply(this,arguments)},c=h;$traceurRuntime.createClass(h,{beginEditing:function(){var t=this.TD.querySelector('input[type="checkbox"]');l.hasClass(t,"htBadValue")||t.click()},finishEditing:function(){},init:function(){},open:function(){},close:function(){},getValue:function(){},setValue:function(){},focus:function(){}},{},a),r("checkbox",h)},{"./../dom.js":27,"./../editors.js":29,"./_baseEditor.js":30}],33:[function(t,e,i){"use strict";Object.defineProperties(i,{DateEditor:{get:function(){return b}},__esModule:{value:!0}});var o,n,s,r,a,l,h,c=(o=t("./../helpers.js"),o&&o.__esModule&&o||{"default":o}),d=(n=t("./../dom.js"),n&&n.__esModule&&n||{"default":n}),u=(s=t("./../editors.js"),s&&s.__esModule&&s||{"default":s}),f=(u.getEditor,u.registerEditor),p=(r=t("./textEditor.js"),r&&r.__esModule&&r||{"default":r}).TextEditor,g=(a=t("./../eventManager.js"),a&&a.__esModule&&a||{"default":a}).eventManager,m=(l=t("moment"),l&&l.__esModule&&l||{"default":l})["default"],v=(h=t("pikaday"),h&&h.__esModule&&h||{"default":h})["default"],b=function(t){this.$datePicker=null,this.datePicker=null,this.datePickerStyle=null,this.defaultDateFormat="DD/MM/YYYY",this.isCellEdited=!1,this.parentDestroyed=!1,$traceurRuntime.superGet(this,y.prototype,"constructor").call(this,t)},y=b;$traceurRuntime.createClass(b,{init:function(){var t=this;if("function"!=typeof m)throw new Error("You need to include moment.js to your project.");if("function"!=typeof v)throw new Error("You need to include Pikaday to your project.");$traceurRuntime.superGet(this,y.prototype,"init").call(this),this.instance.addHook("afterDestroy",function(){t.parentDestroyed=!0,t.destroyElements()})},createElements:function(){var t=this;$traceurRuntime.superGet(this,y.prototype,"createElements").call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,d.addClass(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker);var e=this.TEXTAREA,i={format:this.defaultDateFormat,field:e,trigger:e,container:this.datePicker,reposition:!1,bound:!1,onSelect:function(e){isNaN(e.getTime())||(e=m(e).format(t.cellProperties.dateFormat||t.defaultDateFormat)),t.setValue(e),t.hideDatepicker()},onClose:function(){t.parentDestroyed||t.finishEditing(!1)}};this.$datePicker=new v(i);var o=g(this);o.addEventListener(this.datePicker,"mousedown",function(t){c.stopPropagation(t)}),this.hideDatepicker()},destroyElements:function(){this.$datePicker.destroy()},prepare:function(t,e,i,o,n,s){this._opened=!1,$traceurRuntime.superGet(this,y.prototype,"prepare").call(this,t,e,i,o,n,s)},open:function(){var t=void 0!==arguments[0]?arguments[0]:null;$traceurRuntime.superGet(this,y.prototype,"open").call(this),this.showDatepicker(t)},close:function(){var t=this;this._opened=!1,this.instance._registerTimeout(setTimeout(function(){t.instance.selection.refreshBorders()},0)),$traceurRuntime.superGet(this,y.prototype,"close").call(this)},finishEditing:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=void 0!==arguments[1]?arguments[1]:!1;if(t){var i=this.originalValue;void 0!==i&&this.setValue(i)}this.hideDatepicker(),$traceurRuntime.superGet(this,y.prototype,"finishEditing").call(this,t,e)},showDatepicker:function(t){var e,i=this.TD.getBoundingClientRect(),o=this.cellProperties.dateFormat||this.defaultDateFormat,n=this.$datePicker.config(),s=this.instance.view.isMouseDown(),r=t?c.isMetaKey(t.keyCode):!1;this.datePickerStyle.top=window.pageYOffset+i.top+d.outerHeight(this.TD)+"px",this.datePickerStyle.left=window.pageXOffset+i.left+"px",this.$datePicker._onInputFocus=function(){},n.format=o,this.originalValue?(e=this.originalValue,m(e,o,!0).isValid()&&this.$datePicker.setMoment(m(e,o),!0),r||s||this.setValue("")):this.cellProperties.defaultDate?(e=this.cellProperties.defaultDate,n.defaultDate=e,m(e,o,!0).isValid()&&this.$datePicker.setMoment(m(e,o),!0),r||s||this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()},hideDatepicker:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{},p),f("date",b)},{"./../dom.js":27,"./../editors.js":29,"./../eventManager.js":41,"./../helpers.js":42,"./textEditor.js":40,moment:"moment",pikaday:"pikaday"}],34:[function(t,e,i){"use strict";Object.defineProperties(i,{DropdownEditor:{get:function(){return l}},__esModule:{value:!0}});var o,n,s=(o=t("./../editors.js"),o&&o.__esModule&&o||{"default":o}),r=(s.getEditor,s.registerEditor),a=(n=t("./autocompleteEditor.js"),n&&n.__esModule&&n||{"default":n}).AutocompleteEditor,l=function(){$traceurRuntime.superConstructor(h).apply(this,arguments)},h=l;$traceurRuntime.createClass(l,{prepare:function(t,e,i,o,n,s){$traceurRuntime.superGet(this,h.prototype,"prepare").call(this,t,e,i,o,n,s),this.cellProperties.filter=!1,this.cellProperties.strict=!0}},{},a),r("dropdown",l)},{"./../editors.js":29,"./autocompleteEditor.js":31}],35:[function(t,e,i){"use strict";Object.defineProperties(i,{HandsontableEditor:{get:function(){return u}},__esModule:{value:!0}});var o,n,s,r,a=(o=t("./../helpers.js"),o&&o.__esModule&&o||{"default":o}),l=(n=t("./../dom.js"),n&&n.__esModule&&n||{"default":n}),h=(s=t("./../editors.js"),s&&s.__esModule&&s||{"default":s}),c=(h.getEditor,h.registerEditor),d=(r=t("./textEditor.js"),r&&r.__esModule&&r||{"default":r}).TextEditor,u=d.prototype.extend();u.prototype.createElements=function(){d.prototype.createElements.apply(this,arguments);var t=document.createElement("DIV");t.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(t),this.htContainer=t,this.htEditor=new Handsontable(t),this.assignHooks()},u.prototype.prepare=function(t,e,i,o,n,s){d.prototype.prepare.apply(this,arguments);var r=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,cells:function(){return{readOnly:!0}},fillHandle:!1,afterOnCellMouseDown:function(){var t=this.getValue();void 0!==t&&r.setValue(t),r.instance.destroyEditor()}};this.cellProperties.handsontable&&a.extend(l,s.handsontable),this.htEditor&&this.htEditor.destroy(),this.htEditor=new Handsontable(this.htContainer,l)};var f=function(t){if(null!=t&&null==t.isImmediatePropagationEnabled&&(t.stopImmediatePropagation=function(){this.isImmediatePropagationEnabled=!1,this.cancelBubble=!0},t.isImmediatePropagationEnabled=!0,t.isImmediatePropagationStopped=function(){return!this.isImmediatePropagationEnabled}),!t.isImmediatePropagationStopped()){var e,i=this.getActiveEditor(),o=i.htEditor.getInstance();if(t.keyCode==a.keyCode.ARROW_DOWN)if(o.getSelected()){var n=o.getSelected()[0],s=o.countRows()-1;e=Math.min(s,n+1)}else e=0;else if(t.keyCode==a.keyCode.ARROW_UP&&o.getSelected()){var n=o.getSelected()[0];e=n-1}void 0!==e&&(0>e?o.deselectCell():o.selectCell(e,0),t.preventDefault(),t.stopImmediatePropagation(),i.instance.listen(),i.TEXTAREA.focus())}};u.prototype.open=function(){this.instance.addHook("beforeKeyDown",f),d.prototype.open.apply(this,arguments),this.htEditor.render(),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),l.setCaretPosition(this.TEXTAREA,0,this.TEXTAREA.value.length)},u.prototype.close=function(){this.instance.removeHook("beforeKeyDown",f),this.instance.listen(),d.prototype.close.apply(this,arguments)},u.prototype.focus=function(){this.instance.listen(),d.prototype.focus.apply(this,arguments)},u.prototype.beginEditing=function(t){var e=this.instance.getSettings().onBeginEditing;e&&e()===!1||d.prototype.beginEditing.apply(this,arguments)},u.prototype.finishEditing=function(t,e){if(this.htEditor.isListening()&&this.instance.listen(),this.htEditor.getSelected()){var i=this.htEditor.getInstance().getValue();void 0!==i&&this.setValue(i)}return d.prototype.finishEditing.apply(this,arguments)},u.prototype.assignHooks=function(){var t=this;this.instance.addHook("afterDestroy",function(){t.htEditor&&t.htEditor.destroy()})},c("handsontable",u)},{"./../dom.js":27,"./../editors.js":29,"./../helpers.js":42,"./textEditor.js":40}],36:[function(t,e,i){"use strict";Object.defineProperties(i,{MobileTextEditor:{get:function(){return p}},__esModule:{value:!0}});var o,n,s,r,a,l=(o=t("./../helpers.js"),o&&o.__esModule&&o||{"default":o}),h=(n=t("./../dom.js"),n&&n.__esModule&&n||{"default":n}),c=(s=t("./../editors.js"),s&&s.__esModule&&s||{"default":s}),d=(c.getEditor,c.registerEditor),u=(r=t("./_baseEditor.js"),r&&r.__esModule&&r||{"default":r}).BaseEditor,f=(a=t("./../eventManager.js"),a&&a.__esModule&&a||{"default":a}).eventManager,p=u.prototype.extend(),g={},m=function(){this.controls={},this.controls.leftButton=document.createElement("DIV"),this.controls.leftButton.className="leftButton",this.controls.rightButton=document.createElement("DIV"),this.controls.rightButton.className="rightButton",this.controls.upButton=document.createElement("DIV"),this.controls.upButton.className="upButton",this.controls.downButton=document.createElement("DIV"),this.controls.downButton.className="downButton";for(var t in this.controls)this.controls.hasOwnProperty(t)&&this.positionControls.appendChild(this.controls[t])};p.prototype.valueChanged=function(){return this.initValue!=this.getValue()},p.prototype.init=function(){var t=this;this.eventManager=f(this.instance),this.createElements(),this.bindEvents(),this.instance.addHook("afterDestroy",function(){t.destroy()})},p.prototype.getValue=function(){return this.TEXTAREA.value},p.prototype.setValue=function(t){this.initValue=t,this.TEXTAREA.value=t},p.prototype.createElements=function(){this.editorContainer=document.createElement("DIV"),this.editorContainer.className="htMobileEditorContainer",this.cellPointer=document.createElement("DIV"),this.cellPointer.className="cellPointer",this.moveHandle=document.createElement("DIV"),this.moveHandle.className="moveHandle",this.inputPane=document.createElement("DIV"),this.inputPane.className="inputs",this.positionControls=document.createElement("DIV"),this.positionControls.className="positionControls",this.TEXTAREA=document.createElement("TEXTAREA"),h.addClass(this.TEXTAREA,"handsontableInput"),this.inputPane.appendChild(this.TEXTAREA),this.editorContainer.appendChild(this.cellPointer),this.editorContainer.appendChild(this.moveHandle),this.editorContainer.appendChild(this.inputPane),this.editorContainer.appendChild(this.positionControls),m.call(this),document.body.appendChild(this.editorContainer)},p.prototype.onBeforeKeyDown=function(t){var e=this,i=e.getActiveEditor();if(h.enableImmediatePropagation(t),t.target===i.TEXTAREA&&!t.isImmediatePropagationStopped()){var o=l.keyCode;switch(t.keyCode){case o.ENTER:i.close(),t.preventDefault();break;case o.BACKSPACE:t.stopImmediatePropagation()}}},p.prototype.open=function(){this.instance.addHook("beforeKeyDown",this.onBeforeKeyDown),h.addClass(this.editorContainer,"active"),h.removeClass(this.cellPointer,"hidden"),this.updateEditorPosition()},p.prototype.focus=function(){this.TEXTAREA.focus(),h.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},p.prototype.close=function(){this.TEXTAREA.blur(),this.instance.removeHook("beforeKeyDown",this.onBeforeKeyDown),h.removeClass(this.editorContainer,"active")},p.prototype.scrollToView=function(){var t=this.instance.getSelectedRange().highlight;this.instance.view.scrollViewport(t)},p.prototype.hideCellPointer=function(){h.hasClass(this.cellPointer,"hidden")||h.addClass(this.cellPointer,"hidden")},p.prototype.updateEditorPosition=function(t,e){if(t&&e)t=parseInt(t,10),e=parseInt(e,10),this.editorContainer.style.top=e+"px",this.editorContainer.style.left=t+"px";else{var i=this.instance.getSelected(),o=this.instance.getCell(i[0],i[1]);if(g.cellPointer||(g.cellPointer={height:h.outerHeight(this.cellPointer),width:h.outerWidth(this.cellPointer)}),g.editorContainer||(g.editorContainer={width:h.outerWidth(this.editorContainer)}),void 0!==o){var n=this.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer==window?0:h.getScrollLeft(this.instance.view.wt.wtOverlays.leftOverlay.holder),s=this.instance.view.wt.wtOverlays.topOverlay.trimmingContainer==window?0:h.getScrollTop(this.instance.view.wt.wtOverlays.topOverlay.holder),r=h.offset(o),a=h.outerWidth(o),l={x:n,y:s};this.editorContainer.style.top=parseInt(r.top+h.outerHeight(o)-l.y+g.cellPointer.height,10)+"px",this.editorContainer.style.left=parseInt(window.innerWidth/2-g.editorContainer.width/2,10)+"px",r.left+a/2>parseInt(this.editorContainer.style.left,10)+g.editorContainer.width?this.editorContainer.style.left=window.innerWidth-g.editorContainer.width+"px":r.left+a/2<parseInt(this.editorContainer.style.left,10)+20&&(this.editorContainer.style.left="0px"),this.cellPointer.style.left=parseInt(r.left-g.cellPointer.width/2-h.offset(this.editorContainer).left+a/2-l.x,10)+"px"}}},p.prototype.updateEditorData=function(){var t=this.instance.getSelected(),e=this.instance.getDataAtCell(t[0],t[1]);this.row=t[0],this.col=t[1],this.setValue(e),this.updateEditorPosition()},p.prototype.prepareAndSave=function(){var t;return this.valueChanged()?(t=this.instance.getSettings().trimWhitespace?[[String.prototype.trim.call(this.getValue())]]:[[this.getValue()]],void this.saveValue(t)):!0},p.prototype.bindEvents=function(){var t=this;this.eventManager.addEventListener(this.controls.leftButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(0,-1,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.rightButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(0,1,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.upButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(-1,0,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.downButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(1,0,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.moveHandle,"touchstart",function(e){if(1==e.touches.length){var i=e.touches[0],o={x:t.editorContainer.offsetLeft,y:t.editorContainer.offsetTop},n={x:i.pageX-o.x,y:i.pageY-o.y};t.eventManager.addEventListener(this,"touchmove",function(e){var i=e.touches[0];t.updateEditorPosition(i.pageX-n.x,i.pageY-n.y),t.hideCellPointer(),e.preventDefault()})}}),this.eventManager.addEventListener(document.body,"touchend",function(e){h.isChildOf(e.target,t.editorContainer)||h.isChildOf(e.target,t.instance.rootElement)||t.close()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.leftOverlay.holder,"scroll",function(e){t.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer!=window&&t.hideCellPointer()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.topOverlay.holder,"scroll",function(e){t.instance.view.wt.wtOverlays.topOverlay.trimmingContainer!=window&&t.hideCellPointer()})},p.prototype.destroy=function(){this.eventManager.clear(),this.editorContainer.parentNode.removeChild(this.editorContainer)},d("mobile",p)},{"./../dom.js":27,"./../editors.js":29,"./../eventManager.js":41,"./../helpers.js":42,"./_baseEditor.js":30}],37:[function(t,e,i){"use strict";Object.defineProperties(i,{NumericEditor:{get:function(){return c}},__esModule:{value:!0}});var o,n,s,r=(o=t("numeral"),o&&o.__esModule&&o||{"default":o})["default"],a=(n=t("./../editors.js"),n&&n.__esModule&&n||{"default":n}),l=(a.getEditor,a.registerEditor),h=(s=t("./textEditor.js"),s&&s.__esModule&&s||{"default":s}).TextEditor,c=function(){$traceurRuntime.superConstructor(d).apply(this,arguments)},d=c;$traceurRuntime.createClass(c,{beginEditing:function(t){if("undefined"==typeof t&&this.originalValue){"undefined"!=typeof this.cellProperties.language&&r.language(this.cellProperties.language);var e=r.languageData().delimiters.decimal;t=(""+this.originalValue).replace(".",e)}$traceurRuntime.superGet(this,d.prototype,"beginEditing").call(this,t)}},{},h),l("numeric",c)},{"./../editors.js":29,"./textEditor.js":40,numeral:"numeral"}],38:[function(t,e,i){"use strict";Object.defineProperties(i,{PasswordEditor:{get:function(){return c}},__esModule:{value:!0}});var o,n,s,r=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),a=(n=t("./../editors.js"),n&&n.__esModule&&n||{"default":n}),l=(a.getEditor,a.registerEditor),h=(s=t("./textEditor.js"),s&&s.__esModule&&s||{"default":s}).TextEditor,c=function(){$traceurRuntime.superConstructor(d).apply(this,arguments)},d=c;$traceurRuntime.createClass(c,{createElements:function(){$traceurRuntime.superGet(this,d.prototype,"createElements").call(this),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,r.empty(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}},{},h),l("password",c)},{"./../dom.js":27,"./../editors.js":29,"./textEditor.js":40}],39:[function(t,e,i){"use strict";Object.defineProperties(i,{SelectEditor:{get:function(){return u}},__esModule:{value:!0}});var o,n,s,r,a=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),l=(n=t("./../helpers.js"),n&&n.__esModule&&n||{"default":n}),h=(s=t("./../editors.js"),s&&s.__esModule&&s||{"default":s}),c=(h.getEditor,h.registerEditor),d=(r=t("./_baseEditor.js"),r&&r.__esModule&&r||{"default":r}).BaseEditor,u=d.prototype.extend();u.prototype.init=function(){this.select=document.createElement("SELECT"),a.addClass(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select)},u.prototype.prepare=function(){d.prototype.prepare.apply(this,arguments);var t,e=this.cellProperties.selectOptions;t="function"==typeof e?this.prepareOptions(e(this.row,this.col,this.prop)):this.prepareOptions(e),a.empty(this.select);for(var i in t)if(t.hasOwnProperty(i)){var o=document.createElement("OPTION");o.value=i,a.fastInnerHTML(o,t[i]),this.select.appendChild(o)}},u.prototype.prepareOptions=function(t){var e={};if(Array.isArray(t))for(var i=0,o=t.length;o>i;i++)e[t[i]]=t[i];else"object"==typeof t&&(e=t);return e},u.prototype.getValue=function(){return this.select.value},u.prototype.setValue=function(t){this.select.value=t};var f=function(t){var e=this,i=e.getActiveEditor();switch(null!=t&&null==t.isImmediatePropagationEnabled&&(t.stopImmediatePropagation=function(){this.isImmediatePropagationEnabled=!1},t.isImmediatePropagationEnabled=!0,t.isImmediatePropagationStopped=function(){return!this.isImmediatePropagationEnabled}),t.keyCode){case l.keyCode.ARROW_UP:var o=i.select.selectedIndex-1;o>=0&&(i.select[o].selected=!0),t.stopImmediatePropagation(),t.preventDefault();break;case l.keyCode.ARROW_DOWN:var n=i.select.selectedIndex+1;n<=i.select.length-1&&(i.select[n].selected=!0),t.stopImmediatePropagation(),t.preventDefault()}};u.prototype.checkEditorSection=function(){return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?"corner":"top":this.col<this.instance.getSettings().fixedColumnsLeft?"left":void 0},u.prototype.open=function(){var t,e=a.outerWidth(this.TD),i=a.outerHeight(this.TD),o=a.offset(this.instance.rootElement),n=a.offset(this.TD),s=this.checkEditorSection();switch(s){case"top":t=a.getCssTransform(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":t=a.getCssTransform(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"corner":t=a.getCssTransform(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode)}var r=this.select.style;t&&-1!=t?r[t[0]]=t[1]:a.resetCssTransform(this.select),r.height=i+"px",r.minWidth=e+"px",r.top=n.top-o.top+"px",r.left=n.left-o.left+"px",r.margin="0px",r.display="",this.instance.addHook("beforeKeyDown",f)},u.prototype.close=function(){this.select.style.display="none",this.instance.removeHook("beforeKeyDown",f)},u.prototype.focus=function(){this.select.focus()},c("select",u)},{"./../dom.js":27,"./../editors.js":29,"./../helpers.js":42,"./_baseEditor.js":30}],40:[function(t,e,i){"use strict";Object.defineProperties(i,{TextEditor:{get:function(){return m}},__esModule:{value:!0}});var o,n,s,r,a,l,h=(o=t("./../dom.js"),o&&o.__esModule&&o||{"default":o}),c=(n=t("./../helpers.js"),n&&n.__esModule&&n||{"default":n}),d=(s=t("autoResize"),s&&s.__esModule&&s||{"default":s})["default"],u=(r=t("./_baseEditor.js"),r&&r.__esModule&&r||{"default":r}).BaseEditor,f=(a=t("./../eventManager.js"),a&&a.__esModule&&a||{"default":a}).eventManager,p=(l=t("./../editors.js"),l&&l.__esModule&&l||{"default":l}),g=(p.getEditor,p.registerEditor),m=u.prototype.extend();m.prototype.init=function(){var t=this;this.createElements(),this.eventManager=f(this),this.bindEvents(),this.autoResize=d(),this.instance.addHook("afterDestroy",function(){t.destroy()})},m.prototype.getValue=function(){return this.TEXTAREA.value},m.prototype.setValue=function(t){this.TEXTAREA.value=t};var v=function(t){var e,i,o=this,n=o.getActiveEditor();if(e=c.keyCode,i=(t.ctrlKey||t.metaKey)&&!t.altKey,h.enableImmediatePropagation(t),t.target===n.TEXTAREA&&!t.isImmediatePropagationStopped()){if(17===t.keyCode||224===t.keyCode||91===t.keyCode||93===t.keyCode)return void t.stopImmediatePropagation();switch(t.keyCode){case e.ARROW_RIGHT:case e.ARROW_LEFT:case e.ARROW_UP:case e.ARROW_DOWN:n.isWaiting()||t.stopImmediatePropagation();break;case e.ENTER:var s=n.instance.getSelected(),r=!(s[0]===s[2]&&s[1]===s[3]);if(i&&!r||t.altKey){if(n.isOpened()){var a=h.getCaretPosition(n.TEXTAREA),l=n.getValue(),d=l.slice(0,a)+"\n"+l.slice(a);n.setValue(d),h.setCaretPosition(n.TEXTAREA,a+1)}else n.beginEditing(n.originalValue+"\n");t.stopImmediatePropagation()}t.preventDefault();break;case e.A:case e.X:case e.C:case e.V:i&&t.stopImmediatePropagation();break;case e.BACKSPACE:case e.DELETE:case e.HOME:case e.END:t.stopImmediatePropagation()}n.autoResize.resize(String.fromCharCode(t.keyCode))}};m.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",v)},m.prototype.close=function(){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",v)},m.prototype.focus=function(){this.TEXTAREA.focus(),h.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},m.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),h.addClass(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),h.addClass(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var t=this;this.instance._registerTimeout(setTimeout(function(){t.refreshDimensions()},0))},m.prototype.checkEditorSection=function(){return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?"corner":"top":this.col<this.instance.getSettings().fixedColumnsLeft?"left":void 0},m.prototype.getEditedCell=function(){var t,e=this.checkEditorSection();switch(e){case"top":t=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"corner":t=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":t=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=t&&-2!=t?t:void 0},m.prototype.refreshDimensions=function(){if(this.state===Handsontable.EditorState.EDITING&&(this.TD=this.getEditedCell(),this.TD)){var t,e=h.offset(this.TD),i=h.offset(this.instance.rootElement),o=h.getScrollableElement(this.TD),n=e.top-i.top-1-(o.scrollTop||0),s=e.left-i.left-1-(o.scrollLeft||0),r=this.instance.getSettings(),a=r.rowHeaders?1:0,l=r.colHeaders?1:0,c=this.checkEditorSection(),d=this.TD.style.backgroundColor;switch(c){case"top":t=h.getCssTransform(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":t=h.getCssTransform(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"corner":t=h.getCssTransform(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode)}0>n&&(n=0),0>s&&(s=0),l&&0===this.instance.getSelected()[0]&&(n+=1),a&&0===this.instance.getSelected()[1]&&(s+=1),t&&-1!=t?this.textareaParentStyle[t[0]]=t[1]:h.resetCssTransform(this.textareaParentStyle),this.textareaParentStyle.top=n+"px",this.textareaParentStyle.left=s+"px";var u=this.TD.offsetTop-this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(),f=this.TD.offsetLeft-this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(),p=h.innerWidth(this.TD)-8,g=this.instance.view.maximumVisibleElementWidth(f)-10,m=this.TD.scrollHeight+1,v=this.instance.view.maximumVisibleElementHeight(u)-2;parseInt(this.TD.style.borderTopWidth,10)>0&&(m-=1),parseInt(this.TD.style.borderLeftWidth,10)>0&&a>0&&(p-=1),this.TEXTAREA.style.fontSize=h.getComputedStyle(this.TD).fontSize,this.TEXTAREA.style.fontFamily=h.getComputedStyle(this.TD).fontFamily,this.TEXTAREA.style.backgroundColor="",this.TEXTAREA.style.backgroundColor=d?d:h.getComputedStyle(this.TEXTAREA).backgroundColor,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(m,v),maxHeight:v,minWidth:Math.min(p,g),maxWidth:g},!0),this.textareaParentStyle.display="block"}},m.prototype.bindEvents=function(){var t=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(t){c.stopPropagation(t)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(t){c.stopPropagation(t)}),this.instance.addHook("afterScrollVertically",function(){t.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){t.refreshDimensions(),t.focus()}),this.instance.addHook("afterRowResize",function(){t.refreshDimensions(),t.focus()}),this.instance.addHook("afterDestroy",function(){t.eventManager.clear()})},m.prototype.destroy=function(){this.eventManager.clear()},g("text",m)},{"./../dom.js":27,"./../editors.js":29,"./../eventManager.js":41,"./../helpers.js":42,"./_baseEditor.js":30,autoResize:"autoResize"}],41:[function(t,e,i){"use strict";function o(t,e){var i,o,n,s,a,l="HOT-TABLE";if(e.isTargetWebComponent=!1,e.realTarget=e.target,!Handsontable.eventManager.isHotTableEnv)return e;for(e=r.polymerWrap(e),a=e.path?e.path.length:0;a--;){if(e.path[a].nodeName===l)i=!0;else if(i&&e.path[a].shadowRoot){s=e.path[a];break}0!==a||s||(s=e.path[a])}return s||(s=e.target),e.isTargetWebComponent=!0,r.isWebComponentSupportedNatively()?e.realTarget=e.srcElement||e.toElement:(t instanceof Handsontable.Core||t instanceof Walkontable)&&(t instanceof Handsontable.Core?o=t.view.wt.wtTable.TABLE:t instanceof Walkontable&&(o=t.wtTable.TABLE.parentNode.parentNode),n=r.closest(e.target,[l],o),n?e.realTarget=o.querySelector(l)||e.target:e.realTarget=e.target),Object.defineProperty(e,"target",{get:function(){return r.polymerWrap(s)},enumerable:!0,configurable:!0}),e}function n(t){return new a(t)}Object.defineProperties(i,{EventManager:{get:function(){return a}},eventManager:{get:function(){return n}},__esModule:{value:!0}});var s,r=(s=t("./dom.js"),s&&s.__esModule&&s||{"default":s}),a=function(){var t=void 0!==arguments[0]?arguments[0]:null;this.context=t||this,this.context.eventListeners||(this.context.eventListeners=[])};$traceurRuntime.createClass(a,{addEventListener:function(t,e,i){function n(t){void 0==t.target&&void 0!=t.srcElement&&(t.definePoperty?t.definePoperty("target",{value:t.srcElement}):t.target=t.srcElement),void 0==t.preventDefault&&(t.definePoperty?t.definePoperty("preventDefault",{value:function(){this.returnValue=!1}}):t.preventDefault=function(){this.returnValue=!1}),t=o(r,t),i.call(this,t)}var s=this,r=this.context;return this.context.eventListeners.push({element:t,event:e,callback:i,callbackProxy:n}),window.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n),Handsontable.countEventManagerListeners++,function(){s.removeEventListener(t,e,i)}},removeEventListener:function(t,e,i){for(var o,n=this.context.eventListeners.length;n--;)if(o=this.context.eventListeners[n],o.event==e&&o.element==t){if(i&&i!=o.callback)continue;this.context.eventListeners.splice(n,1),o.element.removeEventListener?o.element.removeEventListener(o.event,o.callbackProxy,!1):o.element.detachEvent("on"+o.event,o.callbackProxy),Handsontable.countEventManagerListeners--}},clearEvents:function(){for(var t=this.context.eventListeners.length;t--;){var e=this.context.eventListeners[t];e&&this.removeEventListener(e.element,e.event,e.callback)}},clear:function(){this.clearEvents()},fireEvent:function(t,e){var i,o={bubbles:!0,cancelable:"mousemove"!==e,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};document.createEvent?(i=document.createEvent("MouseEvents"),i.initMouseEvent(e,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget||document.body.parentNode)):i=document.createEventObject(),t.dispatchEvent?t.dispatchEvent(i):t.fireEvent("on"+e,i)}},{}),window.Handsontable=window.Handsontable||{},Handsontable.countEventManagerListeners=0,Handsontable.eventManager=n},{"./dom.js":27}],42:[function(t,e,i){"use strict";function o(t){return 32==t||t>=48&&57>=t||t>=96&&111>=t||t>=186&&192>=t||t>=219&&222>=t||t>=226||t>=65&&90>=t}function n(t){var e=[B.ARROW_DOWN,B.ARROW_UP,B.ARROW_LEFT,B.ARROW_RIGHT,B.HOME,B.END,B.DELETE,B.BACKSPACE,B.F1,B.F2,B.F3,B.F4,B.F5,B.F6,B.F7,B.F8,B.F9,B.F10,B.F11,B.F12,B.TAB,B.PAGE_DOWN,B.PAGE_UP,B.ENTER,B.ESCAPE,B.SHIFT,B.CAPS_LOCK,B.ALT];return-1!=e.indexOf(t)}function s(t){return-1!=[B.CONTROL_LEFT,224,B.COMMAND_LEFT,B.COMMAND_RIGHT].indexOf(t)}function r(t){switch(typeof t){case"string":case"number":return t+"";case"object":return null===t?"":t.toString();case"undefined":return"";default:return t.toString()}}function a(t){return t[0].toUpperCase()+t.substr(1)}function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=[],o=t.length;o--;){var n=r(t[o]).toLowerCase();-1===i.indexOf(n)&&i.push(n)}return 1===i.length}function h(t){var e;if(Array.isArray(t))e=[];else{e={};for(var i in t)t.hasOwnProperty(i)&&(t[i]&&"object"==typeof t[i]&&!Array.isArray(t[i])?e[i]=h(t[i]):Array.isArray(t[i])?t[i].length&&"object"==typeof t[i][0]&&!Array.isArray(t[i][0])?e[i]=[h(t[i][0])]:e[i]=[]:e[i]=null)}return e}function c(t){for(var e,i=t+1,o="";i>0;)e=(i-1)%26,o=String.fromCharCode(65+e)+o,i=parseInt((i-e)/26,10);return o}function d(t,e){t="number"==typeof t?t:100,e="number"==typeof e?e:4;var i,o,n=[];for(i=0;t>i;i++){
var s=[];for(o=0;e>o;o++)s.push(c(o)+(i+1));n.push(s)}return n}function u(t,e){t="number"==typeof t?t:100,e="number"==typeof e?e:4;var i,o,n=[];for(i=0;t>i;i++){var s={};for(o=0;e>o;o++)s["prop"+o]=c(o)+(i+1);n.push(s)}return n}function f(t){var e=typeof t;return"number"==e?!isNaN(t)&&isFinite(t):"string"==e?t.length?1==t.length?/\d/.test(t):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(t):!1:"object"==e?!(!t||"number"!=typeof t.valueOf()||t instanceof Date):!1}function p(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()}function g(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function m(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}function v(t,e){for(var i in e)e.hasOwnProperty(i)&&(e[i]&&"object"==typeof e[i]?(t[i]||(Array.isArray(e[i])?t[i]=[]:t[i]={}),v(t[i],e[i])):t[i]=e[i])}function b(t){return"object"==typeof t?JSON.parse(JSON.stringify(t)):t}function y(t,e){return JSON.stringify(t)===JSON.stringify(e)}function w(t){var e;if("object"==typeof t.__proto__)e=t.__proto__;else{var i,o=t.constructor;"function"==typeof t.constructor&&(i=o,delete t.constructor&&(o=t.constructor,t.constructor=i)),e=o?o.prototype:null}return e}function C(t,e){function i(){}g(i,t);for(var o=0,n=e.length;n>o;o++)i.prototype[e[o]]=void 0;return i}function _(t){var e,i,o,n,s=[],r=0;for(e=0,i=t.length;i>e;e++)for(o=0,n=t[e].length;n>o;o++)o==r&&(s.push([]),r++),s[o].push(t[e][o]);return s}function x(t){for(var e=0,i=t.length;i>e;)t[e]=[t[e]],e++}function S(t,e){for(var i=0,o=e.length;o>i;)t.push(e[i]),i++}function k(t){var e=["INPUT","SELECT","TEXTAREA"];return e.indexOf(t.nodeName)>-1||"true"===t.contentEditable}function T(t){return k(t)&&-1==t.className.indexOf("handsontableInput")&&-1==t.className.indexOf("copyPaste")}function R(t){return"[object Object]"==Object.prototype.toString.call(t)}function E(t){var e=[];if(!t||0===t.length||!t[0]||0===t[0].length)return e;for(var i=t.length,o=t[0].length,n=0;i>n;n++)for(var s=0;o>s;s++)e[s]||(e[s]=[]),e[s][n]=t[n][s];return e}function D(t,e){return function(){return t.apply(e,arguments)}}function M(t,e){function i(t){var e=Handsontable.cellTypes[t];if("undefined"==typeof e)throw new Error('You declared cell type "'+t+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');return e}return e="undefined"==typeof e?!0:e,function(o,n){return function s(o){if(o){if(o.hasOwnProperty(t)&&void 0!==o[t])return o[t];if(o.hasOwnProperty("type")&&o.type){var n;if("string"!=typeof o.type)throw new Error("Cell type must be a string ");if(n=i(o.type),n.hasOwnProperty(t))return n[t];if(e)return}return s(w(o))}}("number"==typeof o?this.getCellMeta(o,n):o)}}function O(t){return t||(t=navigator.userAgent),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}function A(){return"ontouchstart"in window}function H(t){"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function P(t){if(t.pageX)return t.pageX;var e=F.getWindowScrollLeft(),i=t.clientX+e;return i}function I(t){if(t.pageY)return t.pageY;var e=F.getWindowScrollTop(),i=t.clientY+e;return i}function N(t,e,i,o){o.value=i,o.writable=o.writable!==!1,o.enumerable=o.enumerable!==!1,o.configurable=o.configurable!==!1,Object.defineProperty(t,e,o)}function L(t){return $.call(window,t)}function j(t){U.call(window,t)}Object.defineProperties(i,{isPrintableChar:{get:function(){return o}},isMetaKey:{get:function(){return n}},isCtrlKey:{get:function(){return s}},stringify:{get:function(){return r}},toUpperCaseFirst:{get:function(){return a}},equalsIgnoreCase:{get:function(){return l}},duckSchema:{get:function(){return h}},spreadsheetColumnLabel:{get:function(){return c}},createSpreadsheetData:{get:function(){return d}},createSpreadsheetObjectData:{get:function(){return u}},isNumeric:{get:function(){return f}},randomString:{get:function(){return p}},inherit:{get:function(){return g}},extend:{get:function(){return m}},deepExtend:{get:function(){return v}},deepClone:{get:function(){return b}},isObjectEquals:{get:function(){return y}},getPrototypeOf:{get:function(){return w}},columnFactory:{get:function(){return C}},translateRowsToColumns:{get:function(){return _}},to2dArray:{get:function(){return x}},extendArray:{get:function(){return S}},isInput:{get:function(){return k}},isOutsideInput:{get:function(){return T}},keyCode:{get:function(){return B}},isObject:{get:function(){return R}},pivot:{get:function(){return E}},proxy:{get:function(){return D}},cellMethodLookupFactory:{get:function(){return M}},isMobileBrowser:{get:function(){return O}},isTouchSupported:{get:function(){return A}},stopPropagation:{get:function(){return H}},pageX:{get:function(){return P}},pageY:{get:function(){return I}},defineGetter:{get:function(){return N}},requestAnimationFrame:{get:function(){return L}},cancelAnimationFrame:{get:function(){return j}},__esModule:{value:!0}});for(var W,F=(W=t("./dom.js"),W&&W.__esModule&&W||{"default":W}),B={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86},z=0,V=["ms","moz","webkit","o"],$=window.requestAnimationFrame,U=window.cancelAnimationFrame,Y=0;Y<V.length&&!$;++Y)$=window[V[Y]+"RequestAnimationFrame"],U=window[V[Y]+"CancelAnimationFrame"]||window[V[Y]+"CancelRequestAnimationFrame"];$||($=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-z)),o=window.setTimeout(function(){t(e+i)},i);return z=e+i,o}),U||(U=function(t){clearTimeout(t)}),window.Handsontable=window.Handsontable||{},Handsontable.helper={cancelAnimationFrame:j,cellMethodLookupFactory:M,columnFactory:C,createSpreadsheetData:d,createSpreadsheetObjectData:u,deepClone:b,deepExtend:v,defineGetter:N,duckSchema:h,equalsIgnoreCase:l,extend:m,extendArray:S,getPrototypeOf:w,inherit:g,isCtrlKey:s,isInput:k,isMetaKey:n,isMobileBrowser:O,isNumeric:f,isObject:R,isObjectEquals:y,isOutsideInput:T,isPrintableChar:o,isTouchSupported:A,keyCode:B,pageX:P,pageY:I,pivot:E,proxy:D,randomString:p,requestAnimationFrame:L,spreadsheetColumnLabel:c,stopPropagation:H,stringify:r,to2dArray:x,toUpperCaseFirst:a,translateRowsToColumns:_}},{"./dom.js":27}],43:[function(t,e,i){"use strict";function o(){function t(t){return null!==t&&!i(t)&&("string"==typeof t||"number"==typeof t)}function e(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function i(t){return t!==t}var o={arrayMap:[],weakMap:new WeakMap};return{get:function(i){return t(i)?o.arrayMap[i]:e(i)?o.weakMap.get(i):void 0},set:function(i,n){if(t(i))o.arrayMap[i]=n;else{if(!e(i))throw new Error("Invalid key type");o.weakMap.set(i,n)}},"delete":function(i){t(i)?delete o.arrayMap[i]:e(i)&&o.weakMap["delete"](i)}}}Object.defineProperties(i,{MultiMap:{get:function(){return o}},__esModule:{value:!0}}),window.MultiMap=o},{}],44:[function(t,e,i){"use strict";Object.defineProperties(i,{Hooks:{get:function(){return s}},__esModule:{value:!0}});var o,n=["afterCellMetaReset","afterChange","afterChangesObserved","afterColumnMove","afterColumnResize","afterContextMenuDefaultOptions","afterContextMenuHide","afterContextMenuShow","afterCopyLimit","afterCreateCol","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterIsMultipleSelectionCheck","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellMouseDown","afterOnCellMouseOver","afterRemoveCol","afterRemoveRow","afterRender","afterRenderer","afterRowMove","afterRowResize","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterUpdateSettings","afterValidate","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","modifyCol","modifyColWidth","modifyRow","modifyRowHeight","persistentStateLoad","persistentStateReset","persistentStateSave"],s=((o=t("./eventManager.js"),o&&o.__esModule&&o||{"default":o}).EventManager,function(){this.globalBucket=this.createEmptyBucket()});$traceurRuntime.createClass(s,{createEmptyBucket:function(){for(var t=Object.create(null),e=0,i=n.length;i>e;e++)t[n[e]]=[];return t},getBucket:function(){var t=void 0!==arguments[0]?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket},add:function(t,e){var i=void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(e))for(var o=0,n=e.length;n>o;o++)this.add(t,e[o]);else{var s=this.getBucket(i);"undefined"==typeof s[t]&&(this.register(t),s[t]=[]),e.skip=!1,-1===s[t].indexOf(e)&&s[t].push(e)}return this},once:function(t,e){var i=void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(e))for(var o=0,n=e.length;n>o;o++)e[o].runOnce=!0,this.add(t,e[o],i);else e.runOnce=!0,this.add(t,e,i)},remove:function(t,e){var i=void 0!==arguments[2]?arguments[2]:null,o=this.getBucket(i);return"undefined"!=typeof o[t]&&o[t].indexOf(e)>=0?(e.skip=!0,!0):!1},run:function(t,e,i,o,n,s,r,a){for(var l=this.globalBucket[e],h=l?l.length:0,c=0;h>c;c++)if(!l[c].skip){var d=l[c].call(t,i,o,n,s,r,a);void 0!==d&&(i=d),l[c].runOnce&&this.remove(e,l[c])}for(var u=this.getBucket(t)[e],f=u?u.length:0,p=0;f>p;p++)if(!u[p].skip){var g=u[p].call(t,i,o,n,s,r,a);void 0!==g&&(i=g),u[p].runOnce&&this.remove(e,u[p],t)}return i},destroy:function(){var t=void 0!==arguments[0]?arguments[0]:null,e=this.getBucket(t);for(var i in e)for(var o=0,n=e[i].length;n>o;o++)this.remove(i,e[i],t)},register:function(t){this.isRegistered(t)||n.push(t)},deregister:function(t){this.isRegistered(t)&&n.splice(n.indexOf(t),1)},isRegistered:function(t){return n.indexOf(t)>=0},getRegistered:function(){return n}},{})},{"./eventManager.js":41}],45:[function(t,e,i){"use strict";function o(t,e){Handsontable.hooks.add("beforeInit",function(){var i;t=t.toLowerCase(),s.has(this)||s.set(this,{}),i=s.get(this),i[t]||(i[t]=new e(this))}),Handsontable.hooks.add("afterDestroy",function(){var t,e;if(s.has(this)){e=s.get(this);for(t in e)e.hasOwnProperty(t)&&e[t].destroy();s["delete"](this)}})}function n(t,e){if("string"!=typeof e)throw Error('Only strings can be passed as "plugin" parameter');var i=e.toLowerCase();if(!s.has(t)||!s.get(t)[i])throw Error('No plugin registered under name "'+e+'"');return s.get(t)[i]}Object.defineProperties(i,{registerPlugin:{get:function(){return o}},getPlugin:{get:function(){return n}},__esModule:{value:!0}});var s=new WeakMap},{}],46:[function(t,e,i){"use strict";Object.defineProperties(i,{"default":{get:function(){return r}},__esModule:{value:!0}});var o,n=(o=t("./../helpers.js"),o&&o.__esModule&&o||{"default":o}).defineGetter,s=function(t){n(this,"hot",t,{writable:!1})};$traceurRuntime.createClass(s,{destroy:function(){delete this.hot}},{});var r=s},{"./../helpers.js":42}],47:[function(t,e,i){"use strict";function o(){function t(t){var e=document,i=this;i.table=e.createElement("table"),i.theadTh=e.createElement("th"),i.table.appendChild(e.createElement("thead")).appendChild(e.createElement("tr")).appendChild(i.theadTh),i.tableStyle=i.table.style,i.tableStyle.tableLayout="auto",i.tableStyle.width="auto",i.tbody=e.createElement("tbody"),i.table.appendChild(i.tbody),i.container=e.createElement("div"),i.container.className=t.rootElement.className+" hidden",i.containerStyle=i.container.style,i.container.appendChild(i.table)}var e=this,i=5;this.beforeInit=function(){var t=this;t.autoColumnWidths=[],t.getSettings().autoColumnSize!==!1?t.autoColumnSizeTmp||(t.autoColumnSizeTmp={table:null,tableStyle:null,theadTh:null,tbody:null,container:null,containerStyle:null,determineBeforeNextRender:!0},t.addHook("beforeRender",h.determineIfChanged),t.addHook("modifyColWidth",h.modifyColWidth),t.addHook("afterDestroy",h.afterDestroy),t.determineColumnWidth=e.determineColumnWidth):t.autoColumnSizeTmp&&(t.removeHook("beforeRender",h.determineIfChanged),t.removeHook("modifyColWidth",h.modifyColWidth),t.removeHook("afterDestroy",h.afterDestroy),delete t.determineColumnWidth,e.afterDestroy.call(t))},this.determineIfChanged=function(t){t&&h.determineColumnsWidth.apply(this,arguments)},this.determineColumnWidth=function(e){var o=this,n=o.autoColumnSizeTmp;n.container||t.call(n,o),n.container.className=o.rootElement.className+" htAutoColumnSize",n.table.className=o.table.className;for(var s=o.countRows(),r={},h=0;s>h;h++){var c=o.getDataAtCell(h,e);Array.isArray(c)||(c=a.stringify(c));var d=c.length;r[d]||(r[d]={needed:i,strings:[]}),r[d].needed&&(r[d].strings.push({value:c,row:h}),r[d].needed--)}null!==o.getColHeader(e)&&o.view.appendColHeader(e,n.theadTh),l.empty(n.tbody);for(var u in r)if(r.hasOwnProperty(u))for(var f=0,p=r[u].strings.length;p>f;f++){var g=r[u].strings[f].row,m=o.getCellMeta(g,e);m.col=e,m.row=g;var v=o.getCellRenderer(m),b=document.createElement("tr"),y=document.createElement("td");v(o,y,g,e,o.colToProp(e),r[u].strings[f].value,m),h++,b.appendChild(y),n.tbody.appendChild(b)}var w=o.rootElement.parentNode;w.appendChild(n.container);var C=l.outerWidth(n.table);return w.removeChild(n.container),C},this.determineColumnsWidth=function(){var t=this,i=this.getSettings();if(i.autoColumnSize||!i.colWidths)for(var o=this.countCols(),n=0;o>n;n++)t._getColWidthFromSettings(n)||(this.autoColumnWidths[n]=e.determineColumnWidth.call(t,n));this.view.wt&&this.view.wt.wtOverlays.adjustElementsSize(!0)},this.modifyColWidth=function(t,e){return this.autoColumnWidths[e]&&this.autoColumnWidths[e]>t?this.autoColumnWidths[e]:t},this.afterDestroy=function(){var t=this;t.autoColumnSizeTmp&&t.autoColumnSizeTmp.container&&t.autoColumnSizeTmp.container.parentNode&&t.autoColumnSizeTmp.container.parentNode.removeChild(t.autoColumnSizeTmp.container),t.autoColumnSizeTmp=null}}Object.defineProperties(i,{AutoColumnSize:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a=(n=t("./../../helpers.js"),n&&n.__esModule&&n||{"default":n}),l=(s=t("./../../dom.js"),s&&s.__esModule&&s||{"default":s}),h=((r=t("./../../plugins.js"),r&&r.__esModule&&r||{"default":r}).registerPlugin,new o);Handsontable.hooks.add("beforeInit",h.beforeInit),Handsontable.hooks.add("afterUpdateSettings",h.beforeInit)},{"./../../dom.js":27,"./../../helpers.js":42,"./../../plugins.js":45}],48:[function(t,e,i){"use strict";function o(t,e,i,o){var n,s,r,a,l,h=i.length,c=i?i[0].length:0,d=[],u=[];if(n=e.row-t.row,s=e.col-t.col,-1!==["down","up"].indexOf(o)){for(var f=0;s>=f;f++)r=parseInt(i[0][f],10),a=parseInt(i[h-1][f],10),l=("down"===o?a-r:r-a)/(h-1)||0,u.push(l);d.push(u)}if(-1!==["right","left"].indexOf(o))for(var p=0;n>=p;p++)r=parseInt(i[p][0],10),a=parseInt(i[p][c-1],10),l=("right"===o?a-r:r-a)/(c-1)||0,u=[],u.push(l),d.push(u);return d}function n(t){function e(e){return t.autofill?void(t.autofill.handle&&t.autofill.handle.isDragged&&(t.autofill.handle.isDragged>1&&t.autofill.apply(),t.autofill.handle.isDragged=0,a=!1)):!0}function i(t){var e,i;return r.instance.autofill?(e=h.offset(r.instance.table).top-(window.pageYOffset||document.documentElement.scrollTop)+h.outerHeight(r.instance.table),i=h.offset(r.instance.table).left-(window.pageXOffset||document.documentElement.scrollLeft)+h.outerWidth(r.instance.table),r.addingStarted===!1&&r.instance.autofill.handle.isDragged>0&&t.clientY>e&&t.clientX<=i?(r.instance.mouseDragOutside=!0,r.addingStarted=!0):r.instance.mouseDragOutside=!1,void(r.instance.mouseDragOutside&&setTimeout(function(){r.addingStarted=!1,r.instance.alter("insert_row")},200))):!1}var o,n,s,r=this,a=!1;this.instance=t,this.addingStarted=!1,s=c(t),s.addEventListener(document,"mouseup",e),s.addEventListener(document,"mousemove",i),o=this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown,this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown=function(e){t.autofill.handle.isDragged=1,a=!0,o(e)},n=this.instance.view.wt.wtSettings.settings.onCellMouseOver,this.instance.view.wt.wtSettings.settings.onCellMouseOver=function(e,i,o,s){t.autofill&&a&&!t.view.isMouseDown()&&t.autofill.handle&&t.autofill.handle.isDragged&&(t.autofill.handle.isDragged++,t.autofill.showBorder(i),t.autofill.checkIfNewRowNeeded()),n(e,i,o,s)},this.instance.view.wt.wtSettings.settings.onCellCornerDblClick=function(){t.autofill.selectAdjacent()}}Object.defineProperties(i,{Autofill:{get:function(){return n}},__esModule:{value:!0}});var s,r,a,l,h=(s=t("./../../dom.js"),s&&s.__esModule&&s||{"default":s}),c=(r=t("./../../eventManager.js"),r&&r.__esModule&&r||{"default":r}).eventManager,d=((a=t("./../../plugins.js"),a&&a.__esModule&&a||{"default":a}).registerPlugin,(l=t("./../../3rdparty/walkontable/src/cell/coords.js"),l&&l.__esModule&&l||{"default":l}).WalkontableCellCoords);n.prototype.init=function(){this.handle={}},n.prototype.disable=function(){this.handle.disabled=!0},n.prototype.selectAdjacent=function(){var t,e,i,o,n;t=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),e=this.instance.getData();t:for(i=t[2]+1;i<this.instance.countRows();i++){for(n=t[1];n<=t[3];n++)if(e[i][n])break t;(e[i][t[1]-1]||e[i][t[3]+1])&&(o=i)}o&&(this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(new d(t[0],t[1])),this.instance.view.wt.selections.fill.add(new d(o,t[3])),this.apply())},n.prototype.apply=function(){var t,e,i,n,s,r,a,l;this.handle.isDragged=0,t=this.instance.view.wt.selections.fill.getCorners(),t&&(this.instance.view.wt.selections.fill.clear(),e=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),Handsontable.hooks.run(this.instance,"afterAutofillApplyValues",e,t),t[0]===e[0]&&t[1]<e[1]?(r="left",i=new d(t[0],t[1]),n=new d(t[2],e[1]-1)):t[0]===e[0]&&t[3]>e[3]?(r="right",i=new d(t[0],e[3]+1),n=new d(t[2],t[3])):t[0]<e[0]&&t[1]===e[1]?(r="up",i=new d(t[0],t[1]),n=new d(e[0]-1,t[3])):t[2]>e[2]&&t[1]===e[1]&&(r="down",i=new d(e[2]+1,t[1]),n=new d(t[2],t[3])),i&&i.row>-1&&i.col>-1?(l={from:this.instance.getSelectedRange().from,to:this.instance.getSelectedRange().to},s=this.instance.getData(l.from.row,l.from.col,l.to.row,l.to.col),a=o(i,n,s,r),Handsontable.hooks.run(this.instance,"beforeAutofill",i,n,s),this.instance.populateFromArray(i.row,i.col,s,n.row,n.col,"autofill",null,r,a),this.instance.selection.setRangeStart(new d(t[0],t[1])),this.instance.selection.setRangeEnd(new d(t[2],t[3]))):this.instance.selection.refreshBorders())},n.prototype.showBorder=function(t){var e=this.instance.getSelectedRange().getTopLeftCorner(),i=this.instance.getSelectedRange().getBottomRightCorner();if("horizontal"!==this.instance.getSettings().fillHandle&&(i.row<t.row||e.row>t.row))t=new d(t.row,i.col);else{if("vertical"===this.instance.getSettings().fillHandle)return;t=new d(i.row,t.col)}this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().from),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().to),this.instance.view.wt.selections.fill.add(t),this.instance.view.render()},n.prototype.checkIfNewRowNeeded=function(){var t,e,i=this.instance.countRows(),o=this;this.instance.view.wt.selections.fill.cellRange&&this.addingStarted===!1&&(e=this.instance.getSelected(),t=this.instance.view.wt.selections.fill.getCorners(),e[2]<i-1&&t[2]===i-1&&(this.addingStarted=!0,this.instance._registerTimeout(setTimeout(function(){o.instance.alter("insert_row"),o.addingStarted=!1},200))))},Handsontable.hooks.add("afterInit",function(){var t=new n(this);"undefined"!=typeof this.getSettings().fillHandle&&(t.handle&&this.getSettings().fillHandle===!1?t.disable():t.handle||this.getSettings().fillHandle===!1||(this.autofill=t,this.autofill.init()))}),Handsontable.Autofill=n},{"./../../3rdparty/walkontable/src/cell/coords.js":5,"./../../dom.js":27,"./../../eventManager.js":41,"./../../plugins.js":45}],49:[function(t,e,i){"use strict";Object.defineProperties(i,{"default":{get:function(){return f}},__esModule:{value:!0}});var o,n,s,r,a=(o=t("./../../dom.js"),o&&o.__esModule&&o||{"default":o}),l=(n=t("./../../eventManager.js"),n&&n.__esModule&&n||{"default":n}).eventManager,h=(s=t("./../_base.js"),s&&s.__esModule&&s||{"default":s})["default"],c=(r=t("./../../plugins.js"),r&&r.__esModule&&r||{"default":r}).registerPlugin,d=function(t){var e=this;$traceurRuntime.superConstructor(u).call(this,t);var i=this;this.sortIndicators=[],this.hot.addHook("afterInit",function(){return e.init.call(e,"afterInit")}),this.hot.addHook("afterUpdateSettings",function(){return e.init.call(e,"afterUpdateSettings")}),this.hot.addHook("modifyRow",function(){return i.translateRow.apply(i,arguments)}),this.hot.addHook("afterGetColHeader",function(){return i.getColHeader.apply(i,arguments)}),Handsontable.hooks.register("beforeColumnSort"),Handsontable.hooks.register("afterColumnSort")},u=d;$traceurRuntime.createClass(d,{init:function(t){var e=this.hot.getSettings().columnSorting,i=this;if(this.hot.sortingEnabled=!!e,this.hot.sortingEnabled){this.hot.sortIndex=[];var o,n,s=this.loadSortingState();"undefined"!=typeof s?(o=s.sortColumn,n=s.sortOrder):(o=e.column,n=e.sortOrder),this.sortByColumn(o,n),this.hot.sort=function(){var t=Array.prototype.slice.call(arguments);return i.sortByColumn.apply(i,t)},"undefined"==typeof this.hot.getSettings().observeChanges&&this.enableObserveChangesPlugin(),"afterInit"==t&&(this.bindColumnSortingAfterClick(),this.hot.addHook("afterCreateRow",function(){i.afterCreateRow.apply(i,arguments)}),this.hot.addHook("afterRemoveRow",function(){i.afterRemoveRow.apply(i,arguments)}),this.hot.addHook("afterLoadData",function(){i.init.apply(i,arguments)}))}else this.hot.sort=void 0,this.hot.removeHook("afterCreateRow",this.afterCreateRow),this.hot.removeHook("afterRemoveRow",this.afterRemoveRow),this.hot.removeHook("afterLoadData",this.init)},setSortingColumn:function(t,e){return"undefined"==typeof t?(this.hot.sortColumn=void 0,void(this.hot.sortOrder=void 0)):(this.hot.sortColumn===t&&"undefined"==typeof e?this.hot.sortOrder===!1?this.hot.sortOrder=void 0:this.hot.sortOrder=!this.hot.sortOrder:this.hot.sortOrder="undefined"!=typeof e?e:!0,void(this.hot.sortColumn=t))},sortByColumn:function(t,e){this.setSortingColumn(t,e),"undefined"!=typeof this.hot.sortColumn&&(Handsontable.hooks.run(this.hot,"beforeColumnSort",this.hot.sortColumn,this.hot.sortOrder),this.sort(),this.hot.render(),this.saveSortingState(),Handsontable.hooks.run(this.hot,"afterColumnSort",this.hot.sortColumn,this.hot.sortOrder))},saveSortingState:function(){var t={};"undefined"!=typeof this.hot.sortColumn&&(t.sortColumn=this.hot.sortColumn),"undefined"!=typeof this.hot.sortOrder&&(t.sortOrder=this.hot.sortOrder),(t.hasOwnProperty("sortColumn")||t.hasOwnProperty("sortOrder"))&&Handsontable.hooks.run(this.hot,"persistentStateSave","columnSorting",t)},loadSortingState:function(){var t={};return Handsontable.hooks.run(this.hot,"persistentStateLoad","columnSorting",t),t.value},bindColumnSortingAfterClick:function(){function t(){var t=o.hot.view.TBODY.querySelector("tr").querySelectorAll("th");return t.length}function e(e){var i=a.closest(e,"TH");return a.index(i)-t()}var i=l(this.hot),o=this;i.addEventListener(this.hot.rootElement,"click",function(t){if(a.hasClass(t.target,"columnSorting")){var i=e(t.target);if(i!==this.lastSortedColumn)o.sortOrderClass="ascending";else switch(o.hot.sortOrder){case void 0:o.sortOrderClass="ascending";break;case!0:o.sortOrderClass="descending";break;case!1:o.sortOrderClass=void 0}this.lastSortedColumn=i,o.sortByColumn(i)}})},enableObserveChangesPlugin:function(){var t=this;this.hot._registerTimeout(setTimeout(function(){t.hot.updateSettings({observeChanges:!0})},0))},defaultSort:function(t){return function(e,i){return"string"==typeof e[1]&&(e[1]=e[1].toLowerCase()),"string"==typeof i[1]&&(i[1]=i[1].toLowerCase()),e[1]===i[1]?0:null===e[1]||""===e[1]?1:null===i[1]||""===i[1]?-1:e[1]<i[1]?t?-1:1:e[1]>i[1]?t?1:-1:0}},dateSort:function(t){return function(e,i){if(e[1]===i[1])return 0;if(null===e[1])return 1;if(null===i[1])return-1;var o=new Date(e[1]),n=new Date(i[1]);return n>o?t?-1:1:o>n?t?1:-1:0}},sort:function(){if("undefined"!=typeof this.hot.sortOrder){var t,e;this.hot.sortingEnabled=!1,this.hot.sortIndex.length=0;for(var i=this.hot.colOffset(),o=0,n=this.hot.countRows()-this.hot.getSettings().minSpareRows;n>o;o++)this.hot.sortIndex.push([o,this.hot.getDataAtCell(o,this.hot.sortColumn+i)]);switch(t=this.hot.getCellMeta(0,this.hot.sortColumn),this.sortIndicators[this.hot.sortColumn]=t.sortIndicator,t.type){case"date":e=this.dateSort;break;default:e=this.defaultSort}this.hot.sortIndex.sort(e(this.hot.sortOrder));for(var o=this.hot.sortIndex.length;o<this.hot.countRows();o++)this.hot.sortIndex.push([o,this.hot.getDataAtCell(o,this.hot.sortColumn+i)]);this.hot.sortingEnabled=!0}},translateRow:function(t){return this.hot.sortingEnabled&&"undefined"!=typeof this.hot.sortOrder&&this.hot.sortIndex&&this.hot.sortIndex.length&&this.hot.sortIndex[t]?this.hot.sortIndex[t][0]:t},untranslateRow:function(t){if(this.hot.sortingEnabled&&this.hot.sortIndex&&this.hot.sortIndex.length)for(var e=0;e<this.hot.sortIndex.length;e++)if(this.hot.sortIndex[e][0]==t)return e},getColHeader:function(t,e){var i=e.querySelector(".colHeader");this.hot.getSettings().columnSorting&&t>=0&&a.addClass(i,"columnSorting"),a.removeClass(i,"descending"),a.removeClass(i,"ascending"),this.sortIndicators[t]&&t===this.hot.sortColumn&&("ascending"===this.sortOrderClass?a.addClass(i,"ascending"):"descending"===this.sortOrderClass&&a.addClass(i,"descending"))},isSorted:function(){return"undefined"!=typeof this.hot.sortColumn},afterCreateRow:function(t,e){if(this.isSorted()){for(var i=0;i<this.hot.sortIndex.length;i++)this.hot.sortIndex[i][0]>=t&&(this.hot.sortIndex[i][0]+=e);for(var i=0;e>i;i++)this.hot.sortIndex.splice(t+i,0,[t+i,this.hot.getData()[t+i][this.hot.sortColumn+this.hot.colOffset()]]);this.saveSortingState()}},afterRemoveRow:function(t,e){if(this.isSorted()){var i=this.translateRow(t);this.hot.sortIndex.splice(t,e);for(var o=0;o<this.hot.sortIndex.length;o++)this.hot.sortIndex[o][0]>i&&(this.hot.sortIndex[o][0]-=e);this.saveSortingState()}}},{},h);var f=d;c("columnSorting",d)},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../plugins.js":45,"./../_base.js":46}],50:[function(t,e,i){"use strict";Object.defineProperties(i,{CommentEditor:{get:function(){return s}},__esModule:{value:!0}});var o,n=(o=t("./../../dom.js"),o&&o.__esModule&&o||{"default":o}),s=function(){this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.editorStyle.position="absolute",this.editorStyle.zIndex=100,this.hide()},r=s;$traceurRuntime.createClass(s,{setPosition:function(t,e){this.editorStyle.left=t+"px",this.editorStyle.top=e+"px"},show:function(){this.editorStyle.display="block"},hide:function(){this.editorStyle.display="none"},isVisible:function(){return"block"===this.editorStyle.display},setValue:function(){var t=void 0!==arguments[0]?arguments[0]:"";t=t||"",this.getInputElement().value=t},getValue:function(){return this.getInputElement().value},isFocused:function(){return document.activeElement===this.getInputElement()},focus:function(){this.getInputElement().focus()},createEditor:function(){var t,e,i=document.querySelector("."+r.CLASS_EDITOR_CONTAINER);return i||(i=document.createElement("div"),n.addClass(i,r.CLASS_EDITOR_CONTAINER),document.body.appendChild(i)),t=document.createElement("div"),n.addClass(t,r.CLASS_EDITOR),e=document.createElement("textarea"),n.addClass(e,r.CLASS_INPUT),t.appendChild(e),i.appendChild(t),t},getInputElement:function(){return this.editor.querySelector("."+r.CLASS_INPUT)},destroy:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}},{get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"},get CLASS_EDITOR(){return"htComments"},get CLASS_INPUT(){return"htCommentTextArea"},get CLASS_CELL(){return"htCommentCell"}})},{"./../../dom.js":27}],51:[function(t,e,i){"use strict";Object.defineProperties(i,{Comments:{get:function(){return m}},__esModule:{value:!0}});var o,n,s,r,a,l,h=(o=t("./../../dom.js"),o&&o.__esModule&&o||{"default":o}),c=(n=t("./../../eventManager.js"),n&&n.__esModule&&n||{"default":n}).EventManager,d=(s=t("./../../3rdparty/walkontable/src/cell/coords.js"),s&&s.__esModule&&s||{"default":s}).WalkontableCellCoords,u=(r=t("./../../plugins.js"),r&&r.__esModule&&r||{"default":r}),f=u.registerPlugin,p=(u.getPlugin,(a=t("./../_base.js"),a&&a.__esModule&&a||{"default":a})["default"]),g=(l=t("./commentEditor.js"),l&&l.__esModule&&l||{"default":l}).CommentEditor,m=function(t){var e=this;$traceurRuntime.superConstructor(v).call(this,t),this.hot.getSettings().comments&&(this.editor=new g,this.eventManager=new c(this),this.range={},this.mouseDown=!1,this.contextMenuEvent=!1,this.timer=null,this.hot.addHook("afterInit",function(){return e.registerListeners()}),this.hot.addHook("afterContextMenuDefaultOptions",function(t){return e.addToContextMenu(t)}),this.hot.addHook("afterRenderer",function(t,i,o,n,s,r){return e.onAfterRenderer(t,r)}),this.hot.addHook("afterScrollVertically",function(){return e.refreshEditorPosition()}),this.hot.addHook("afterColumnResize",function(){return e.refreshEditorPosition()}),this.hot.addHook("afterRowResize",function(){return e.refreshEditorPosition()}))},v=m;$traceurRuntime.createClass(m,{registerListeners:function(){var t=this;this.eventManager.addEventListener(document,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(document,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(document,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(document,"mouseup",function(e){return t.onMouseUp(e)}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(e){return t.onEditorBlur(e)})},setRange:function(t){this.range=t},clearRange:function(){this.range={}},targetIsCellWithComment:function(t){return!(!h.hasClass(t.target,"htCommentCell")||!h.closest(t.target,[this.hot.rootElement]))},targetIsCommentTextArea:function(t){return this.editor.getInputElement()===t.target},saveComment:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.editor.getValue(),e=this.range.from.row,i=this.range.from.col;this.hot.setCellMeta(e,i,"comment",t),this.hot.render()},saveCommentAtCell:function(t,e){this.setRange({from:new d(t,e)}),this.saveComment()},removeComment:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.removeCellMeta(this.range.from.row,this.range.from.col,"comment"),this.hot.render(),this.hide()},removeCommentAtCell:function(t,e){this.setRange({from:new d(t,e)}),this.removeComment()},show:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditorPosition(!0),this.editor.setValue(t.comment||""),this.editor.show(),!0},showAtCell:function(t,e){return this.setRange({from:new d(t,e)}),this.show()},hide:function(){this.editor.hide()},refreshEditorPosition:function(){
var t=void 0!==arguments[0]?arguments[0]:!1;if(t||this.range.from&&this.editor.isVisible()){var e=this.hot.view.wt.wtTable.getCell(this.range.from),i=h.offset(e),o=this.hot.getColWidth(this.range.from.col),n=i.top,s=i.left,r=0,a=0;this.hot.view.wt.wtViewport.hasVerticalScroll()&&(n-=this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition(),r=20),this.hot.view.wt.wtViewport.hasHorizontalScroll()&&(s-=this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition(),a=20);var l=s+o,c=n,d=this.hot.view.wt.wtTable.holder.getBoundingClientRect(),u={left:d.left+h.getWindowScrollLeft()+a,right:d.right+h.getWindowScrollLeft()-15,top:d.top+h.getWindowScrollTop()+r,bottom:d.bottom+h.getWindowScrollTop()};l<=u.left||l>u.right||c<=u.top||c>u.bottom?this.hide():this.editor.setPosition(l,c)}},onMouseDown:function(t){this.mouseDown=!0,this.hot.view&&this.hot.view.wt&&(this.contextMenuEvent||this.targetIsCommentTextArea(t)||this.targetIsCellWithComment(t)||this.hide(),this.contextMenuEvent=!1)},onMouseOver:function(t){if(!this.mouseDown&&!this.editor.isFocused())if(this.targetIsCellWithComment(t)){var e=this.hot.view.wt.wtTable.getCoords(t.target),i={from:new d(e.row,e.col)};this.setRange(i),this.show()}else this.targetIsCommentTextArea(t)||this.editor.isFocused()||this.hide()},onMouseMove:function(t){var e=this;this.targetIsCommentTextArea(t)&&(this.mouseDown=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){e.mouseDown=!1},200))},onMouseUp:function(t){this.mouseDown=!1},onAfterRenderer:function(t,e){e.comment&&h.addClass(t,e.commentedCellClassName)},onEditorBlur:function(t){this.saveComment()},checkSelectionCommentsConsistency:function(){var t=!1,e=this.hot.getSelectedRange().from;return this.hot.getCellMeta(e.row,e.col).comment&&(t=!0),t},onContextMenuAddComment:function(){var t=this,e=this.hot.getSelectedRange();this.contextMenuEvent=!0,this.setRange({from:e.from}),this.show(),setTimeout(function(){t.hot&&(t.hot.deselectCell(),t.editor.focus())},10)},onContextMenuRemoveComment:function(t,e){this.contextMenuEvent=!0,this.removeCommentAtCell(e.start.row,e.start.col)},addToContextMenu:function(t){var e=this;t.items.push(Handsontable.ContextMenu.SEPARATOR,{key:"commentsAddEdit",name:function(){return e.checkSelectionCommentsConsistency()?"Edit Comment":"Add Comment"},callback:function(){return e.onContextMenuAddComment()},disabled:function(){return!1}},{key:"commentsRemove",name:function(){return"Delete Comment"},callback:function(t,i){return e.onContextMenuRemoveComment(t,i)},disabled:function(){return!e.checkSelectionCommentsConsistency()}})},destroy:function(){this.eventManager&&this.eventManager.clear(),this.editor&&this.editor.destroy(),$traceurRuntime.superGet(this,v.prototype,"destroy").call(this)}},{},p),f("comments",m)},{"./../../3rdparty/walkontable/src/cell/coords.js":5,"./../../dom.js":27,"./../../eventManager.js":41,"./../../plugins.js":45,"./../_base.js":46,"./commentEditor.js":50}],52:[function(t,e,i){"use strict";function o(t,e){this.instance=t;var i=this;if(i.menus=[],i.htMenus={},i.triggerRows=[],i.eventManager=y(i),this.enabled=!0,this.instance.addHook("afterDestroy",function(){i.destroy()}),this.defaultOptions={items:[{key:"row_above",name:"Insert row above",callback:function(t,e){this.alter("insert_row",e.start.row)},disabled:function(){var t=this.getSelected(),e=[0,t[1],this.countRows()-1,t[1]],i=e.join(",")==t.join(",");return t[0]<0||this.countRows()>=this.getSettings().maxRows||i}},{key:"row_below",name:"Insert row below",callback:function(t,e){this.alter("insert_row",e.end.row+1)},disabled:function(){var t=this.getSelected(),e=[0,t[1],this.countRows()-1,t[1]],i=e.join(",")==t.join(",");return this.getSelected()[0]<0||this.countRows()>=this.getSettings().maxRows||i}},o.SEPARATOR,{key:"col_left",name:"Insert column on the left",callback:function(t,e){this.alter("insert_col",e.start.col)},disabled:function(){if(!this.isColumnModificationAllowed())return!0;var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],i=e.join(",")==t.join(",");return this.getSelected()[1]<0||this.countCols()>=this.getSettings().maxCols||i}},{key:"col_right",name:"Insert column on the right",callback:function(t,e){this.alter("insert_col",e.end.col+1)},disabled:function(){if(!this.isColumnModificationAllowed())return!0;var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],i=e.join(",")==t.join(",");return t[1]<0||this.countCols()>=this.getSettings().maxCols||i}},o.SEPARATOR,{key:"remove_row",name:"Remove row",callback:function(t,e){var i=e.end.row-e.start.row+1;this.alter("remove_row",e.start.row,i)},disabled:function(){var t=this.getSelected(),e=[0,t[1],this.countRows()-1,t[1]],i=e.join(",")==t.join(",");return t[0]<0||i}},{key:"remove_col",name:"Remove column",callback:function(t,e){var i=e.end.col-e.start.col+1;this.alter("remove_col",e.start.col,i)},disabled:function(){if(!this.isColumnModificationAllowed())return!0;var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],i=e.join(",")==t.join(",");return t[1]<0||i}},o.SEPARATOR,{key:"undo",name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}},{key:"redo",name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}},o.SEPARATOR,{key:"make_read_only",name:function(){var t="Read only",e=i.checkSelectionReadOnlyConsistency(this);return e&&(t=i.markSelected(t)),t},callback:function(){var t=i.checkSelectionReadOnlyConsistency(this),e=this;this.getSelectedRange().forAll(function(i,o){e.getCellMeta(i,o).readOnly=!t}),this.render()}},o.SEPARATOR,{key:"alignment",name:"Alignment",submenu:{items:[{name:function(){var t="Left",e=i.checkSelectionAlignment(this,"htLeft");return e&&(t=i.markSelected(t)),t},callback:function(){d.call(this,this.getSelectedRange(),"horizontal","htLeft")},disabled:!1},{name:function(){var t="Center",e=i.checkSelectionAlignment(this,"htCenter");return e&&(t=i.markSelected(t)),t},callback:function(){d.call(this,this.getSelectedRange(),"horizontal","htCenter")},disabled:!1},{name:function(){var t="Right",e=i.checkSelectionAlignment(this,"htRight");return e&&(t=i.markSelected(t)),t},callback:function(){d.call(this,this.getSelectedRange(),"horizontal","htRight")},disabled:!1},{name:function(){var t="Justify",e=i.checkSelectionAlignment(this,"htJustify");return e&&(t=i.markSelected(t)),t},callback:function(){d.call(this,this.getSelectedRange(),"horizontal","htJustify")},disabled:!1},o.SEPARATOR,{name:function(){var t="Top",e=i.checkSelectionAlignment(this,"htTop");return e&&(t=i.markSelected(t)),t},callback:function(){d.call(this,this.getSelectedRange(),"vertical","htTop")},disabled:!1},{name:function(){var t="Middle",e=i.checkSelectionAlignment(this,"htMiddle");return e&&(t=i.markSelected(t)),t},callback:function(){d.call(this,this.getSelectedRange(),"vertical","htMiddle")},disabled:!1},{name:function(){var t="Bottom",e=i.checkSelectionAlignment(this,"htBottom");return e&&(t=i.markSelected(t)),t},callback:function(){d.call(this,this.getSelectedRange(),"vertical","htBottom")},disabled:!1}]}}]},i.options={},v.extend(i.options,this.options),this.bindMouseEvents(),this.markSelected=function(t){return"<span class='selected'>"+String.fromCharCode(10003)+"</span>"+t},this.checkSelectionAlignment=function(t,e){var i=!1;return t.getSelectedRange().forAll(function(o,n){var s=t.getCellMeta(o,n).className;return s&&-1!=s.indexOf(e)?(i=!0,!1):void 0}),i},!this.instance.getSettings().allowInsertRow){var n=s(this.defaultOptions.items,"row_above");this.defaultOptions.items.splice(n,1);var r=s(this.defaultOptions.items,"row_above");this.defaultOptions.items.splice(r,1),this.defaultOptions.items.splice(r,1)}if(!this.instance.getSettings().allowInsertColumn){var a=s(this.defaultOptions.items,"col_left");this.defaultOptions.items.splice(a,1);var l=s(this.defaultOptions.items,"col_right");this.defaultOptions.items.splice(l,1),this.defaultOptions.items.splice(l,1)}var h,c,u=!1,f=!1;this.instance.getSettings().allowRemoveRow||(h=s(this.defaultOptions.items,"remove_row"),this.defaultOptions.items.splice(h,1),u=!0),this.instance.getSettings().allowRemoveColumn||(c=s(this.defaultOptions.items,"remove_col"),this.defaultOptions.items.splice(c,1),f=!0),u&&f&&this.defaultOptions.items.splice(c,1),this.checkSelectionReadOnlyConsistency=function(t){var e=!1;return t.getSelectedRange().forAll(function(i,o){return t.getCellMeta(i,o).readOnly?(e=!0,!1):void 0}),e},Handsontable.hooks.run(t,"afterContextMenuDefaultOptions",this.defaultOptions)}function n(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i].key===e)return t[i]}function s(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i].key===e)return i}function r(){if(!this.rootElement.className.indexOf("htContextMenu")){for(var t=0,e=0,i=this.getSettings().data.length,n=parseInt(this.view.wt.wtTable.hider.style.width,10),s=0;i>s;s++)this.getSettings().data[s].name==o.SEPARATOR.name?t+=1:e+=26;this.view.wt.wtTable.holder.style.width=n+22+"px",this.view.wt.wtTable.holder.style.height=e+t+4+"px"}}function a(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),t+=" "+e)}function l(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),t+=" "+e)}function h(t){for(var e={},i=t.from.row;i<=t.to.row;i++)for(var o=t.from.col;o<=t.to.col;o++)e[i]||(e[i]=[]),e[i][o]=this.getCellMeta(i,o).className;return e}function c(t,e,i,o){var n=this.getCellMeta(t,e),s=o;n.className&&(s="vertical"===i?a(n.className,o):l(n.className,o)),this.setCellMeta(t,e,"className",s)}function d(t,e,i){var o=h.call(this,t);if(this.runHooks("beforeCellAlignment",o,t,e,i),t.from.row==t.to.row&&t.from.col==t.to.col)c.call(this,t.from.row,t.from.col,e,i);else for(var n=t.from.row;n<=t.to.row;n++)for(var s=t.from.col;s<=t.to.col;s++)c.call(this,n,s,e,i);this.render()}function u(){var t=this,e=t.getSettings().contextMenu,i=v.isObject(e)?e:{};e?(t.contextMenu||(t.contextMenu=new o(t,i)),t.contextMenu.enable()):t.contextMenu&&(t.contextMenu.destroy(),delete t.contextMenu)}Object.defineProperties(i,{ContextMenu:{get:function(){return o}},__esModule:{value:!0}});var f,p,g,m,v=(f=t("./../../helpers.js"),f&&f.__esModule&&f||{"default":f}),b=(p=t("./../../dom.js"),p&&p.__esModule&&p||{"default":p}),y=(g=t("./../../eventManager.js"),g&&g.__esModule&&g||{"default":g}).eventManager;(m=t("./../../plugins.js"),m&&m.__esModule&&m||{"default":m}).registerPlugin,o.prototype.createMenu=function(t,e){t&&(t=t.replace(/ /g,"_"),t="htContextSubMenu_"+t);var i;return i=t?document.querySelector(".htContextMenu."+t):document.querySelector(".htContextMenu"),i||(i=document.createElement("DIV"),b.addClass(i,"htContextMenu"),t&&b.addClass(i,t),document.getElementsByTagName("body")[0].appendChild(i)),this.menus.indexOf(i)<0&&(this.menus.push(i),e=e||0,this.triggerRows.push(e)),i},o.prototype.bindMouseEvents=function(){function t(t){function e(t){return"TD"===t.nodeName||"TD"===t.parentNode.nodeName}var i,n,s,r,a=this.instance.getSettings(),l=this.instance.getSettings().rowHeaders,h=this.instance.getSettings().colHeaders;if(n=t.realTarget,this.closeAll(),t.preventDefault(),v.stopPropagation(t),l||h){if(l&&h&&(i=n.parentNode.querySelectorAll(".cornerHeader").length>0))return}else if(!(e(n)||b.hasClass(n,"current")&&b.hasClass(n,"wtBorder")))return;r=this.createMenu(),s=this.getItems(a.contextMenu),this.show(r,s),this.setMenuPosition(t,r),this.eventManager.addEventListener(document.documentElement,"mousedown",v.proxy(o.prototype.closeAll,this))}var e=y(this.instance);e.addEventListener(this.instance.rootElement,"contextmenu",v.proxy(t,this))},o.prototype.bindTableEvents=function(){this._afterScrollCallback=function(){},this.instance.addHook("afterScrollVertically",this._afterScrollCallback),this.instance.addHook("afterScrollHorizontally",this._afterScrollCallback)},o.prototype.unbindTableEvents=function(){this._afterScrollCallback&&(this.instance.removeHook("afterScrollVertically",this._afterScrollCallback),this.instance.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)},o.prototype.performAction=function(t,e){var i=this,n=e.getSelected()[0],s=e.getData()[n];if(s.disabled!==!0&&("function"!=typeof s.disabled||s.disabled.call(this.instance)!==!0)&&!s.hasOwnProperty("submenu")){if("function"!=typeof s.callback)return;var r=this.instance.getSelectedRange(),a=o.utils.normalizeSelection(r);s.callback.call(this.instance,s.key,a,t),i.closeAll()}},o.prototype.unbindMouseEvents=function(){this.eventManager.clear();var t=y(this.instance);t.removeEventListener(this.instance.rootElement,"contextmenu")},o.prototype.show=function(t,e){var i=this;t.removeAttribute("style"),t.style.display="block";var o={data:e,colHeaders:!1,colWidths:[200],readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:v.proxy(this.renderer,this)}],renderAllRows:!0,beforeKeyDown:function(t){i.onBeforeKeyDown(t,n)},afterOnCellMouseOver:function(t,e,o){i.onCellMouseOver(t,e,o,n)}},n=new Handsontable(t,o);n.isHotTableEnv=this.instance.isHotTableEnv,Handsontable.eventManager.isHotTableEnv=this.instance.isHotTableEnv,this.eventManager.removeEventListener(t,"mousedown"),this.eventManager.addEventListener(t,"mousedown",function(t){i.performAction(t,n)}),this.bindTableEvents(),n.listen(),this.htMenus[n.guid]=n,Handsontable.hooks.run(this.instance,"afterContextMenuShow",n)},o.prototype.close=function(t){this.hide(t),this.eventManager.clear(),this.unbindTableEvents(),this.instance.listen()},o.prototype.closeAll=function(){for(;this.menus.length>0;){var t=this.menus.pop();t&&this.close(t)}this.triggerRows=[]},o.prototype.closeLastOpenedSubMenu=function(){var t=this.menus.pop();t&&this.hide(t)},o.prototype.hide=function(t){t.style.display="none";var e=this.htMenus[t.id];Handsontable.hooks.run(this.instance,"afterContextMenuHide",e),e.destroy(),delete this.htMenus[t.id]},o.prototype.renderer=function(t,e,i,n,s,r){function a(t){return t.hasOwnProperty("submenu")}function l(t){return new RegExp(o.SEPARATOR.name,"i").test(t.name)}function h(t){return t.disabled===!0||"function"==typeof t.disabled&&t.disabled.call(c.instance)===!0}var c=this,d=t.getData()[i],u=document.createElement("DIV");"function"==typeof r&&(r=r.call(this.instance)),b.empty(e),e.appendChild(u),l(d)?b.addClass(e,"htSeparator"):b.fastInnerHTML(u,r),h(d)?(b.addClass(e,"htDisabled"),this.eventManager.addEventListener(u,"mouseenter",function(){t.deselectCell()})):a(d)?(b.addClass(e,"htSubmenu"),this.eventManager.addEventListener(u,"mouseenter",function(){t.selectCell(i,n)})):(b.removeClass(e,"htSubmenu"),b.removeClass(e,"htDisabled"),this.eventManager.addEventListener(u,"mouseenter",function(){t.selectCell(i,n)}))},o.prototype.onCellMouseOver=function(t,e,i,o){var n=this.menus.length;if(n>0){var s=this.menus[n-1];s.id!=o.guid&&this.closeLastOpenedSubMenu()}else this.closeLastOpenedSubMenu();if(-1!=i.className.indexOf("htSubmenu")){var r=o.getData()[e.row],a=this.getItems(r.submenu),l=this.createMenu(r.name,e.row),h=i.getBoundingClientRect();this.show(l,a),this.setSubMenuPosition(h,l)}},o.prototype.onBeforeKeyDown=function(t,e){function i(t){var e=t.getCell(0,0);o.utils.isSeparator(e)||o.utils.isDisabled(e)?s(0,0,t):t.selectCell(0,0)}function n(t){var e=t.countRows()-1,i=t.getCell(e,0);o.utils.isSeparator(i)||o.utils.isDisabled(i)?r(e,0,t):t.selectCell(e,0)}function s(t,e,i){var n=t+1,r=n<i.countRows()?i.getCell(n,e):null;r&&(o.utils.isSeparator(r)||o.utils.isDisabled(r)?s(n,e,i):i.selectCell(n,e))}function r(t,e,i){var n=t-1,s=n>=0?i.getCell(n,e):null;s&&(o.utils.isSeparator(s)||o.utils.isDisabled(s)?r(n,e,i):i.selectCell(n,e))}function a(t,e,i,o){var n=t.getData()[o],s=e.getItems(n.submenu),r=e.createMenu(n.name,o),a=i.getBoundingClientRect(),l=e.show(r,s);e.setSubMenuPosition(a,r),l.selectCell(0,0)}b.enableImmediatePropagation(t);var l=this,h=e.getSelected();switch(t.keyCode){case v.keyCode.ESCAPE:l.closeAll(),t.preventDefault(),t.stopImmediatePropagation();break;case v.keyCode.ENTER:h&&l.performAction(t,e);break;case v.keyCode.ARROW_DOWN:h?s(h[0],h[1],e,l):i(e,l),t.preventDefault(),t.stopImmediatePropagation();break;case v.keyCode.ARROW_UP:h?r(h[0],h[1],e,l):n(e,l),t.preventDefault(),t.stopImmediatePropagation();break;case v.keyCode.ARROW_RIGHT:if(h){var c=h[0],d=e.getCell(h[0],0);o.utils.hasSubMenu(d)&&a(e,l,d,c)}t.preventDefault(),t.stopImmediatePropagation();break;case v.keyCode.ARROW_LEFT:if(h){if(-1!=e.rootElement.className.indexOf("htContextSubMenu_")){l.closeLastOpenedSubMenu();var u=l.menus.length;if(u>0){var f=l.menus[u-1],p=l.triggerRows.pop();e=this.htMenus[f.id],e.selectCell(p,0)}}t.preventDefault(),t.stopImmediatePropagation()}}},o.prototype.getItems=function(t){function e(t){"string"==typeof t?this.name=t:v.extend(this,t)}var i,o;e.prototype=t,t&&t.items&&(t=t.items),t===!0&&(t=this.defaultOptions.items),i=[];for(var s in t)t.hasOwnProperty(s)&&(o="string"==typeof t[s]?n(this.defaultOptions.items,t[s]):n(this.defaultOptions.items,s),o||(o=t[s]),o=new e(o),"object"==typeof t[s]&&v.extend(o,t[s]),o.key||(o.key=s),i.push(o));return i},o.prototype.setSubMenuPosition=function(t,e){var i=b.getWindowScrollTop(),o=b.getWindowScrollLeft(),n={top:i+t.top,topRelative:t.top,left:t.left,leftRelative:t.left-o,scrollTop:i,scrollLeft:o,cellHeight:t.height,cellWidth:t.width};this.menuFitsBelowCursor(n,e,document.body.clientWidth)?this.positionMenuBelowCursor(n,e,!0):this.menuFitsAboveCursor(n,e)?this.positionMenuAboveCursor(n,e,!0):this.positionMenuBelowCursor(n,e,!0),this.menuFitsOnRightOfCursor(n,e,document.body.clientWidth)?this.positionMenuOnRightOfCursor(n,e,!0):this.positionMenuOnLeftOfCursor(n,e,!0)},o.prototype.setMenuPosition=function(t,e){var i=b.getWindowScrollTop(),o=b.getWindowScrollLeft(),n=t.pageY||t.clientY+i,s=t.pageX||t.clientX+o,r={top:n,topRelative:n-i,left:s,leftRelative:s-o,scrollTop:i,scrollLeft:o,cellHeight:t.target.clientHeight,cellWidth:t.target.clientWidth};this.menuFitsBelowCursor(r,e,document.body.clientHeight)?this.positionMenuBelowCursor(r,e):this.menuFitsAboveCursor(r,e)?this.positionMenuAboveCursor(r,e):this.positionMenuBelowCursor(r,e),this.menuFitsOnRightOfCursor(r,e,document.body.clientWidth)?this.positionMenuOnRightOfCursor(r,e):this.positionMenuOnLeftOfCursor(r,e)},o.prototype.menuFitsAboveCursor=function(t,e){return t.topRelative>=e.offsetHeight},o.prototype.menuFitsBelowCursor=function(t,e,i){return t.topRelative+e.offsetHeight<=i},o.prototype.menuFitsOnRightOfCursor=function(t,e,i){return t.leftRelative+e.offsetWidth<=i},o.prototype.positionMenuBelowCursor=function(t,e){e.style.top=t.top+"px"},o.prototype.positionMenuAboveCursor=function(t,e,i){i?e.style.top=t.top+t.cellHeight-e.offsetHeight+"px":e.style.top=t.top-e.offsetHeight+"px"},o.prototype.positionMenuOnRightOfCursor=function(t,e,i){i?e.style.left=1+t.left+t.cellWidth+"px":e.style.left=1+t.left+"px"},o.prototype.positionMenuOnLeftOfCursor=function(t,e,i){i?e.style.left=t.left-e.offsetWidth+"px":e.style.left=t.left-e.offsetWidth+"px"},o.utils={},o.utils.normalizeSelection=function(t){return{start:t.getTopLeftCorner(),end:t.getBottomRightCorner()}},o.utils.isSeparator=function(t){return b.hasClass(t,"htSeparator")},o.utils.hasSubMenu=function(t){return b.hasClass(t,"htSubmenu")},o.utils.isDisabled=function(t){return b.hasClass(t,"htDisabled")},o.prototype.enable=function(){this.enabled||(this.enabled=!0,this.bindMouseEvents())},o.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.closeAll(),this.unbindMouseEvents(),this.unbindTableEvents())},o.prototype.destroy=function(){for(this.closeAll();this.menus.length>0;){var t=this.menus.pop();this.triggerRows.pop(),t&&(this.close(t),this.isMenuEnabledByOtherHotInstance()||this.removeMenu(t))}this.unbindMouseEvents(),this.unbindTableEvents()},o.prototype.isMenuEnabledByOtherHotInstance=function(){for(var t=document.querySelectorAll(".handsontable"),e=!1,i=0,o=t.length;o>i;i++){var n=this.htMenus[t[i].id];if(n&&n.getSettings().contextMenu){e=!0;break}}return e},o.prototype.removeMenu=function(t){t.parentNode&&this.menu.parentNode.removeChild(t)},o.prototype.align=function(t,e,i){d.call(this,t,e,i)},o.SEPARATOR={name:"---------"},Handsontable.hooks.add("afterInit",u),Handsontable.hooks.add("afterUpdateSettings",u),Handsontable.hooks.add("afterInit",r),Handsontable.hooks.register("afterContextMenuDefaultOptions"),Handsontable.hooks.register("afterContextMenuShow"),Handsontable.hooks.register("afterContextMenuHide"),Handsontable.ContextMenu=o},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../helpers.js":42,"./../../plugins.js":45}],53:[function(t,e,i){"use strict";Object.defineProperties(i,{ContextMenuCopyPaste:{get:function(){return f}},__esModule:{value:!0}});var o,n,s,r,a,l=(o=t("./../../dom.js"),o&&o.__esModule&&o||{"default":o}),h=(n=t("./../../eventManager.js"),n&&n.__esModule&&n||{"default":n}).eventManager,c=(s=t("./../../plugins.js"),s&&s.__esModule&&s||{"default":s}).registerPlugin,d=(r=t("./../_base.js"),r&&r.__esModule&&r||{"default":r})["default"],u=(a=t("zeroclipboard"),a&&a.__esModule&&a||{"default":a})["default"],f=function(t){var e=this;$traceurRuntime.superConstructor(p).call(this,t),this.swfPath=null,this.hotContextMenu=null,this.outsideClickDeselectsCache=null,this.hot.addHook("afterContextMenuShow",function(t){return e.setupZeroClipboard(t)}),this.hot.addHook("afterInit",function(){return e.afterInit()}),this.hot.addHook("afterContextMenuDefaultOptions",function(t){return e.addToContextMenu(t)})},p=f;$traceurRuntime.createClass(f,{afterInit:function(){if(this.hot.getSettings().contextMenuCopyPaste){if("object"==typeof this.hot.getSettings().contextMenuCopyPaste&&(this.swfPath=this.hot.getSettings().contextMenuCopyPaste.swfPath),"undefined"==typeof u)throw new Error("To be able to use the Copy/Paste feature from the context menu, you need to manualy include ZeroClipboard.js file to your website.");try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){if("undefined"==typeof navigator.mimeTypes["application/x-shockwave-flash"])throw new Error("To be able to use the Copy/Paste feature from the context menu, your browser needs to have Flash Plugin installed.")}this.prepareZeroClipboard()}},prepareZeroClipboard:function(){this.swfPath&&u.config({swfPath:this.swfPath})},getCopyValue:function(){return this.hot.copyPaste.setCopyableText(),this.hot.copyPaste.copyPasteInstance.elTextarea.value},addToContextMenu:function(t){this.hot.getSettings().contextMenuCopyPaste&&t.items.unshift({key:"copy",name:"Copy"},{key:"paste",name:"Paste",callback:function(){this.copyPaste.triggerPaste()}},Handsontable.ContextMenu.SEPARATOR)},setupZeroClipboard:function(t){var e,i,o=this;if(this.hot.getSettings().contextMenuCopyPaste){this.hotContextMenu=t,e=this.hotContextMenu.getData();for(var n=0,s=e.length;s>n;n++)if("copy"===e[n].key){i=new u(this.hotContextMenu.getCell(n,0)),i.off(),i.on("copy",function(t){var e=t.clipboardData;e.setData("text/plain",o.getCopyValue()),o.hot.getSettings().outsideClickDeselects=o.outsideClickDeselectsCache}),this.bindEvents();break}}},removeCurrentClass:function(){if(this.hotContextMenu.rootElement){var t=this.hotContextMenu.rootElement.querySelector("td.current");t&&l.removeClass(t,"current")}this.outsideClickDeselectsCache=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1},removeZeroClipboardClass:function(){if(this.hotContextMenu.rootElement){var t=this.hotContextMenu.rootElement.querySelector("td.zeroclipboard-is-hover");t&&l.removeClass(t,"zeroclipboard-is-hover")}this.hot.getSettings().outsideClickDeselects=this.outsideClickDeselectsCache},bindEvents:function(){var t=this,e=h(this.hotContextMenu);e.addEventListener(document,"mouseenter",function(){return t.removeCurrentClass()}),e.addEventListener(document,"mouseleave",function(){return t.removeZeroClipboardClass()})}},{},d),c("contextMenuCopyPaste",f)},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../plugins.js":45,"./../_base.js":46,zeroclipboard:"zeroclipboard"}],54:[function(t,e,i){"use strict";function o(t){function e(){t.isListening()&&t.selection.empty()}function i(e){var i,o,n,s,r,a,l,h,c,d;t.isListening()&&t.selection.isSelected()&&(i=e,o=f.parse(i),n=t.getSelected(),s=new p(n[0],n[1]),r=new p(n[2],n[3]),a=new g(s,s,r),l=a.getTopLeftCorner(),h=a.getBottomRightCorner(),c=l,d=new p(Math.max(h.row,o.length-1+l.row),Math.max(h.col,o[0].length-1+l.col)),t.addHookOnce("afterChange",function(t,e){t&&t.length&&this.selectCell(c.row,c.col,d.row,d.col)}),t.populateFromArray(c.row,c.col,o,d.row,d.col,"paste",t.getSettings().pasteMode))}function o(e){if(t.getSelected()&&(!t.getActiveEditor()||!t.getActiveEditor().isOpened())){if(d.isCtrlKey(e.keyCode))return n.setCopyableText(),void e.stopImmediatePropagation();var i=(e.ctrlKey||e.metaKey)&&!e.altKey;e.keyCode==d.keyCode.A&&i&&t._registerTimeout(setTimeout(d.proxy(n.setCopyableText,n),0))}}var n=this;this.copyPasteInstance=u(),this.copyPasteInstance.onCut(e),this.copyPasteInstance.onPaste(i),t.addHook("beforeKeyDown",o),this.destroy=function(){this.copyPasteInstance.removeCallback(e),this.copyPasteInstance.removeCallback(i),this.copyPasteInstance.destroy(),t.removeHook("beforeKeyDown",o)},t.addHook("afterDestroy",d.proxy(this.destroy,this)),this.triggerPaste=d.proxy(this.copyPasteInstance.triggerPaste,this.copyPasteInstance),this.triggerCut=d.proxy(this.copyPasteInstance.triggerCut,this.copyPasteInstance),this.setCopyableText=function(){var e=t.getSettings(),i=e.copyRowsLimit,o=e.copyColsLimit,n=t.getSelectedRange(),s=n.getTopLeftCorner(),r=n.getBottomRightCorner(),a=s.row,l=s.col,h=r.row,c=r.col,d=Math.min(h,a+i-1),u=Math.min(c,l+o-1);t.copyPaste.copyPasteInstance.copyable(t.getCopyableData(a,l,d,u)),(h!==d||c!==u)&&Handsontable.hooks.run(t,"afterCopyLimit",h-a+1,c-l+1,i,o)}}function n(){var t=this,e=t.getSettings().copyPaste!==!1;e&&!t.copyPaste?t.copyPaste=new o(t):!e&&t.copyPaste&&(t.copyPaste.destroy(),delete t.copyPaste)}Object.defineProperties(i,{CopyPaste:{get:function(){return CopyPaste}},__esModule:{value:!0}});var s,r,a,l,h,c,d=(s=t("./../../helpers.js"),s&&s.__esModule&&s||{"default":s}),u=(r=t("copyPaste"),r&&r.__esModule&&r||{"default":r})["default"],f=(a=t("SheetClip"),a&&a.__esModule&&a||{"default":a})["default"],p=((l=t("./../../plugins.js"),l&&l.__esModule&&l||{"default":l}).registerPlugin,(h=t("./../../3rdparty/walkontable/src/cell/coords.js"),h&&h.__esModule&&h||{"default":h}).WalkontableCellCoords),g=(c=t("./../../3rdparty/walkontable/src/cell/range.js"),c&&c.__esModule&&c||{"default":c}).WalkontableCellRange;Handsontable.hooks.add("afterInit",n),Handsontable.hooks.add("afterUpdateSettings",n),Handsontable.hooks.register("afterCopyLimit")},{"./../../3rdparty/walkontable/src/cell/coords.js":5,"./../../3rdparty/walkontable/src/cell/range.js":6,"./../../helpers.js":42,"./../../plugins.js":45,SheetClip:"SheetClip",copyPaste:"copyPaste"}],55:[function(t,e,i){"use strict";function o(){}var n,s,r,a,l=((n=t("./../../plugins.js"),n&&n.__esModule&&n||{"default":n}).registerPlugin,(s=t("./../../3rdparty/walkontable/src/cell/range.js"),s&&s.__esModule&&s||{"default":s}).WalkontableCellRange),h=(r=t("./../../3rdparty/walkontable/src/selection.js"),r&&r.__esModule&&r||{"default":r}).WalkontableSelection,c=function(t){return"boolean"==typeof t&&t===!0?!0:"object"==typeof t&&t.length>0},d=function(){c(this.getSettings().customBorders)&&(this.customBorders||(a=this,this.customBorders=new o))},u=function(t){for(var e=0;e<a.view.wt.selections.length;e++)if(a.view.wt.selections[e].settings.className==t)return e;return-1},f=function(t){var e={row:t.row,col:t.col},i=new h(t,new l(e,e,e)),o=u(t.className);o>=0?a.view.wt.selections[o]=i:a.view.wt.selections.push(i)},p=function(t,e,i){var o=w(t,e);o=C(o,i),this.setCellMeta(t,e,"borders",o),f(o)},g=function(t){for(var e=t.range,i=e.from.row;i<=e.to.row;i++)for(var o=e.from.col;o<=e.to.col;o++){var n=w(i,o),s=0;i==e.from.row&&(s++,t.hasOwnProperty("top")&&(n.top=t.top)),i==e.to.row&&(s++,t.hasOwnProperty("bottom")&&(n.bottom=t.bottom)),o==e.from.col&&(s++,t.hasOwnProperty("left")&&(n.left=t.left)),o==e.to.col&&(s++,t.hasOwnProperty("right")&&(n.right=t.right)),s>0&&(this.setCellMeta(i,o,"borders",n),f(n))}},m=function(t,e){return"border_row"+t+"col"+e},v=function(){return{width:1,color:"#000"}},b=function(){return{hide:!0}},y=function(){return{width:1,color:"#000",cornerVisible:!1}},w=function(t,e){return{className:m(t,e),border:y(),row:t,col:e,top:b(),right:b(),bottom:b(),left:b()}},C=function(t,e){return e.hasOwnProperty("border")&&(t.border=e.border),e.hasOwnProperty("top")&&(t.top=e.top),e.hasOwnProperty("right")&&(t.right=e.right),e.hasOwnProperty("bottom")&&(t.bottom=e.bottom),e.hasOwnProperty("left")&&(t.left=e.left),t},_=function(t){for(var e=document.querySelectorAll("."+t),i=0;i<e.length;i++)if(e[i]&&"TD"!=e[i].nodeName){var o=e[i].parentNode;o.parentNode&&o.parentNode.removeChild(o)}},x=function(t,e){var i=m(t,e);_(i),this.removeCellMeta(t,e,"borders")},S=function(t,e,i,o){var n=this.getCellMeta(t,e).borders;n&&void 0!=n.border||(n=w(t,e)),o?n[i]=b():n[i]=v(),this.setCellMeta(t,e,"borders",n);var s=m(t,e);_(s),f(n),this.render()},k=function(t,e,i){if(t.from.row==t.to.row&&t.from.col==t.to.col)"noBorders"==e?x.call(this,t.from.row,t.from.col):S.call(this,t.from.row,t.from.col,e,i);else switch(e){case"noBorders":for(var o=t.from.col;o<=t.to.col;o++)for(var n=t.from.row;n<=t.to.row;n++)x.call(this,n,o);break;case"top":for(var s=t.from.col;s<=t.to.col;s++)S.call(this,t.from.row,s,e,i);break;case"right":for(var r=t.from.row;r<=t.to.row;r++)S.call(this,r,t.to.col,e);break;case"bottom":for(var a=t.from.col;a<=t.to.col;a++)S.call(this,t.to.row,a,e);break;case"left":for(var l=t.from.row;l<=t.to.row;l++)S.call(this,l,t.from.col,e)}},T=function(t,e){var i=!1;return t.getSelectedRange().forAll(function(o,n){var s=t.getCellMeta(o,n).borders;if(s){if(!e)return i=!0,!1;if(!s[e].hasOwnProperty("hide"))return i=!0,!1}}),i},R=function(t){return"<span class='selected'>"+String.fromCharCode(10003)+"</span>"+t},E=function(t){this.getSettings().customBorders&&(t.items.push(Handsontable.ContextMenu.SEPARATOR),t.items.push({key:"borders",name:"Borders",submenu:{items:{top:{name:function(){var t="Top",e=T(this,"top");return e&&(t=R(t)),t},callback:function(){var t=T(this,"top");k.call(this,this.getSelectedRange(),"top",t)},disabled:!1},right:{name:function(){var t="Right",e=T(this,"right");return e&&(t=R(t)),t},callback:function(){var t=T(this,"right");k.call(this,this.getSelectedRange(),"right",t)},disabled:!1},bottom:{name:function(){var t="Bottom",e=T(this,"bottom");return e&&(t=R(t)),t},callback:function(){var t=T(this,"bottom");k.call(this,this.getSelectedRange(),"bottom",t)},disabled:!1},left:{name:function(){var t="Left",e=T(this,"left");return e&&(t=R(t)),t},callback:function(){var t=T(this,"left");k.call(this,this.getSelectedRange(),"left",t)},disabled:!1},remove:{name:"Remove border(s)",callback:function(){k.call(this,this.getSelectedRange(),"noBorders")},disabled:function(){return!T(this)}}}}}))};Handsontable.hooks.add("beforeInit",d),Handsontable.hooks.add("afterContextMenuDefaultOptions",E),Handsontable.hooks.add("afterInit",function(){var t=this.getSettings().customBorders;if(t){for(var e=0;e<t.length;e++)t[e].range?g.call(this,t[e]):p.call(this,t[e].row,t[e].col,t[e]);this.render(),this.view.wt.draw(!0)}}),Handsontable.CustomBorders=o},{"./../../3rdparty/walkontable/src/cell/range.js":6,"./../../3rdparty/walkontable/src/selection.js":18,"./../../plugins.js":45}],56:[function(t,e,i){"use strict";function o(){this.boundaries=null,this.callback=null}Object.defineProperties(i,{DragToScroll:{get:function(){return o}},__esModule:{value:!0}});var n,s,r=(n=t("./../../eventManager.js"),n&&n.__esModule&&n||{"default":n}).eventManager;(s=t("./../../plugins.js"),s&&s.__esModule&&s||{
"default":s}).registerPlugin,Handsontable.plugins.DragToScroll=o,o.prototype.setBoundaries=function(t){this.boundaries=t},o.prototype.setCallback=function(t){this.callback=t},o.prototype.check=function(t,e){var i=0,o=0;e<this.boundaries.top?o=e-this.boundaries.top:e>this.boundaries.bottom&&(o=e-this.boundaries.bottom),t<this.boundaries.left?i=t-this.boundaries.left:t>this.boundaries.right&&(i=t-this.boundaries.right),this.callback(i,o)};var a;if("undefined"!=typeof Handsontable)var l=function(t){t.dragToScrollListening=!1;var e=t.view.wt.wtTable.holder;a=new o,e!==window&&(a.setBoundaries(e.getBoundingClientRect()),a.setCallback(function(t,i){0>t?e.scrollLeft-=50:t>0&&(e.scrollLeft+=50),0>i?e.scrollTop-=20:i>0&&(e.scrollTop+=20)}),t.dragToScrollListening=!0)};Handsontable.hooks.add("afterInit",function(){var t=this,e=r(this);e.addEventListener(document,"mouseup",function(){t.dragToScrollListening=!1}),e.addEventListener(document,"mousemove",function(e){t.dragToScrollListening&&a.check(e.clientX,e.clientY)})}),Handsontable.hooks.add("afterDestroy",function(){r(this).clear()}),Handsontable.hooks.add("afterOnCellMouseDown",function(){l(this)}),Handsontable.hooks.add("afterOnCellCornerMouseDown",function(){l(this)}),Handsontable.plugins.DragToScroll=o},{"./../../eventManager.js":41,"./../../plugins.js":45}],57:[function(t,e,i){"use strict";function o(t){var e=[],i={rows:0,cols:0},o={rows:0,cols:0},n=[],s=[],a={groupIndicatorContainer:"htGroupIndicatorContainer",groupIndicator:function(t){return"ht"+t+"Group"},groupStart:"htGroupStart",collapseButton:"htCollapseButton",expandButton:"htExpandButton",collapseGroupId:function(t){return"htCollapse-"+t},collapseFromLevel:function(t,e){return"htCollapse"+t+"FromLevel-"+e},clickable:"clickable",levelTrigger:"htGroupLevelTrigger"},h=function(t,e){return function(i,o){return"undefined"==typeof e||"asc"===e?i[t]-o[t]:o[t]-i[t]}},c=function(t,e){for(var i=[];e>=t;)i.push(t++);return i},d=function(t,e,i){var o=[],n={row:null,col:null};if("cols"==t)for(;i>=e;)n={row:-1,col:e++},o.push(n);else for(;i>=e;)n={row:e++,col:-1},o.push(n);for(var s=u(o),r=0,a=0,l=0;l<s.length;l++)r+=s[l].filter(function(t){return t.rows}).length,a+=s[l].filter(function(t){return t.cols}).length;return{total:{rows:r,cols:a},groups:s}},u=function(t){for(var e=[],i=0;i<t.length;i++)e.push(f(t[i]));return e},f=function(t,i,o){for(var n=t.row,s=t.col,r=-1===n?0:n,a=-1===s?0:s,l=[],h=0;h<e.length;h++){var c=e[h],d=c.id,u=(c.level,c.rows||[]),f=c.cols||[];-1===l.indexOf(d)&&(-1!==u.indexOf(r)||-1!==f.indexOf(a))&&l.push(c)}-1===s?l=l.concat(v()):-1===n&&(l=l.concat(y())),i&&(l=l.filter(function(t){return t.level===i})),o&&("cols"===o?l=l.filter(function(t){return t.cols}):"rows"===o&&(l=l.filter(function(t){return t.rows})));var p=[];return l.filter(function(t){return-1===p.indexOf(t.id)?(p.push(t.id),t):void 0})},p=function(t){for(var i=0,o=e.length;o>i;i++)if(e[i].id==t)return e[i];return!1},g=function(t,i){for(var o=0,n=e.length;n>o;o++)if(e[o].level==i&&e[o].rows&&e[o].rows.indexOf(t)>-1)return e[o];return!1},m=function(t,i){for(var o=0,n=e.length;n>o;o++)if(e[o].level==i&&e[o].cols&&e[o].cols.indexOf(t)>-1)return e[o];return!1},v=function(){for(var t=[],i=0,o=e.length;o>i;i++)Array.isArray(e[i].cols)&&t.push(e[i]);return t},b=function(t){for(var i=[],o=0,n=e.length;n>o;o++)e[o].cols&&e[o].level===t&&i.push(e[o]);return i},y=function(){for(var t=[],i=0,o=e.length;o>i;i++)Array.isArray(e[i].rows)&&t.push(e[i]);return t},w=function(t){for(var i=[],o=0,n=e.length;n>o;o++)e[o].rows&&e[o].level===t&&i.push(e[o]);return i},C=function(t){var e=0;return t.length&&t.forEach(function(t){if(t=t.filter(function(t){return t.cols}),t.length){var i=t.sort(h("level","desc")),o=i[0].level;o>e&&(e=o)}}),e},_=function(t){var e=0;return t.length&&t.forEach(function(t){if(t=t.filter(function(t){return t.rows}),t.length){var i=t.sort(h("level","desc")),o=i[0].level;o>e&&(e=o)}}),e},x=function(t,n){var s=d("cols",t,n),r=C(s.groups);r===o.cols?o.cols++:r>o.cols&&(o.cols=r+1),i.cols||(i.cols=v().length),i.cols++,e.push({id:"c"+i.cols,level:r+1,cols:c(t,n),hidden:0})},S=function(t,n){var s=d("rows",t,n),r=_(s.groups);o.rows=Math.max(o.rows,r+1),i.rows||(i.rows=y().length),i.rows++,e.push({id:"r"+i.rows,level:r+1,rows:c(t,n),hidden:0})},k=function(t,e){for(var i,o=0,r=e.length;r>o;o++)if(e[o].hidden=t,i=e[o].level,n[i]||(n[i]=[]),s[i]||(s[i]=[]),e[o].rows)for(var a=0,l=e[o].rows.length;l>a;a++)t>0?n[i][e[o].rows[a]]=!0:n[i][e[o].rows[a]]=void 0;else if(e[o].cols)for(var a=0,h=e[o].cols.length;h>a;a++)t>0?s[i][e[o].cols[a]]=!0:s[i][e[o].cols[a]]=void 0},T=function(t,e,i,o){var n,s;switch(t){case"rows":n=g(e+1,i).id,s=Handsontable.Grouping.getGroupLevelsByRows();break;case"cols":n=m(e+1,i).id,s=Handsontable.Grouping.getGroupLevelsByCols()}return!!(s[e+1]&&s[e+1].indexOf(i)>-1&&o==n)},R=function(t,e,i,o){var n,s;switch(t){case"rows":n=g(e-1,i).id,s=Handsontable.Grouping.getGroupLevelsByRows();break;case"cols":n=m(e-1,i).id,s=Handsontable.Grouping.getGroupLevelsByCols()}return!!(s[e-1]&&s[e-1].indexOf(i)>-1&&o==n)},E=function(e,i,r,a){if(0===i)return!1;var l,h,c=R(e,i,r,a),d=T(e,i,r,a),u=!1;switch(e){case"rows":l=Handsontable.Grouping.getGroupLevelsByRows(),h=t.countRows();for(var f=0;f<=o.rows;f++)if(n[f]&&n[f][i+1]){u=!0;break}break;case"cols":l=Handsontable.Grouping.getGroupLevelsByCols(),h=t.countCols();for(var f=0;f<=o.cols;f++)if(s[f]&&s[f][i+1]){u=!0;break}}if(c){if(i==h-1)return!0;if(!d||d&&u)return!0;if(!l[i+1])return!0}return!1},D=function(e){var i;switch(e){case"rows":i=o.rows;for(var r=0;i>=r;r++)if(n[r]&&n[r][t.countRows()-1])return!0;break;case"cols":i=o.cols;for(var r=0;i>=r;r++)if(s[r]&&s[r][t.countCols()-1])return!0}return!1},M=function(e,i,r,a){var l,h,c,d=p(a),u=!1,f=function(t){for(var e=!1,r="rows"==t?n:s,a=0;a<=o[t];a++){for(c=i;d[t].indexOf(c)>-1;)e=!(!r[a]||!r[a][c]),c--;if(e)break}return e},g=R(e,i,r,a),m=T(e,i,r,a);switch(e){case"rows":l=Handsontable.Grouping.getGroupLevelsByRows(),h=t.countRows(),u=f(e);break;case"cols":l=Handsontable.Grouping.getGroupLevelsByCols(),h=t.countCols(),u=f(e)}if(i==h-1)return!1;if(0===i){if(m)return!0}else if(!g||g&&u){if(m)return!0}else if(!l[i-1]&&m)return!0;return!1},O=function(t,e,i,o,n){var s;switch(t){case"rows":s=g(e-1,i).id;break;case"cols":s=m(e-1,i).id}if(!s)return null;if(e>0&&R(t,e-1,i,s)&&s!=o){var l=document.createElement("DIV");return r.addClass(l,a.expandButton),l.id="htExpand-"+s,l.appendChild(document.createTextNode("+")),l.setAttribute("data-level",i),l.setAttribute("data-type",t),l.setAttribute("data-hidden","1"),n.appendChild(l),l}return null},A=function(t){for(var e=y(),i=v(),o=0,n=e.length;n>o;o++)if(e[o].rows.indexOf(t.row)>-1&&e[o].hidden)return!0;if(null===t.col)return!1;for(var o=0,s=i.length;s>o;o++)if(i[o].cols.indexOf(t.col)>-1&&i[o].hidden)return!0;return!1};return{getGroups:function(){return e},getLevels:function(){return o},instance:t,baseSpareRows:t.getSettings().minSpareRows,baseSpareCols:t.getSettings().minSpareCols,getRowGroups:y,getColGroups:v,init:function(){var e=t.getSettings().groups;e&&Array.isArray(e)&&Handsontable.Grouping.initGroups(e)},initGroups:function(t){e=[],t.forEach(function(t){var e=[],i=!1,o=!1;Array.isArray(t.rows)?(e=t.rows,i=!0):Array.isArray(t.cols)&&(e=t.cols,o=!0);var n=e[0],s=e[e.length-1];i?S(n,s):o&&x(n,s)})},resetGroups:function(){e=[],i={rows:0,cols:0},o={rows:0,cols:0};var t;for(var n in a)if("function"!=typeof a[n]){t=document.querySelectorAll("."+a[n]);for(var s=0,l=t.length;l>s;s++)r.removeClass(t[s],a[n])}for(var h=["htGroupColClosest","htGroupCol"],n=0,c=h.length;c>n;n++){t=document.querySelectorAll("."+h[n]);for(var s=0,l=t.length;l>s;s++)r.removeClass(t[s],h[n])}},updateGroups:function(){var t=this.getSettings().groups;Handsontable.Grouping.resetGroups(),Handsontable.Grouping.initGroups(t)},afterGetRowHeader:function(t,e){for(var i=!1,o=0,s=n.length;s>o;o++)n[o]&&n[o][t]===!0&&(i=!0);i?r.addClass(e.parentNode,"hidden"):!i&&r.hasClass(e.parentNode,"hidden")&&r.removeClass(e.parentNode,"hidden")},afterGetColHeader:function(e,i){var o=this.view.wt.wtSettings.getSetting("rowHeaders").length,n=t.rootElement.querySelectorAll("colgroup col:nth-child("+parseInt(e+o+1,10)+")");if(0!==n.length){for(var a=!1,l=0,h=s.length;h>l;l++)s[l]&&s[l][e]===!0&&(a=!0);if(a)for(var l=0,c=n.length;c>l;l++)r.addClass(n[l],"hidden");else if(!a&&r.hasClass(n[0],"hidden"))for(var l=0,c=n.length;c>l;l++)r.removeClass(n[l],"hidden")}},groupIndicatorsFactory:function(t,e){var n,s,h,c,d,u,f,p;switch(e){case"horizontal":n=Handsontable.Grouping.getGroupLevelsByCols(),s=function(t){return Array.prototype.indexOf.call(t.parentNode.parentNode.childNodes,t.parentNode)+1},h=function(t,e){return m(t,e).id},c="cols",d=function(t,e){return m(t-1,e)},u="columnHeaders",f=function(t){if(1===t.length){var e=t[0];t[0]=function(t,i,o){-1>t?b()(t,i,o):(r.removeClass(i,a.groupIndicatorContainer),e(t,i,o))}}return function(){return t}},p=!0;break;case"vertical":n=Handsontable.Grouping.getGroupLevelsByRows(),s=function(t){return r.index(t)+1},h=function(t,e){return g(t,e).id},c="rows",d=function(t,e){return g(t-1,e)},u="rowHeaders",f=function(t){return t}}var v=function(t){var e=document.createElement("div");return t.appendChild(e),{button:e,addClass:function(t){r.addClass(e,t)}}},b=function(){var t=e.charAt(0).toUpperCase()+e.slice(1);return function(e,i,o){o++;for(var s,u;s=i.lastChild;)i.removeChild(s);r.addClass(i,a.groupIndicatorContainer);var f=h(e,o);if(e>-1&&n[e]&&n[e].indexOf(o)>-1&&(u=v(i),u.addClass(a.groupIndicator(t)),M(c,e,o,f)&&u.addClass(a.groupStart),E(c,e,o,f)&&(u.button.appendChild(document.createTextNode("-")),u.addClass(a.collapseButton),u.button.id=a.collapseGroupId(f),u.button.setAttribute("data-level",o),u.button.setAttribute("data-type",c))),p){var g=r.index(i.parentNode);if(-1===e||-1>e&&g===Handsontable.Grouping.getLevels().cols+1||0===g&&0===Handsontable.Grouping.getLevels().cols)if(u=v(i),u.addClass(a.levelTrigger),-1===e)u.button.id=a.collapseFromLevel("Cols",o),u.button.appendChild(document.createTextNode(o));else if(-1>e&&g===Handsontable.Grouping.getLevels().cols+1||0===g&&0===Handsontable.Grouping.getLevels().cols){var m=r.index(i)+1;u.button.id=a.collapseFromLevel("Rows",m),u.button.appendChild(document.createTextNode(m))}}var b=O(c,e,o,f,i);if(e>0){var y=d(e-1,o);b&&y.hidden&&r.addClass(b,a.clickable)}l()}};if(t=f(t),i[c]>0)for(var y=0;y<o[c]+1;y++)Array.isArray(t)||(t="function"==typeof t?t():new Array(t)),t.unshift(b())},getGroupLevelsByRows:function(){for(var t=y(),e=[],i=0,o=t.length;o>i;i++)if(t[i].rows)for(var n=0,s=t[i].rows.length;s>n;n++)e[t[i].rows[n]]||(e[t[i].rows[n]]=[]),e[t[i].rows[n]].push(t[i].level);return e},getGroupLevelsByCols:function(){for(var t=v(),e=[],i=0,o=t.length;o>i;i++)if(t[i].cols)for(var n=0,s=t[i].cols.length;s>n;n++)e[t[i].cols[n]]||(e[t[i].cols[n]]=[]),e[t[i].cols[n]].push(t[i].level);return e},toggleGroupVisibility:function(e,i,n){if(r.hasClass(e.target,a.expandButton)||r.hasClass(e.target,a.collapseButton)||r.hasClass(e.target,a.levelTrigger)){var s,l,h,c,d=e.target,u=d.id.split("-"),f=[],g=function(t){t&&(d=t),u=d.id.split("-"),s=u[1],l=parseInt(d.getAttribute("data-level"),10),h=d.getAttribute("data-type"),c=parseInt(d.getAttribute("data-hidden")),c=isNaN(c)?1:c?0:1,d.setAttribute("data-hidden",c.toString()),f.push(p(s))};if(d.className.indexOf(a.levelTrigger)>-1){for(var m,v=[],y=[],C=d.id.indexOf("Rows")>-1?"rows":"cols",_=1,x=o[C];x>=_;_++)if(m="rows"==C?w(_):b(_),_>=parseInt(u[1],10))for(var S=0,T=m.length;T>S;S++)y.push(m[S]);else for(var S=0,T=m.length;T>S;S++)v.push(m[S]);k(!0,y),k(!1,v)}else g(),k(c,f);h=h||C;var R=D(h),E=h.charAt(0).toUpperCase()+h.slice(1),M=Handsontable.Grouping["baseSpare"+E];R?0==M&&(t.alter("insert_"+h.slice(0,-1),t["count"+E]()),Handsontable.Grouping["dummy"+h.slice(0,-1)]=!0):0==M&&Handsontable.Grouping["dummy"+h.slice(0,-1)]&&(t.alter("remove_"+h.slice(0,-1),t["count"+E]()-1),Handsontable.Grouping["dummy"+h.slice(0,-1)]=!1),t.render(),e.stopImmediatePropagation()}},modifySelectionFactory:function(t){var e,i=this.instance,o=new WalkontableCellCoords(0,0),n=function(t,e){var i=0;switch(t){case"down":for(;A(e);)i++,e.row+=1;break;case"up":for(;A(e);)i--,e.row-=1;break;case"right":for(;A(e);)i++,e.col+=1;break;case"left":for(;A(e);)i--,e.col-=1}return i},s=function(t,e){t.row>0?A(e)&&(t.row+=n("down",e)):t.row<0&&A(e)&&(t.row+=n("up",e)),t.col>0?A(e)&&(t.col+=n("right",e)):t.col<0&&A(e)&&(t.col+=n("left",e))};switch(t){case"start":return function(t){e=i.getSelected(),o.row=e[0]+t.row,o.col=e[1]+t.col,s(t,o)};case"end":return function(t){e=i.getSelected(),o.row=e[2]+t.row,o.col=e[3]+t.col,s(t,o)}}},modifyRowHeight:function(e,i){return t.view.wt.wtTable.rowFilter&&A({row:i,col:null})?0:void 0},validateGroups:function(){for(var e=function(t,e){return t[0]<e[0]&&t[1]<e[1]&&e[0]<=t[1]||t[0]>e[0]&&e[1]<t[1]&&t[0]<=e[1]?!0:void 0},i=t.getSettings().groups,o=[],n=[],s=0,r=i.length;r>s;s++)if(i[s].rows){if(1===i[s].rows.length)throw new Error("Grouping error:  Group {"+i[s].rows[0]+"} is invalid. Cannot define single-entry groups.");if(0===i[s].rows.length)throw new Error("Grouping error:  Cannot define empty groups.");n.push(i[s].rows);for(var a=0,l=n.length;l>a;a++)if(e(i[s].rows,n[a]))throw new Error("Grouping error:  ranges {"+i[s].rows[0]+", "+i[s].rows[1]+"} and {"+n[a][0]+", "+n[a][1]+"} are overlapping.")}else if(i[s].cols){if(1===i[s].cols.length)throw new Error("Grouping error:  Group {"+i[s].cols[0]+"} is invalid. Cannot define single-entry groups.");if(0===i[s].cols.length)throw new Error("Grouping error:  Cannot define empty groups.");o.push(i[s].cols);for(var a=0,h=o.length;h>a;a++)if(e(i[s].cols,o[a]))throw new Error("Grouping error:  ranges {"+i[s].cols[0]+", "+i[s].cols[1]+"} and {"+o[a][0]+", "+o[a][1]+"} are overlapping.")}return!0},afterGetRowHeaderRenderers:function(t){Handsontable.Grouping.groupIndicatorsFactory(t,"vertical")},afterGetColumnHeaderRenderers:function(t){Handsontable.Grouping.groupIndicatorsFactory(t,"horizontal")},hookProxy:function(e,i){return function(){return t.getSettings().groups?i?Handsontable.Grouping[e](i).apply(this,arguments):Handsontable.Grouping[e].apply(this,arguments):void 0}}}}var n,s,r=(n=t("./../../dom.js"),n&&n.__esModule&&n||{"default":n});(s=t("./../../plugins.js"),s&&s.__esModule&&s||{"default":s}).registerPlugin,o.prototype.beforeInit=function(){};var a=function(){var t=this,e=!!t.getSettings().groups;if(e){var i={};Handsontable.Grouping=new o(t),t.getSettings().rowHeaders||(i.rowHeaders=!0),t.getSettings().colHeaders||(i.colHeaders=!0),(i.colHeaders||i.rowHeaders)&&t.updateSettings(i);var n=Handsontable.Grouping.validateGroups();if(!n)return;t.addHook("beforeInit",Handsontable.Grouping.hookProxy("init")),t.addHook("afterUpdateSettings",Handsontable.Grouping.hookProxy("updateGroups")),t.addHook("afterGetColumnHeaderRenderers",Handsontable.Grouping.hookProxy("afterGetColumnHeaderRenderers")),t.addHook("afterGetRowHeaderRenderers",Handsontable.Grouping.hookProxy("afterGetRowHeaderRenderers")),t.addHook("afterGetRowHeader",Handsontable.Grouping.hookProxy("afterGetRowHeader")),t.addHook("afterGetColHeader",Handsontable.Grouping.hookProxy("afterGetColHeader")),t.addHook("beforeOnCellMouseDown",Handsontable.Grouping.hookProxy("toggleGroupVisibility")),t.addHook("modifyTransformStart",Handsontable.Grouping.hookProxy("modifySelectionFactory","start")),t.addHook("modifyTransformEnd",Handsontable.Grouping.hookProxy("modifySelectionFactory","end")),t.addHook("modifyRowHeight",Handsontable.Grouping.hookProxy("modifyRowHeight"))}},l=function(){for(var t=document.querySelectorAll("colgroup"),e=0,i=t.length;i>e;e++){var o=t[e].querySelectorAll("col.rowHeader");if(0===o.length)return;for(var n=0,s=o.length+1;s>n;n++){if(2==s)return;n<Handsontable.Grouping.getLevels().rows+1&&(n==Handsontable.Grouping.getLevels().rows?r.addClass(o[n],"htGroupColClosest"):r.addClass(o[n],"htGroupCol"))}}};Handsontable.hooks.add("beforeInit",a),Handsontable.hooks.add("afterUpdateSettings",function(){this.getSettings().groups&&!Handsontable.Grouping?a.call(this,arguments):!this.getSettings().groups&&Handsontable.Grouping&&(Handsontable.Grouping.resetGroups(),Handsontable.Grouping=void 0)}),Handsontable.plugins.Grouping=o},{"./../../dom.js":27,"./../../plugins.js":45}],58:[function(t,e,i){"use strict";function o(t){function e(e){e.items.push(Handsontable.ContextMenu.SEPARATOR,{key:"freeze_column",name:function(){var e=t.getSelected()[1];return e>f-1?"Freeze this column":"Unfreeze this column"},disabled:function(){var e=t.getSelected();return e[1]!==e[3]},callback:function(){var e=t.getSelected()[1];e>f-1?l(e):h(e)}})}function i(){t.updateSettings({fixedColumnsLeft:f+1}),f++}function o(){t.updateSettings({fixedColumnsLeft:f-1}),f--}function n(e){t.manualColumnPositions&&0!==t.manualColumnPositions.length||t.manualColumnPositions||(t.manualColumnPositions=[]),e?t.manualColumnPositions[e]||s(e+1):s(t.countCols())}function s(e){if(t.manualColumnPositions.length<e)for(var i=t.manualColumnPositions.length;e>i;i++)t.manualColumnPositions[i]=i}function r(e,i,o,n){null==o&&(o=e),"freeze"===n?t.manualColumnPositions.splice(f,0,t.manualColumnPositions.splice(i,1)[0]):"unfreeze"===n&&t.manualColumnPositions.splice(o,0,t.manualColumnPositions.splice(i,1)[0])}function a(t){for(var e=f,i=c(e),o=c(t);o>i;)e++,i=c(e);return e-1}function l(e){if(!(f-1>=e)){var o=c(e)||e;n(o),r(o,e,null,"freeze"),i(),t.view.wt.wtOverlays.leftOverlay.refresh(),t.view.wt.wtOverlays.adjustElementsSize()}}function h(e){if(!(e>f-1)){var i=a(e),s=c(e)||e;n(s),r(s,e,i,"unfreeze"),o(),t.view.wt.wtOverlays.leftOverlay.refresh()}}function c(e){return t.manualColumnPositions[e]}function d(t){return this.manualColumnPositionsPluginUsages.length>1?t:c(t)}function u(){t.addHook("modifyCol",d),t.addHook("afterContextMenuDefaultOptions",e)}var f=t.getSettings().fixedColumnsLeft,p=function(){"undefined"!=typeof t.manualColumnPositionsPluginUsages?t.manualColumnPositionsPluginUsages.push("manualColumnFreeze"):t.manualColumnPositionsPluginUsages=["manualColumnFreeze"],u()};return{init:p,freezeColumn:l,unfreezeColumn:h,helpers:{addFixedColumn:i,removeFixedColumn:o,checkPositionData:n,modifyColumnOrder:r,getBestColumnReturnPosition:a}}}Object.defineProperties(i,{ManualColumnFreeze:{get:function(){return o}},__esModule:{value:!0}});var n,s=((n=t("./../../plugins.js"),n&&n.__esModule&&n||{"default":n}).registerPlugin,function(){if(this.getSettings().manualColumnFreeze){var t;Handsontable.plugins.manualColumnFreeze=o,this.manualColumnFreeze=new o(this),t=this.manualColumnFreeze,t.init.call(this)}});Handsontable.hooks.add("beforeInit",s)},{"./../../plugins.js":45}],59:[function(t,e,i){"use strict";function o(){function t(t){f=this,p=t;var e=this.view.wt.wtTable.getCoords(t).col;if(e>=0){u=e;var i=p.getBoundingClientRect();d=i.left,g.style.top=i.top+"px",g.style.left=d+"px",f.rootElement.appendChild(g)}}function e(t,e){var i=t.getBoundingClientRect(),o=6;e>0?g.style.left=i.left+i.width-o+"px":g.style.left=i.left+"px"}function i(){var t=this;h.addClass(g,"active"),h.addClass(m,"active");var e=p.getBoundingClientRect();m.style.width=e.width+"px",m.style.height=t.view.maximumVisibleElementHeight(0)+"px",m.style.top=g.style.top,m.style.left=d+"px",t.rootElement.appendChild(m)}function o(t){m.style.left=d+t+"px"}function n(){h.removeClass(g,"active"),h.removeClass(m,"active")}var s,r,a,d,u,f,p,g=document.createElement("DIV"),m=document.createElement("DIV"),v=c(this);g.className="manualColumnMover",m.className="manualColumnMoverGuide";var b=function(){var t=this;Handsontable.hooks.run(t,"persistentStateSave","manualColumnPositions",t.manualColumnPositions)},y=function(){var t=this,e={};return Handsontable.hooks.run(t,"persistentStateLoad","manualColumnPositions",e),e.value},w=function(t){return"BODY"!=t.tagName?"THEAD"==t.parentNode.tagName?!0:(t=t.parentNode,w(t)):!1},C=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:C(t.parentNode):null},_=function(){var c,d=this;v.addEventListener(d.rootElement,"mouseover",function(i){if(w(i.target)){var o=C(i.target);if(o)if(c){var n=d.view.wt.wtTable.getCoords(o).col;n>=0&&(r=n,e(i.target,r-s))}else t.call(d,o)}}),v.addEventListener(d.rootElement,"mousedown",function(t){h.hasClass(t.target,"manualColumnMover")&&(a=l.pageX(t),i.call(d),c=d,s=u,r=u)}),v.addEventListener(window,"mousemove",function(t){c&&o(l.pageX(t)-a)}),v.addEventListener(window,"mouseup",function(e){c&&(n(),c=!1,S(d.manualColumnPositions,d.countCols()),d.manualColumnPositions.splice(r,0,d.manualColumnPositions.splice(s,1)[0]),d.forceFullRender=!0,d.view.render(),b.call(d),Handsontable.hooks.run(d,"afterColumnMove",s,r),t.call(d,p))}),d.addHook("afterDestroy",x)},x=function(){v.clear()},S=function(t,e){if(t.length<e)for(var i=t.length;e>i;i++)t[i]=i};this.beforeInit=function(){this.manualColumnPositions=[]},this.init=function(t){var e=this,i=!!this.getSettings().manualColumnMove;if(i){var o=this.getSettings().manualColumnMove,n=y.call(e);"undefined"!=typeof n?this.manualColumnPositions=n:Array.isArray(o)?this.manualColumnPositions=o:this.manualColumnPositions=[],"afterInit"==t&&("undefined"!=typeof e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.push("manualColumnMove"):e.manualColumnPositionsPluginUsages=["manualColumnMove"],_.call(this),this.manualColumnPositions.length>0&&(this.forceFullRender=!0,this.render()))}else{var s=e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.indexOf("manualColumnMove"):-1;s>-1&&(x.call(this),this.manualColumnPositions=[],e.manualColumnPositionsPluginUsages[s]=void 0)}},this.modifyCol=function(t){return this.getSettings().manualColumnMove?("undefined"==typeof this.manualColumnPositions[t]&&S(this.manualColumnPositions,t+1),this.manualColumnPositions[t]):t},this.afterRemoveCol=function(t,e){if(this.getSettings().manualColumnMove){var i,o=this.manualColumnPositions;i=o.splice(t,e),o=o.map(function(t){var e,o=t;for(e=0;e<i.length;e++)t>i[e]&&o--;return o}),this.manualColumnPositions=o}},this.afterCreateCol=function(t,e){if(this.getSettings().manualColumnMove){var i=this.manualColumnPositions;if(i.length){for(var o=[],n=0;e>n;n++)o.push(t+n);t>=i.length?i.concat(o):(i=i.map(function(i){return i>=t?i+e:i}),i.splice.apply(i,[t,0].concat(o))),this.manualColumnPositions=i}}}}Object.defineProperties(i,{ManualColumnMove:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a,l=(n=t("./../../helpers.js"),n&&n.__esModule&&n||{"default":n}),h=(s=t("./../../dom.js"),s&&s.__esModule&&s||{"default":s}),c=(r=t("./../../eventManager.js"),r&&r.__esModule&&r||{"default":r}).eventManager,d=((a=t("./../../plugins.js"),a&&a.__esModule&&a||{"default":a}).registerPlugin,new o);Handsontable.hooks.add("beforeInit",d.beforeInit),Handsontable.hooks.add("afterInit",function(){d.init.call(this,"afterInit")}),Handsontable.hooks.add("afterUpdateSettings",function(){d.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyCol",d.modifyCol),Handsontable.hooks.add("afterRemoveCol",d.afterRemoveCol),Handsontable.hooks.add("afterCreateCol",d.afterCreateCol),Handsontable.hooks.register("afterColumnMove")},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../helpers.js":42,"./../../plugins.js":45}],60:[function(t,e,i){"use strict";function o(){function t(t){d=this,s=t;var e=this.view.wt.wtTable.getCoords(t).col;if(e>=0){r=e;var i=s.getBoundingClientRect();g=i.left-6,p=parseInt(i.width,10),m.style.top=i.top+"px",m.style.left=g+p+"px",d.rootElement.appendChild(m)}}function e(){m.style.left=g+a+"px"}function i(){var t=this;h.addClass(m,"active"),h.addClass(v,"active"),v.style.top=m.style.top,v.style.left=m.style.left,v.style.height=t.view.maximumVisibleElementHeight(0)+"px",t.rootElement.appendChild(v)}function o(){v.style.left=m.style.left}function n(){h.removeClass(m,"active"),h.removeClass(v,"active")}var s,r,a,d,u,f,p,g,m=document.createElement("DIV"),v=document.createElement("DIV"),b=c(this);m.className="manualColumnResizer",v.className="manualColumnResizerGuide";var y=function(){var t=this;Handsontable.hooks.run(t,"persistentStateSave","manualColumnWidths",t.manualColumnWidths)},w=function(){var t=this,e={};return Handsontable.hooks.run(t,"persistentStateLoad","manualColumnWidths",e),e.value},C=function(t){return"BODY"!=t.tagName?"THEAD"==t.parentNode.tagName?!0:(t=t.parentNode,C(t)):!1},_=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:_(t.parentNode):null},x=function(){var c,d=this,g=0,m=null;b.addEventListener(d.rootElement,"mouseover",function(e){if(C(e.target)){var i=_(e.target);i&&(c||t.call(d,i))}}),b.addEventListener(d.rootElement,"mousedown",function(t){h.hasClass(t.target,"manualColumnResizer")&&(i.call(d),c=d,null==m&&(m=setTimeout(function(){g>=2&&(u=d.determineColumnWidth.call(d,r),k(r,u),d.forceFullRender=!0,d.view.render(),Handsontable.hooks.run(d,"afterColumnResize",r,u)),g=0,m=null},500),d._registerTimeout(m)),g++,f=l.pageX(t),u=p)}),b.addEventListener(window,"mousemove",function(t){c&&(a=p+(l.pageX(t)-f),u=k(r,a),e(),o())}),b.addEventListener(window,"mouseup",function(){c&&(n(),c=!1,u!=p&&(d.forceFullRender=!0,d.view.render(),d.view.wt.wtOverlays.adjustElementsSize(),y.call(d),Handsontable.hooks.run(d,"afterColumnResize",r,u)),t.call(d,s))}),d.addHook("afterDestroy",S)},S=function(){b.clear()};this.beforeInit=function(){this.manualColumnWidths=[]},this.init=function(t){var e=this,i=!!this.getSettings().manualColumnResize;if(i){var o=this.getSettings().manualColumnResize,n=w.call(e);"undefined"!=typeof e.manualColumnWidthsPluginUsages?e.manualColumnWidthsPluginUsages.push("manualColumnResize"):e.manualColumnWidthsPluginUsages=["manualColumnResize"],"undefined"!=typeof n?this.manualColumnWidths=n:Array.isArray(o)?this.manualColumnWidths=o:this.manualColumnWidths=[],"afterInit"==t&&(x.call(this),this.manualColumnWidths.length>0&&(this.forceFullRender=!0,this.render()))}else{var s=e.manualColumnWidthsPluginUsages?e.manualColumnWidthsPluginUsages.indexOf("manualColumnResize"):-1;s>-1&&(S.call(this),this.manualColumnWidths=[])}};var k=function(t,e){return e=Math.max(e,20),t=Handsontable.hooks.run(d,"modifyCol",t),d.manualColumnWidths[t]=e,e};this.modifyColWidth=function(t,e){return e=this.runHooks("modifyCol",e),this.getSettings().manualColumnResize&&this.manualColumnWidths[e]?this.manualColumnWidths[e]:t}}Object.defineProperties(i,{ManualColumnResize:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a,l=(n=t("./../../helpers.js"),n&&n.__esModule&&n||{"default":n}),h=(s=t("./../../dom.js"),s&&s.__esModule&&s||{"default":s}),c=(r=t("./../../eventManager.js"),r&&r.__esModule&&r||{"default":r}).eventManager,d=((a=t("./../../plugins.js"),a&&a.__esModule&&a||{"default":a}).registerPlugin,new o);Handsontable.hooks.add("beforeInit",d.beforeInit),Handsontable.hooks.add("afterInit",function(){d.init.call(this,"afterInit")}),Handsontable.hooks.add("afterUpdateSettings",function(){d.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyColWidth",d.modifyColWidth),Handsontable.hooks.register("afterColumnResize")},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../helpers.js":42,"./../../plugins.js":45}],61:[function(t,e,i){"use strict";function o(){function t(t){var e=this;f=t;var i=this.view.wt.wtTable.getCoords(t).row;if(i>=0){u=i;var o=f.getBoundingClientRect();d=o.top,p.style.top=d+"px",p.style.left=o.left+"px",e.rootElement.appendChild(p)}}function e(t,e){var i=t.getBoundingClientRect(),o=6;e>0?p.style.top=i.top+i.height-o+"px":p.style.top=i.top+"px"}function i(){var t=this;h.addClass(p,"active"),h.addClass(g,"active");var e=f.getBoundingClientRect();g.style.width=t.view.maximumVisibleElementWidth(0)+"px",g.style.height=e.height+"px",g.style.top=d+"px",g.style.left=p.style.left,t.rootElement.appendChild(g)}function o(t){g.style.top=d+t+"px"}function n(){h.removeClass(p,"active"),h.removeClass(g,"active")}var s,r,a,d,u,f,p=document.createElement("DIV"),g=document.createElement("DIV"),m=c(this);p.className="manualRowMover",g.className="manualRowMoverGuide";var v=function(){var t=this;Handsontable.hooks.run(t,"persistentStateSave","manualRowPositions",t.manualRowPositions)},b=function(){var t=this,e={};return Handsontable.hooks.run(t,"persistentStateLoad","manualRowPositions",e),e.value},y=function(t){return"BODY"!=t.tagName?"TBODY"==t.parentNode.tagName?!0:(t=t.parentNode,y(t)):!1},w=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:w(t.parentNode):null},C=function(){var c,d=this;m.addEventListener(d.rootElement,"mouseover",function(i){if(y(i.target)){var o=w(i.target);o&&(c?(r=d.view.wt.wtTable.getCoords(o).row,e(o,r-s)):t.call(d,o))}}),m.addEventListener(d.rootElement,"mousedown",function(t){h.hasClass(t.target,"manualRowMover")&&(a=l.pageY(t),i.call(d),c=d,s=u,r=u)}),m.addEventListener(window,"mousemove",function(t){c&&o(l.pageY(t)-a)}),m.addEventListener(window,"mouseup",function(e){c&&(n(),c=!1,x(d.manualRowPositions,d.countRows()),d.manualRowPositions.splice(r,0,d.manualRowPositions.splice(s,1)[0]),d.forceFullRender=!0,d.view.render(),v.call(d),Handsontable.hooks.run(d,"afterRowMove",s,r),t.call(d,f))}),d.addHook("afterDestroy",_)},_=function(){m.clear()},x=function(t,e){if(t.length<e)for(var i=t.length;e>i;i++)t[i]=i};this.beforeInit=function(){this.manualRowPositions=[]},this.init=function(t){var e=this,i=!!e.getSettings().manualRowMove;if(i){var o=e.getSettings().manualRowMove,n=b.call(e);"undefined"!=typeof e.manualRowPositionsPluginUsages?e.manualRowPositionsPluginUsages.push("manualColumnMove"):e.manualRowPositionsPluginUsages=["manualColumnMove"],"undefined"!=typeof n?this.manualRowPositions=n:Array.isArray(o)?this.manualRowPositions=o:this.manualRowPositions=[],"afterInit"===t&&(C.call(this),this.manualRowPositions.length>0&&(e.forceFullRender=!0,e.render()))}else{var s=e.manualRowPositionsPluginUsages?e.manualRowPositionsPluginUsages.indexOf("manualColumnMove"):-1;s>-1&&(_.call(this),e.manualRowPositions=[],e.manualRowPositionsPluginUsages[s]=void 0)}},this.modifyRow=function(t){var e=this;return e.getSettings().manualRowMove?("undefined"==typeof e.manualRowPositions[t]&&x(this.manualRowPositions,t+1),e.manualRowPositions[t]):t}}Object.defineProperties(i,{ManualRowMove:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a,l=(n=t("./../../helpers.js"),n&&n.__esModule&&n||{"default":n}),h=(s=t("./../../dom.js"),s&&s.__esModule&&s||{"default":s}),c=(r=t("./../../eventManager.js"),r&&r.__esModule&&r||{"default":r}).eventManager,d=((a=t("./../../plugins.js"),a&&a.__esModule&&a||{"default":a}).registerPlugin,new o);Handsontable.hooks.add("beforeInit",d.beforeInit),Handsontable.hooks.add("afterInit",function(){d.init.call(this,"afterInit")}),Handsontable.hooks.add("afterUpdateSettings",function(){d.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyRow",d.modifyRow),Handsontable.hooks.register("afterRowMove")},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../helpers.js":42,"./../../plugins.js":45}],62:[function(t,e,i){"use strict";function o(){function t(t){d=this,s=t;var e=this.view.wt.wtTable.getCoords(t).row;if(e>=0){r=e;var i=s.getBoundingClientRect();g=i.top-6,p=parseInt(i.height,10),m.style.left=i.left+"px",m.style.top=g+p+"px",d.rootElement.appendChild(m)}}function e(){m.style.top=g+a+"px"}function i(){var t=this;h.addClass(m,"active"),h.addClass(v,"active"),v.style.top=m.style.top,v.style.left=m.style.left,v.style.width=t.view.maximumVisibleElementWidth(0)+"px",t.rootElement.appendChild(v)}function o(){v.style.top=m.style.top}function n(){h.removeClass(m,"active"),h.removeClass(v,"active")}var s,r,a,d,u,f,p,g,m=document.createElement("DIV"),v=document.createElement("DIV"),b=c(this);m.className="manualRowResizer",v.className="manualRowResizerGuide";var y=function(){var t=this;Handsontable.hooks.run(t,"persistentStateSave","manualRowHeights",t.manualRowHeights)},w=function(){var t=this,e={};return Handsontable.hooks.run(t,"persistentStateLoad","manualRowHeights",e),
e.value},C=function(t){return"BODY"!=t.tagName?"TBODY"==t.parentNode.tagName?!0:(t=t.parentNode,C(t)):!1},_=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:_(t.parentNode):null},x=function(){var c,d=this,g=0,m=null;b.addEventListener(d.rootElement,"mouseover",function(e){if(C(e.target)){var i=_(e.target);i&&(c||t.call(d,i))}}),b.addEventListener(d.rootElement,"mousedown",function(t){h.hasClass(t.target,"manualRowResizer")&&(i.call(d),c=d,null==m&&(m=setTimeout(function(){g>=2&&(k(r,null),d.forceFullRender=!0,d.view.render(),Handsontable.hooks.run(d,"afterRowResize",r,u)),g=0,m=null},500),d._registerTimeout(m)),g++,f=l.pageY(t),u=p)}),b.addEventListener(window,"mousemove",function(t){c&&(a=p+(l.pageY(t)-f),u=k(r,a),e(),o())}),b.addEventListener(window,"mouseup",function(e){c&&(n(),c=!1,u!=p&&(d.forceFullRender=!0,d.view.render(),y.call(d),Handsontable.hooks.run(d,"afterRowResize",r,u)),t.call(d,s))}),d.addHook("afterDestroy",S)},S=function(){b.clear()};this.beforeInit=function(){this.manualRowHeights=[]},this.init=function(t){var e=this,i=!!this.getSettings().manualRowResize;if(i){var o=this.getSettings().manualRowResize,n=w.call(e);"undefined"!=typeof e.manualRowHeightsPluginUsages?e.manualRowHeightsPluginUsages.push("manualRowResize"):e.manualRowHeightsPluginUsages=["manualRowResize"],"undefined"!=typeof n?this.manualRowHeights=n:Array.isArray(o)?this.manualRowHeights=o:this.manualRowHeights=[],"afterInit"===t?(x.call(this),this.manualRowHeights.length>0&&(this.forceFullRender=!0,this.render())):(this.forceFullRender=!0,this.render())}else{var s=e.manualRowHeightsPluginUsages?e.manualRowHeightsPluginUsages.indexOf("manualRowResize"):-1;s>-1&&(S.call(this),this.manualRowHeights=[],e.manualRowHeightsPluginUsages[s]=void 0)}};var k=function(t,e){return t=Handsontable.hooks.run(d,"modifyRow",t),d.manualRowHeights[t]=e,e};this.modifyRowHeight=function(t,e){return this.getSettings().manualRowResize&&(e=this.runHooks("modifyRow",e),void 0!==this.manualRowHeights[e])?this.manualRowHeights[e]:t}}Object.defineProperties(i,{ManualRowResize:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a,l=(n=t("./../../helpers.js"),n&&n.__esModule&&n||{"default":n}),h=(s=t("./../../dom.js"),s&&s.__esModule&&s||{"default":s}),c=(r=t("./../../eventManager.js"),r&&r.__esModule&&r||{"default":r}).eventManager,d=((a=t("./../../plugins.js"),a&&a.__esModule&&a||{"default":a}).registerPlugin,new o);Handsontable.hooks.add("beforeInit",d.beforeInit),Handsontable.hooks.add("afterInit",function(){d.init.call(this,"afterInit")}),Handsontable.hooks.add("afterUpdateSettings",function(){d.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyRowHeight",d.modifyRowHeight),Handsontable.hooks.register("afterRowResize")},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../helpers.js":42,"./../../plugins.js":45}],63:[function(t,e,i){"use strict";function o(){var t=[];return t.getInfo=function(t,e){for(var i=0,o=this.length;o>i;i++)if(this[i].row<=t&&this[i].row+this[i].rowspan-1>=t&&this[i].col<=e&&this[i].col+this[i].colspan-1>=e)return this[i]},t.setInfo=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e].row===t.row&&this[e].col===t.col)return void(this[e]=t);this.push(t)},t.removeInfo=function(t,e){for(var i=0,o=this.length;o>i;i++)if(this[i].row===t&&this[i].col===e){this.splice(i,1);break}},t}function n(t){if(this.mergedCellInfoCollection=new o,Array.isArray(t))for(var e=0,i=t.length;i>e;e++)this.mergedCellInfoCollection.setInfo(t[e])}function s(t,e){var i=this.getSettings().mergeCells;if(i&&!this.selection.isMultiple()){var o=this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1]);o&&(t[0]=o.row,t[1]=o.col,t[2]=o.row+o.rowspan-1,t[3]=o.col+o.colspan-1)}}Object.defineProperties(i,{MergeCells:{get:function(){return n}},__esModule:{value:!0}});var r,a,l,h,c=((r=t("./../../plugins.js"),r&&r.__esModule&&r||{"default":r}).registerPlugin,(a=t("./../../3rdparty/walkontable/src/cell/coords.js"),a&&a.__esModule&&a||{"default":a}).WalkontableCellCoords),d=(l=t("./../../3rdparty/walkontable/src/cell/range.js"),l&&l.__esModule&&l||{"default":l}).WalkontableCellRange,u=(h=t("./../../3rdparty/walkontable/src/table.js"),h&&h.__esModule&&h||{"default":h}).WalkontableTable;n.prototype.canMergeRange=function(t){return!t.isSingle()},n.prototype.mergeRange=function(t){if(this.canMergeRange(t)){var e=t.getTopLeftCorner(),i=t.getBottomRightCorner(),o={};o.row=e.row,o.col=e.col,o.rowspan=i.row-e.row+1,o.colspan=i.col-e.col+1,this.mergedCellInfoCollection.setInfo(o)}},n.prototype.mergeOrUnmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.from.row,t.from.col);e?this.unmergeSelection(t.from):this.mergeSelection(t)},n.prototype.mergeSelection=function(t){this.mergeRange(t)},n.prototype.unmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.row,t.col);this.mergedCellInfoCollection.removeInfo(e.row,e.col)},n.prototype.applySpanProperties=function(t,e,i){var o=this.mergedCellInfoCollection.getInfo(e,i);o?o.row===e&&o.col===i?(t.setAttribute("rowspan",o.rowspan),t.setAttribute("colspan",o.colspan)):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"))},n.prototype.modifyTransform=function(t,e,i){var o=function(t,e){return e.row>=t.row&&e.row<=t.row+t.rowspan-1},n=function(t,e){return e.col>=t.col&&e.col<=t.col+t.colspan-1},s=function(t){return new c(e.to.row+t.row,e.to.col+t.col)},r={row:i.row,col:i.col};if("modifyTransformStart"==t){this.lastDesiredCoords||(this.lastDesiredCoords=new c(null,null));for(var a,l=new c(e.highlight.row,e.highlight.col),h=this.mergedCellInfoCollection.getInfo(l.row,l.col),u=0,f=this.mergedCellInfoCollection.length;f>u;u++){var p=this.mergedCellInfoCollection[u];if(p=new c(p.row+p.rowspan-1,p.col+p.colspan-1),e.includes(p)){a=!0;break}}if(h){var g=new c(h.row,h.col),m=new c(h.row+h.rowspan-1,h.col+h.colspan-1),v=new d(g,g,m);v.includes(this.lastDesiredCoords)||(this.lastDesiredCoords=new c(null,null)),r.row=this.lastDesiredCoords.row?this.lastDesiredCoords.row-l.row:r.row,r.col=this.lastDesiredCoords.col?this.lastDesiredCoords.col-l.col:r.col,i.row>0?r.row=h.row+h.rowspan-1-l.row+i.row:i.row<0&&(r.row=l.row-h.row+i.row),i.col>0?r.col=h.col+h.colspan-1-l.col+i.col:i.col<0&&(r.col=l.col-h.col+i.col)}var b=new c(e.highlight.row+r.row,e.highlight.col+r.col),y=this.mergedCellInfoCollection.getInfo(b.row,b.col);y&&(this.lastDesiredCoords=b,r={row:y.row-l.row,col:y.col-l.col})}else if("modifyTransformEnd"==t)for(var u=0,f=this.mergedCellInfoCollection.length;f>u;u++){var w=this.mergedCellInfoCollection[u],g=new c(w.row,w.col),m=new c(w.row+w.rowspan-1,w.col+w.colspan-1),C=new d(g,g,m),_=e.getBordersSharedWith(C);if(C.isEqual(e))e.setDirection("NW-SE");else if(_.length>0){var x=e.highlight.isEqual(C.from);_.indexOf("top")>-1?e.to.isSouthEastOf(C.from)&&x?e.setDirection("NW-SE"):e.to.isSouthWestOf(C.from)&&x&&e.setDirection("NE-SW"):_.indexOf("bottom")>-1&&(e.to.isNorthEastOf(C.from)&&x?e.setDirection("SW-NE"):e.to.isNorthWestOf(C.from)&&x&&e.setDirection("SE-NW"))}var b=s(r),S=o(w,b),k=n(w,b);e.includesRange(C)&&(C.includes(b)||S||k)&&(S&&(r.row<0?r.row-=w.rowspan-1:r.row>0&&(r.row+=w.rowspan-1)),k&&(r.col<0?r.col-=w.colspan-1:r.col>0&&(r.col+=w.colspan-1)))}0!==r.row&&(i.row=r.row),0!==r.col&&(i.col=r.col)};var f=function(){var t=this,e=t.getSettings().mergeCells;e&&(t.mergeCells||(t.mergeCells=new n(e)))},p=function(){var t=this;t.mergeCells&&(t.view.wt.wtTable.getCell=function(e){if(t.getSettings().mergeCells){var i=t.mergeCells.mergedCellInfoCollection.getInfo(e.row,e.col);i&&(e=i)}return u.prototype.getCell.call(this,e)})},g=function(t){if(this.mergeCells){var e=(t.ctrlKey||t.metaKey)&&!t.altKey;e&&77===t.keyCode&&(this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render(),t.stopImmediatePropagation())}},m=function(t){this.getSettings().mergeCells&&(t.items.push(Handsontable.ContextMenu.SEPARATOR),t.items.push({key:"mergeCells",name:function(){var t=this.getSelected(),e=this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1]);return e?"Unmerge cells":"Merge cells"},callback:function(){this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render()},disabled:function(){return!1}}))},v=function(t,e,i,o,n,s){this.mergeCells&&this.mergeCells.applySpanProperties(t,e,i)},b=function(t){return function(e){var i=this.getSettings().mergeCells;if(i){var o=this.getSelectedRange();if(this.mergeCells.modifyTransform(t,o,e),"modifyTransformEnd"===t){var n=this.countRows(),s=this.countCols();o.from.row<0?o.from.row=0:o.from.row>0&&o.from.row>=n&&(o.from.row=o.from-1),o.from.col<0?o.from.col=0:o.from.col>0&&o.from.col>=s&&(o.from.col=s-1)}}}},y=function(t){this.lastDesiredCoords=null;var e=this.getSettings().mergeCells;if(e){var i=this.getSelectedRange();i.highlight=new c(i.highlight.row,i.highlight.col),i.to=t;var o=!1;do{o=!1;for(var n=0,s=this.mergeCells.mergedCellInfoCollection.length;s>n;n++){var r=this.mergeCells.mergedCellInfoCollection[n],a=new c(r.row,r.col),l=new c(r.row+r.rowspan-1,r.col+r.colspan-1),h=new d(a,a,l);i.expandByRange(h)&&(t.row=i.to.row,t.col=i.to.col,o=!0)}}while(o)}},w=function(t,e){if(e&&"area"==e){var i=this.getSettings().mergeCells;if(i)for(var o=this.getSelectedRange(),n=new d(o.from,o.from,o.from),s=new d(o.to,o.to,o.to),r=0,a=this.mergeCells.mergedCellInfoCollection.length;a>r;r++){var l=this.mergeCells.mergedCellInfoCollection[r],h=new c(l.row,l.col),u=new c(l.row+l.rowspan-1,l.col+l.colspan-1),f=new d(h,h,u);n.expandByRange(f)&&(t[0]=n.from.row,t[1]=n.from.col),s.expandByRange(f)&&(t[2]=s.from.row,t[3]=s.from.col)}}},C=function(t,e,i){var o=this.getSettings().mergeCells;if(o){var n=this.mergeCells.mergedCellInfoCollection.getInfo(t,e);!n||n.row==t&&n.col==e||(i.copyable=!1)}},_=function(t){var e=this.getSettings().mergeCells;if(e)for(var i,o=this.countCols(),n=0;o>n;n++){if(i=this.mergeCells.mergedCellInfoCollection.getInfo(t.startRow,n),i&&i.row<t.startRow)return t.startRow=i.row,_.call(this,t);if(i=this.mergeCells.mergedCellInfoCollection.getInfo(t.endRow,n)){var s=i.row+i.rowspan-1;if(s>t.endRow)return t.endRow=s,_.call(this,t)}}},x=function(t){var e=this.getSettings().mergeCells;if(e)for(var i,o=this.countRows(),n=0;o>n;n++){if(i=this.mergeCells.mergedCellInfoCollection.getInfo(n,t.startColumn),i&&i.col<t.startColumn)return t.startColumn=i.col,x.call(this,t);if(i=this.mergeCells.mergedCellInfoCollection.getInfo(n,t.endColumn)){var s=i.col+i.colspan-1;if(s>t.endColumn)return t.endColumn=s,x.call(this,t)}}},S=function(t){if(t&&this.mergeCells){var e=this.mergeCells.mergedCellInfoCollection,i=this.getSelectedRange();for(var o in e)if(i.highlight.row==e[o].row&&i.highlight.col==e[o].col&&i.to.row==e[o].row+e[o].rowspan-1&&i.to.col==e[o].col+e[o].colspan-1)return!1}return t};Handsontable.hooks.add("beforeInit",f),Handsontable.hooks.add("afterInit",p),Handsontable.hooks.add("beforeKeyDown",g),Handsontable.hooks.add("modifyTransformStart",b("modifyTransformStart")),Handsontable.hooks.add("modifyTransformEnd",b("modifyTransformEnd")),Handsontable.hooks.add("beforeSetRangeEnd",y),Handsontable.hooks.add("beforeDrawBorders",w),Handsontable.hooks.add("afterIsMultipleSelection",S),Handsontable.hooks.add("afterRenderer",v),Handsontable.hooks.add("afterContextMenuDefaultOptions",m),Handsontable.hooks.add("afterGetCellMeta",C),Handsontable.hooks.add("afterViewportRowCalculatorOverride",_),Handsontable.hooks.add("afterViewportColumnCalculatorOverride",x),Handsontable.hooks.add("afterAutofillApplyValues",s),Handsontable.MergeCells=n},{"./../../3rdparty/walkontable/src/cell/coords.js":5,"./../../3rdparty/walkontable/src/cell/range.js":6,"./../../3rdparty/walkontable/src/table.js":20,"./../../plugins.js":45}],64:[function(t,e,i){"use strict";Object.defineProperties(i,{"default":{get:function(){return f}},__esModule:{value:!0}});var o,n,s,r,a=(o=t("./../../dom.js"),o&&o.__esModule&&o||{"default":o}),l=(n=t("./../_base.js"),n&&n.__esModule&&n||{"default":n})["default"],h=(s=t("./../../eventManager.js"),s&&s.__esModule&&s||{"default":s}).eventManager,c=(r=t("./../../plugins.js"),r&&r.__esModule&&r||{"default":r}).registerPlugin,d=function(t){var e=this;$traceurRuntime.superConstructor(u).call(this,t),this.dragged=[],this.eventManager=h(this.hot),this.bindTouchEvents(),this.hot.addHook("afterInit",function(){return e.init()})},u=d;$traceurRuntime.createClass(d,{init:function(){this.lastSetCell=null,Handsontable.plugins.multipleSelectionHandles=new u(this.hot)},bindTouchEvents:function(){function t(t){if(1===e.dragged.length)return e.dragged.splice(0,e.dragged.length),!0;var i=e.dragged.indexOf(t);return-1==i?!1:void(0===i?e.dragged=e.dragged.slice(0,1):1==i&&(e.dragged=e.dragged.slice(-1)))}var e=this;this.eventManager.addEventListener(this.hot.rootElement,"touchstart",function(t){var i;return a.hasClass(t.target,"topLeftSelectionHandle-HitArea")?(i=e.hot.getSelectedRange(),e.dragged.push("topLeft"),e.touchStartRange={width:i.getWidth(),height:i.getHeight(),direction:i.getDirection()},t.preventDefault(),!1):a.hasClass(t.target,"bottomRightSelectionHandle-HitArea")?(i=e.hot.getSelectedRange(),e.dragged.push("bottomRight"),e.touchStartRange={width:i.getWidth(),height:i.getHeight(),direction:i.getDirection()},t.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchend",function(i){return a.hasClass(i.target,"topLeftSelectionHandle-HitArea")?(t.call(e,"topLeft"),e.touchStartRange=void 0,i.preventDefault(),!1):a.hasClass(i.target,"bottomRightSelectionHandle-HitArea")?(t.call(e,"bottomRight"),e.touchStartRange=void 0,i.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchmove",function(t){var i,o,n,s,r,l,h,c=a.getWindowScrollTop(),d=a.getWindowScrollLeft();0!==e.dragged.length&&(i=document.elementFromPoint(t.touches[0].screenX-d,t.touches[0].screenY-c),i&&i!==e.lastSetCell&&(("TD"==i.nodeName||"TH"==i.nodeName)&&(o=e.hot.getCoords(i),-1==o.col&&(o.col=0),n=e.hot.getSelectedRange(),s=n.getWidth(),r=n.getHeight(),l=n.getDirection(),1==s&&1==r&&e.hot.selection.setRangeEnd(o),h=e.getCurrentRangeCoords(n,o,e.touchStartRange.direction,l,e.dragged[0]),null!==h.start&&e.hot.selection.setRangeStart(h.start),e.hot.selection.setRangeEnd(h.end),e.lastSetCell=i),t.preventDefault()))})},getCurrentRangeCoords:function(t,e,i,o,n){var s=t.getTopLeftCorner(),r=t.getBottomRightCorner(),a=t.getBottomLeftCorner(),l=t.getTopRightCorner(),h={start:null,end:null};switch(i){case"NE-SW":switch(o){case"NE-SW":case"NW-SE":h="topLeft"==n?{start:new WalkontableCellCoords(e.row,t.highlight.col),end:new WalkontableCellCoords(a.row,e.col)}:{start:new WalkontableCellCoords(t.highlight.row,e.col),end:new WalkontableCellCoords(e.row,s.col)};break;case"SE-NW":"bottomRight"==n&&(h={start:new WalkontableCellCoords(r.row,e.col),end:new WalkontableCellCoords(e.row,s.col)})}break;case"NW-SE":switch(o){case"NE-SW":"topLeft"==n?h={start:e,end:a}:h.end=e;break;case"NW-SE":"topLeft"==n?h={start:e,end:r}:h.end=e;break;case"SE-NW":"topLeft"==n?h={start:e,end:s}:h.end=e;break;case"SW-NE":"topLeft"==n?h={start:e,end:l}:h.end=e}break;case"SW-NE":switch(o){case"NW-SE":h="bottomRight"==n?{start:new WalkontableCellCoords(e.row,s.col),end:new WalkontableCellCoords(a.row,e.col)}:{start:new WalkontableCellCoords(s.row,e.col),end:new WalkontableCellCoords(e.row,r.col)};break;case"SW-NE":h="topLeft"==n?{start:new WalkontableCellCoords(t.highlight.row,e.col),end:new WalkontableCellCoords(e.row,r.col)}:{start:new WalkontableCellCoords(e.row,s.col),end:new WalkontableCellCoords(s.row,e.col)};break;case"SE-NW":"bottomRight"==n?h={start:new WalkontableCellCoords(e.row,l.col),end:new WalkontableCellCoords(s.row,e.col)}:"topLeft"==n&&(h={start:a,end:e})}break;case"SE-NW":switch(o){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==n&&(h.end=e);break;case"SE-NW":"topLeft"==n?h.end=e:h={start:e,end:s}}}return h},isDragged:function(){return this.dragged.length>0}},{},l);var f=d;c("multipleSelectionHandles",d)},{"./../../dom.js":27,"./../../eventManager.js":41,"./../../plugins.js":45,"./../_base.js":46}],65:[function(t,e,i){"use strict";function o(){}function n(){var t=this,e=t.getSettings().observeChanges;e?(t.observer&&a.call(t),s.call(t),h.call(t)):e||a.call(t)}function s(){var t=this;t.observeChangesActive=!0,t.pauseObservingChanges=function(){t.observeChangesActive=!1},t.resumeObservingChanges=function(){t.observeChangesActive=!0},t.observedData=t.getData(),t.observer=p.observe(t.observedData,function(e){t.observeChangesActive&&(r.call(t,e),t.render()),t.runHooks("afterChangesObserved")})}function r(t){function e(t){var e;return e=o(t),e=i(e)}function i(t){var e=[];return t.filter(function(t){var i=n(t.path);if(-1!=["add","remove"].indexOf(t.op)&&!isNaN(i.col)){if(-1!=e.indexOf(i.col))return!1;e.push(i.col)}return!0})}function o(t){return t.filter(function(t){return!/[\/]length/gi.test(t.path)})}function n(t){var e=t.match(/^\/(\d+)\/?(.*)?$/);return{row:parseInt(e[1],10),col:/^\d*$/.test(e[2])?parseInt(e[2],10):e[2]}}for(var s=this,r=e(t),a=0,l=r.length;l>a;a++){var h=r[a],c=n(h.path);switch(h.op){case"add":isNaN(c.col)?s.runHooks("afterCreateRow",c.row):s.runHooks("afterCreateCol",c.col);break;case"remove":isNaN(c.col)?s.runHooks("afterRemoveRow",c.row,1):s.runHooks("afterRemoveCol",c.col,1);break;case"replace":s.runHooks("afterChange",[c.row,c.col,null,h.value],"external")}}}function a(){var t=this;t.observer&&(l.call(t),c.call(t))}function l(){var t=this;p.unobserve(t.observedData,t.observer),delete t.observeChangesActive,delete t.pauseObservingChanges,delete t.resumeObservingChanges}function h(){var t=this;t.addHook("afterDestroy",a),t.addHook("afterCreateRow",d),t.addHook("afterRemoveRow",d),t.addHook("afterCreateCol",d),t.addHook("afterRemoveCol",d),t.addHook("afterChange",function(t,e){"loadData"!=e&&d.call(this)})}function c(){var t=this;t.removeHook("afterDestroy",a),t.removeHook("afterCreateRow",d),t.removeHook("afterRemoveRow",d),t.removeHook("afterCreateCol",d),t.removeHook("afterRemoveCol",d),t.removeHook("afterChange",d)}function d(){var t=this;t.pauseObservingChanges(),t.addHookOnce("afterChangesObserved",function(){t.resumeObservingChanges()})}Object.defineProperties(i,{ObserveChanges:{get:function(){return o}},__esModule:{value:!0}});var u,f,p=((u=t("./../../plugins.js"),u&&u.__esModule&&u||{"default":u}).registerPlugin,(f=t("jsonpatch"),f&&f.__esModule&&f||{"default":f})["default"]);Handsontable.hooks.add("afterLoadData",n),Handsontable.hooks.add("afterUpdateSettings",n),Handsontable.hooks.register("afterChangesObserved")},{"./../../plugins.js":45,jsonpatch:"jsonpatch"}],66:[function(t,e,i){"use strict";function o(t){var e,i=function(){window.localStorage[t+"__persistentStateKeys"]=JSON.stringify(e)},o=function(){var i=window.localStorage[t+"__persistentStateKeys"],o="string"==typeof i?JSON.parse(i):void 0;e=o?o:[]},n=function(){e=[],i()};o(),this.saveValue=function(o,n){window.localStorage[t+"_"+o]=JSON.stringify(n),-1==e.indexOf(o)&&(e.push(o),i())},this.loadValue=function(e,i){e="undefined"!=typeof e?e:i;var o=window.localStorage[t+"_"+e];return"undefined"==typeof o?void 0:JSON.parse(o)},this.reset=function(e){window.localStorage.removeItem(t+"_"+e)},this.resetAll=function(){for(var i=0;i<e.length;i++)window.localStorage.removeItem(t+"_"+e[i]);n()}}function n(){function t(){var t=this;for(var e in n)n.hasOwnProperty(e)&&t.addHook(e,n[e])}function e(){var t=this;for(var e in n)n.hasOwnProperty(e)&&t.removeHook(e,n[e])}var i=this;this.init=function(){var n=this,s=n.getSettings().persistentState;return i.enabled=!!s,i.enabled?(n.storage||(n.storage=new o(n.rootElement.id)),n.resetState=i.resetValue,void t.call(n)):void e.call(n)},this.saveValue=function(t,e){var i=this;i.storage.saveValue(t,e)},this.loadValue=function(t,e){var i=this;e.value=i.storage.loadValue(t)},this.resetValue=function(t){var e=this;"undefined"!=typeof t?e.storage.reset(t):e.storage.resetAll()};var n={persistentStateSave:i.saveValue,persistentStateLoad:i.loadValue,persistentStateReset:i.resetValue};for(var s in n)n.hasOwnProperty(s)&&Handsontable.hooks.register(s)}Object.defineProperties(i,{HandsontablePersistentState:{get:function(){return n}},__esModule:{value:!0}});var s,r=((s=t("./../../plugins.js"),s&&s.__esModule&&s||{"default":s}).registerPlugin,new n);Handsontable.hooks.add("beforeInit",r.init),Handsontable.hooks.add("afterUpdateSettings",r.init)},{"./../../plugins.js":45}],67:[function(t,e,i){"use strict";function o(){var t=this,e=!!t.getSettings().search;e?t.search=new Handsontable.Search(t):delete t.search}var n,s,r=(n=t("./../../dom.js"),n&&n.__esModule&&n||{"default":n}),a=(s=t("./../../renderers.js"),s&&s.__esModule&&s||{"default":s}),l=a.registerRenderer,h=a.getRenderer;Handsontable.Search=function(t){this.query=function(e,i,o){var n=t.countRows(),s=t.countCols(),r=[];i||(i=Handsontable.Search.global.getDefaultCallback()),o||(o=Handsontable.Search.global.getDefaultQueryMethod());for(var a=0;n>a;a++)for(var l=0;s>l;l++){var h=t.getDataAtCell(a,l),c=t.getCellMeta(a,l),d=c.search.callback||i,u=c.search.queryMethod||o,f=u(e,h);if(f){var p={row:a,col:l,data:h};r.push(p)}d&&d(t,a,l,h,f)}return r}},Handsontable.Search.DEFAULT_CALLBACK=function(t,e,i,o,n){t.getCellMeta(e,i).isSearchResult=n},Handsontable.Search.DEFAULT_QUERY_METHOD=function(t,e){return"undefined"!=typeof t&&null!=t&&t.toLowerCase&&0!==t.length?"undefined"==typeof e||null==e?!1:-1!=e.toString().toLowerCase().indexOf(t.toLowerCase()):!1},Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS="htSearchResult",Handsontable.Search.global=function(){var t=Handsontable.Search.DEFAULT_CALLBACK,e=Handsontable.Search.DEFAULT_QUERY_METHOD,i=Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS;return{getDefaultCallback:function(){return t},setDefaultCallback:function(e){t=e},getDefaultQueryMethod:function(){return e},setDefaultQueryMethod:function(t){e=t},getDefaultSearchResultClass:function(){return i},setDefaultSearchResultClass:function(t){i=t}}}(),Handsontable.SearchCellDecorator=function(t,e,i,o,n,s,a){var l=null!==a.search&&"object"==typeof a.search&&a.search.searchResultClass||Handsontable.Search.global.getDefaultSearchResultClass();a.isSearchResult?r.addClass(e,l):r.removeClass(e,l)};var c=h("base");l("base",function(t,e,i,o,n,s,r){c.apply(this,arguments),Handsontable.SearchCellDecorator.apply(this,arguments)}),Handsontable.hooks.add("afterInit",o),Handsontable.hooks.add("afterUpdateSettings",o)},{"./../../dom.js":27,"./../../renderers.js":70}],68:[function(t,e,i){"use strict";Object.defineProperties(i,{TouchScroll:{get:function(){return h}},__esModule:{value:!0}});var o,n,s,r=(o=t("./../../dom.js"),o&&o.__esModule&&o||{"default":o}),a=(n=t("./../_base.js"),n&&n.__esModule&&n||{"default":n})["default"],l=(s=t("./../../plugins.js"),s&&s.__esModule&&s||{"default":s}).registerPlugin,h=function(t){var e=this;$traceurRuntime.superConstructor(c).call(this,t),this.hot.addHook("afterInit",function(){return e.init()}),this.hot.addHook("afterUpdateSettings",function(){return e.onAfterUpdateSettings()}),this.scrollbars=[],this.clones=[]},c=h;$traceurRuntime.createClass(h,{init:function(){this.registerEvents(),this.onAfterUpdateSettings()},onAfterUpdateSettings:function(){var t=this;this.hot.addHookOnce("afterRender",function(){var e=t.hot.view.wt.wtOverlays;t.scrollbars=[],t.scrollbars.push(e.topOverlay),t.scrollbars.push(e.leftOverlay),e.topLeftCornerOverlay&&t.scrollbars.push(e.topLeftCornerOverlay),t.clones=[],e.topOverlay.needFullRender&&t.clones.push(e.topOverlay.clone.wtTable.holder.parentNode),e.leftOverlay.needFullRender&&t.clones.push(e.leftOverlay.clone.wtTable.holder.parentNode),e.topLeftCornerOverlay&&t.clones.push(e.topLeftCornerOverlay.clone.wtTable.holder.parentNode)})},registerEvents:function(){var t=this;this.hot.addHook("beforeTouchScroll",function(){return t.onBeforeTouchScroll()}),this.hot.addHook("afterMomentumScroll",function(){return t.onAfterMomentumScroll()})},onBeforeTouchScroll:function(){Handsontable.freezeOverlays=!0;for(var t=0,e=this.clones.length;e>t;t++)r.addClass(this.clones[t],"hide-tween")},onAfterMomentumScroll:function(){Handsontable.freezeOverlays=!1;for(var t=this,e=0,i=this.clones.length;i>e;e++)r.removeClass(this.clones[e],"hide-tween");for(var o=0,n=this.clones.length;n>o;o++)r.addClass(this.clones[o],"show-tween");setTimeout(function(){for(var e=0,i=t.clones.length;i>e;e++)r.removeClass(t.clones[e],"show-tween")},400);for(var s=0,a=this.scrollbars.length;a>s;s++)this.scrollbars[s].refresh(),this.scrollbars[s].resetFixedPosition();this.hot.view.wt.wtOverlays.syncScrollWithMaster()}},{},a),l("touchScroll",h)},{"./../../dom.js":27,"./../../plugins.js":45,"./../_base.js":46}],69:[function(t,e,i){"use strict";function o(){var t=this,e="undefined"==typeof t.getSettings().undo||t.getSettings().undo;e?t.undoRedo||(t.undoRedo=new Handsontable.UndoRedo(t),r(t),t.addHook("beforeKeyDown",n),t.addHook("afterChange",s)):t.undoRedo&&(delete t.undoRedo,a(t),t.removeHook("beforeKeyDown",n),t.removeHook("afterChange",s))}function n(t){var e=this,i=(t.ctrlKey||t.metaKey)&&!t.altKey;i&&(89===t.keyCode||t.shiftKey&&90===t.keyCode?(e.undoRedo.redo(),t.stopImmediatePropagation()):90===t.keyCode&&(e.undoRedo.undo(),t.stopImmediatePropagation()))}function s(t,e){var i=this;return"loadData"==e?i.undoRedo.clear():void 0}function r(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function a(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}var l,h=(l=t("./../../helpers.js"),l&&l.__esModule&&l||{"default":l});Handsontable.UndoRedo=function(t){var e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,t.addHook("afterChange",function(t,i){if(t){var o=new Handsontable.UndoRedo.ChangeAction(t);e.done(o)}}),t.addHook("afterCreateRow",function(t,i,o){if(!o){var n=new Handsontable.UndoRedo.CreateRowAction(t,i);e.done(n)}}),t.addHook("beforeRemoveRow",function(t,i){var o=e.instance.getData();t=(o.length+t)%o.length;var n=o.slice(t,t+i),s=new Handsontable.UndoRedo.RemoveRowAction(t,n);e.done(s)}),t.addHook("afterCreateCol",function(t,i,o){if(!o){var n=new Handsontable.UndoRedo.CreateColumnAction(t,i);e.done(n)}}),t.addHook("beforeRemoveCol",function(i,o){var n=e.instance.getData();i=(e.instance.countCols()+i)%e.instance.countCols();for(var s=[],r=0,a=n.length;a>r;r++)s[r]=n[r].slice(i,i+o);var l;Array.isArray(t.getSettings().colHeaders)&&(l=t.getSettings().colHeaders.slice(i,i+s.length));var h=new Handsontable.UndoRedo.RemoveColumnAction(i,s,l);e.done(h)}),t.addHook("beforeCellAlignment",function(t,i,o,n){var s=new Handsontable.UndoRedo.CellAlignmentAction(t,i,o,n);e.done(s)})},Handsontable.UndoRedo.prototype.done=function(t){this.ignoreNewActions||(this.doneActions.push(t),this.undoneActions.length=0)},Handsontable.UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var t=this.doneActions.pop();this.ignoreNewActions=!0;var e=this;t.undo(this.instance,function(){e.ignoreNewActions=!1,e.undoneActions.push(t)})}},Handsontable.UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var t=this.undoneActions.pop();this.ignoreNewActions=!0;var e=this;t.redo(this.instance,function(){e.ignoreNewActions=!1,e.doneActions.push(t)})}},Handsontable.UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},Handsontable.UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},Handsontable.UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},Handsontable.UndoRedo.Action=function(){},Handsontable.UndoRedo.Action.prototype.undo=function(){},Handsontable.UndoRedo.Action.prototype.redo=function(){},Handsontable.UndoRedo.ChangeAction=function(t){this.changes=t},h.inherit(Handsontable.UndoRedo.ChangeAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.ChangeAction.prototype.undo=function(t,e){for(var i=h.deepClone(this.changes),o=t.countEmptyRows(!0),n=t.countEmptyCols(!0),s=0,r=i.length;r>s;s++)i[s].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(i,null,null,"undo");for(var s=0,r=i.length;r>s;s++)t.getSettings().minSpareRows&&i[s][0]+1+t.getSettings().minSpareRows===t.countRows()&&o==t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(i[s][0]+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&i[s][1]+1+t.getSettings().minSpareCols===t.countCols()&&n==t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(i[s][1]+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())},Handsontable.UndoRedo.ChangeAction.prototype.redo=function(t,e){for(var i=h.deepClone(this.changes),o=0,n=i.length;n>o;o++)i[o].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(i,null,null,"redo")},Handsontable.UndoRedo.CreateRowAction=function(t,e){this.index=t,this.amount=e},h.inherit(Handsontable.UndoRedo.CreateRowAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.CreateRowAction.prototype.undo=function(t,e){var i=t.countRows(),o=t.getSettings().minSpareRows;this.index>=i&&this.index-o<i&&(this.index-=o),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount)},Handsontable.UndoRedo.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row",this.index+1,this.amount)},Handsontable.UndoRedo.RemoveRowAction=function(t,e){this.index=t,this.data=e},h.inherit(Handsontable.UndoRedo.RemoveRowAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.RemoveRowAction.prototype.undo=function(t,e){var i=[this.index,0];Array.prototype.push.apply(i,this.data),Array.prototype.splice.apply(t.getData(),i),t.addHookOnce("afterRender",e),t.render()},Handsontable.UndoRedo.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length)},Handsontable.UndoRedo.CreateColumnAction=function(t,e){this.index=t,this.amount=e},h.inherit(Handsontable.UndoRedo.CreateColumnAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount)},Handsontable.UndoRedo.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col",this.index+1,this.amount)},Handsontable.UndoRedo.CellAlignmentAction=function(t,e,i,o){this.stateBefore=t,this.range=e,this.type=i,this.alignment=o},Handsontable.UndoRedo.CellAlignmentAction.prototype.undo=function(t,e){if(t.contextMenu){for(var i=this.range.from.row;i<=this.range.to.row;i++)for(var o=this.range.from.col;o<=this.range.to.col;o++)t.setCellMeta(i,o,"className",this.stateBefore[i][o]||" htLeft");t.addHookOnce("afterRender",e),t.render()}},Handsontable.UndoRedo.CellAlignmentAction.prototype.redo=function(t,e){if(t.contextMenu){for(var i=this.range.from.row;i<=this.range.to.row;i++)for(var o=this.range.from.col;o<=this.range.to.col;o++)t.contextMenu.align.call(t,this.range,this.type,this.alignment);t.addHookOnce("afterRender",e),t.render()}},Handsontable.UndoRedo.RemoveColumnAction=function(t,e,i){this.index=t,this.data=e,this.amount=this.data[0].length,this.headers=i},h.inherit(Handsontable.UndoRedo.RemoveColumnAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.RemoveColumnAction.prototype.undo=function(t,e){for(var i,o,n=0,s=t.getData().length;s>n;n++)i=t.getSourceDataAtRow(n),o=[this.index,0],Array.prototype.push.apply(o,this.data[n]),Array.prototype.splice.apply(i,o);"undefined"!=typeof this.headers&&(o=[this.index,0],Array.prototype.push.apply(o,this.headers),Array.prototype.splice.apply(t.getSettings().colHeaders,o)),
t.addHookOnce("afterRender",e),t.render()},Handsontable.UndoRedo.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount)},Handsontable.hooks.add("afterInit",o),Handsontable.hooks.add("afterUpdateSettings",o)},{"./../../helpers.js":42}],70:[function(t,e,i){"use strict";function o(t,e){var i;l[t]=e,i=a.toUpperCaseFirst(t)+"Renderer",Handsontable.renderers[i]=e,Handsontable[i]=e}function n(t){if("function"==typeof t)return t;if("string"!=typeof t)throw Error('Only strings and functions can be passed as "renderer" parameter');if(!(t in l))throw Error('No editor registered under name "'+t+'"');return l[t]}function s(t){return t in l}Object.defineProperties(i,{registerRenderer:{get:function(){return o}},getRenderer:{get:function(){return n}},hasRenderer:{get:function(){return s}},__esModule:{value:!0}});var r,a=(r=t("./helpers.js"),r&&r.__esModule&&r||{"default":r}),l={};Handsontable.renderers=Handsontable.renderers||{},Handsontable.renderers.registerRenderer=o,Handsontable.renderers.getRenderer=n},{"./helpers.js":42}],71:[function(t,e,i){"use strict";function o(t,e,i,o,n,s,a){a.className&&(e.className?e.className=e.className+" "+a.className:e.className=a.className),a.readOnly&&r.addClass(e,a.readOnlyCellClassName),a.valid===!1&&a.invalidCellClassName?r.addClass(e,a.invalidCellClassName):r.removeClass(e,a.invalidCellClassName),a.wordWrap===!1&&a.noWordWrapClassName&&r.addClass(e,a.noWordWrapClassName),!s&&a.placeholder&&r.addClass(e,a.placeholderCellClassName)}Object.defineProperties(i,{cellDecorator:{get:function(){return o}},__esModule:{value:!0}});var n,s,r=(n=t("./../dom.js"),n&&n.__esModule&&n||{"default":n}),a=(s=t("./../renderers.js"),s&&s.__esModule&&s||{"default":s}).registerRenderer;a("base",o),Handsontable.renderers.cellDecorator=o},{"./../dom.js":27,"./../renderers.js":70}],72:[function(t,e,i){"use strict";function o(t,e,i,o,n,s,r){var a=(p.cloneNode(!0),g.cloneNode(!0));if(d("text")(t,e,i,o,n,s,r),e.appendChild(a),l.addClass(e,"htAutocomplete"),e.firstChild||e.appendChild(document.createTextNode(String.fromCharCode(160))),!t.acArrowListener){var c=h(t);t.acArrowListener=function(n){l.hasClass(n.target,"htAutocompleteArrow")&&t.view.wt.getSetting("onCellDblClick",null,new f(i,o),e)},c.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",function(){c.clear()})}}Object.defineProperties(i,{autocompleteRenderer:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a,l=(n=t("./../dom.js"),n&&n.__esModule&&n||{"default":n}),h=(s=t("./../eventManager.js"),s&&s.__esModule&&s||{"default":s}).eventManager,c=(r=t("./../renderers.js"),r&&r.__esModule&&r||{"default":r}),d=c.getRenderer,u=c.registerRenderer,f=(a=t("./../3rdparty/walkontable/src/cell/coords.js"),a&&a.__esModule&&a||{"default":a}).WalkontableCellCoords,p=document.createElement("DIV");p.className="htAutocompleteWrapper";var g=document.createElement("DIV");g.className="htAutocompleteArrow",g.appendChild(document.createTextNode(String.fromCharCode(9660))),u("autocomplete",o)},{"./../3rdparty/walkontable/src/cell/coords.js":5,"./../dom.js":27,"./../eventManager.js":41,"./../renderers.js":70}],73:[function(t,e,i){"use strict";function o(t,e,i,o,a,l,h){function c(t){var e=[u.keyCode.SPACE,u.keyCode.ENTER,u.keyCode.DELETE,u.keyCode.BACKSPACE];d.enableImmediatePropagation(t),-1===e.indexOf(t.keyCode)||t.isImmediatePropagationStopped()||b(function(){t.stopImmediatePropagation(),t.preventDefault()}),(t.keyCode==u.keyCode.SPACE||t.keyCode==u.keyCode.ENTER)&&p(),(t.keyCode==u.keyCode.DELETE||t.keyCode==u.keyCode.BACKSPACE)&&p(!1)}function p(){var t=void 0!==arguments[0]?arguments[0]:null;b(function(e){for(var i=0,o=e.length;o>i;i++){if(d.hasClass(e[i],v)&&null===t)return;g(e[i],t)}})}function g(t){var e=void 0!==arguments[1]?arguments[1]:null;null===e?t.checked=!t.checked:t.checked=e,y.fireEvent(t,"change")}function b(e){for(var i=t.getSelectedRange(),o=i.getTopLeftCorner(),n=i.getBottomRightCorner(),s=o.row;s<=n.row;s++)for(var r=o.col;r<=n.col;r++){var a=t.getCell(s,r),l=t.getCellMeta(s,r),h=a.querySelectorAll("input[type=checkbox]");h.length>0&&!l.readOnly&&e(h)}}var y=new f(t),w=n();"undefined"==typeof h.checkedTemplate&&(h.checkedTemplate=!0),"undefined"==typeof h.uncheckedTemplate&&(h.uncheckedTemplate=!1),d.empty(e),l===h.checkedTemplate||u.equalsIgnoreCase(l,h.checkedTemplate)?(w.checked=!0,e.appendChild(w)):l===h.uncheckedTemplate||u.equalsIgnoreCase(l,h.uncheckedTemplate)?e.appendChild(w):null===l?(d.addClass(w,"noValue"),e.appendChild(w)):(w.style.display="none",d.addClass(w,v),e.appendChild(w),e.appendChild(document.createTextNode("#bad-value#"))),h.readOnly?y.addEventListener(w,"click",s):(y.addEventListener(w,"mousedown",r),y.addEventListener(w,"mouseup",r),y.addEventListener(w,"change",function(e){t.setDataAtRowProp(i,a,e.target.checked?h.checkedTemplate:h.uncheckedTemplate)})),m.has(t)||(m.set(t,!0),t.addHook("beforeKeyDown",c))}function n(){var t=document.createElement("INPUT");return t.className="htCheckboxRendererInput",t.type="checkbox",t.setAttribute("autocomplete","off"),t.cloneNode(!1)}function s(t){t.preventDefault()}function r(t){u.stopPropagation(t)}Object.defineProperties(i,{checkboxRenderer:{get:function(){return o}},__esModule:{value:!0}});var a,l,h,c,d=(a=t("./../dom.js"),a&&a.__esModule&&a||{"default":a}),u=(l=t("./../helpers.js"),l&&l.__esModule&&l||{"default":l}),f=(h=t("./../eventManager.js"),h&&h.__esModule&&h||{"default":h}).EventManager,p=(c=t("./../renderers.js"),c&&c.__esModule&&c||{"default":c}),g=(p.getRenderer,p.registerRenderer),m=new WeakMap,v="htBadValue";g("checkbox",o)},{"./../dom.js":27,"./../eventManager.js":41,"./../helpers.js":42,"./../renderers.js":70}],74:[function(t,e,i){"use strict";function o(t,e,i,o,n,s,a){l("base").apply(this,arguments),r.fastInnerHTML(e,s)}Object.defineProperties(i,{htmlRenderer:{get:function(){return o}},__esModule:{value:!0}});var n,s,r=(n=t("./../dom.js"),n&&n.__esModule&&n||{"default":n}),a=(s=t("./../renderers.js"),s&&s.__esModule&&s||{"default":s}),l=a.getRenderer,h=a.registerRenderer;h("html",o)},{"./../dom.js":27,"./../renderers.js":70}],75:[function(t,e,i){"use strict";function o(t,e,i,o,n,s,r){h.isNumeric(s)&&("undefined"!=typeof r.language&&c.language(r.language),s=c(s).format(r.format||"0"),l.addClass(e,"htNumeric")),u("text")(t,e,i,o,n,s,r)}Object.defineProperties(i,{numericRenderer:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a,l=(n=t("./../dom.js"),n&&n.__esModule&&n||{"default":n}),h=(s=t("./../helpers.js"),s&&s.__esModule&&s||{"default":s}),c=(r=t("numeral"),r&&r.__esModule&&r||{"default":r})["default"],d=(a=t("./../renderers.js"),a&&a.__esModule&&a||{"default":a}),u=d.getRenderer,f=d.registerRenderer;f("numeric",o)},{"./../dom.js":27,"./../helpers.js":42,"./../renderers.js":70,numeral:"numeral"}],76:[function(t,e,i){"use strict";function o(t,e,i,o,n,s,a){l("text").apply(this,arguments),s=e.innerHTML;var h,c=a.hashLength||s.length,d=a.hashSymbol||"*";for(h="";h.split(d).length-1<c;h+=d);r.fastInnerHTML(e,h)}Object.defineProperties(i,{passwordRenderer:{get:function(){return o}},__esModule:{value:!0}});var n,s,r=(n=t("./../dom.js"),n&&n.__esModule&&n||{"default":n}),a=(s=t("./../renderers.js"),s&&s.__esModule&&s||{"default":s}),l=a.getRenderer,h=a.registerRenderer;h("password",o)},{"./../dom.js":27,"./../renderers.js":70}],77:[function(t,e,i){"use strict";function o(t,e,i,o,n,s,r){c("base").apply(this,arguments),!s&&r.placeholder&&(s=r.placeholder);var h=l.stringify(s);if(t.getSettings().trimWhitespace||(h=h.replace(/ /g,String.fromCharCode(160))),r.rendererTemplate){a.empty(e);var d=document.createElement("TEMPLATE");d.setAttribute("bind","{{}}"),d.innerHTML=r.rendererTemplate,HTMLTemplateElement.decorate(d),d.model=t.getSourceDataAtRow(i),e.appendChild(d)}else a.fastInnerText(e,h)}Object.defineProperties(i,{textRenderer:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a=(n=t("./../dom.js"),n&&n.__esModule&&n||{"default":n}),l=(s=t("./../helpers.js"),s&&s.__esModule&&s||{"default":s}),h=(r=t("./../renderers.js"),r&&r.__esModule&&r||{"default":r}),c=h.getRenderer,d=h.registerRenderer;d("text",o)},{"./../dom.js":27,"./../helpers.js":42,"./../renderers.js":70}],78:[function(t,e,i){"use strict";Array.prototype.filter||(Array.prototype.filter=function(t,e){function i(t){return/NodeList/i.test(t.item)}function o(t){for(var e=[],i=0,o=t.length;o>i;i++)e[i]=t[i];return e}if("undefined"==typeof this||null===this)throw new TypeError;if("function"!=typeof t)throw new TypeError;e=e||this,i(e)&&(e=o(e));var n,s,r=e.length,a=[];for(n=0;r>n;n+=1)e.hasOwnProperty(n)&&(s=e[n],t.call(e,s,n,e)&&a.push(s));return a})},{}],79:[function(t,e,i){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=e);e>i;i++)if(i in this&&this[i]===t)return i;return-1})},{}],80:[function(t,e,i){"use strict";Array.isArray||(Array.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)})},{}],81:[function(t,e,i){"use strict";!function(t){function e(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function i(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++$+"$__"}function o(t){return X[t]}function n(){var t=i();return X[t]=!0,t}function s(t){return"object"==typeof t&&t instanceof l}function r(t){return s(t)?"symbol":typeof t}function a(t){var e=new l(t);if(!(this instanceof a))return e;throw new TypeError("Symbol cannot be new'ed")}function l(t){var e=i();P(this,G,{value:this}),P(this,U,{value:e}),P(this,Y,{value:t}),c(this),q[e]=this}function h(t){var e=t[K];return e&&e.self===t?e:z(t)?(Z.hash.value=J++,Z.self.value=t,Q.value=A(null,Z),P(t,K,Q),Q.value):void 0}function c(t){return h(t),I.apply(this,arguments)}function d(t){return h(t),F.apply(this,arguments)}function u(t){return h(t),B.apply(this,arguments)}function f(t){return q[t]||X[t]}function p(t){return s(t)?t[U]:t}function g(t){for(var e=[],i=0;i<t.length;i++)f(t[i])||e.push(t[i]);return e}function m(t){return g(L(t))}function v(t){return g(j(t))}function b(t){for(var e=[],i=L(t),o=0;o<i.length;o++){var n=q[i[o]];n&&e.push(n)}return e}function y(t,e){return N(t,p(e))}function w(t){return W.call(this,p(t))}function C(e){return t.traceur&&t.traceur.options[e]}function _(t,e,i){return s(e)&&(e=e[U]),P(t,e,i),t}function x(t){P(t,"defineProperty",{value:_}),P(t,"getOwnPropertyNames",{value:m}),P(t,"getOwnPropertyDescriptor",{value:y}),P(t.prototype,"hasOwnProperty",{value:w}),P(t,"freeze",{value:c}),P(t,"preventExtensions",{value:d}),P(t,"seal",{value:u}),P(t,"keys",{value:v})}function S(t){for(var e=1;e<arguments.length;e++)for(var i=L(arguments[e]),o=0;o<i.length;o++){var n=i[o];f(n)||!function(e,i){P(t,i,{get:function(){return e[i]},enumerable:!0})}(arguments[e],i[o])}return t}function k(t){return null!=t&&("object"==typeof t||"function"==typeof t)}function T(t){if(null==t)throw O();return M(t)}function R(t){if(null==t)throw new TypeError("Value cannot be converted to an Object");return t}function E(t,e){t.Symbol||(t.Symbol=e,Object.getOwnPropertySymbols=b),t.Symbol.iterator||(t.Symbol.iterator=e("Symbol.iterator"))}function D(t){E(t,a),t.Reflect=t.Reflect||{},t.Reflect.global=t.Reflect.global||t,x(t.Object)}if(!t.$traceurRuntime){var M=Object,O=TypeError,A=M.create,H=M.defineProperties,P=M.defineProperty,I=M.freeze,N=M.getOwnPropertyDescriptor,L=M.getOwnPropertyNames,j=M.keys,W=M.prototype.hasOwnProperty,F=(M.prototype.toString,Object.preventExtensions),B=Object.seal,z=Object.isExtensible,V=e,$=0,U=i(),Y=i(),G=i(),q=A(null),X=A(null);P(a.prototype,"constructor",e(a)),P(a.prototype,"toString",V(function(){var t=this[G];if(!C("symbols"))return t[U];if(!t)throw TypeError("Conversion from symbol to string");var e=t[Y];return void 0===e&&(e=""),"Symbol("+e+")"})),P(a.prototype,"valueOf",V(function(){var t=this[G];if(!t)throw TypeError("Conversion from symbol to string");return C("symbols")?t:t[U]})),P(l.prototype,"constructor",e(a)),P(l.prototype,"toString",{value:a.prototype.toString,enumerable:!1}),P(l.prototype,"valueOf",{value:a.prototype.valueOf,enumerable:!1});var K=n(),Q={value:void 0},Z={hash:{value:void 0},self:{value:void 0}},J=0;c(l.prototype),D(t),t.$traceurRuntime={checkObjectCoercible:R,createPrivateName:n,defineProperties:H,defineProperty:P,exportStar:S,getOwnHashObject:h,getOwnPropertyDescriptor:N,getOwnPropertyNames:L,isObject:k,isPrivateName:o,isSymbolString:f,keys:j,setupGlobals:D,toObject:T,toProperty:p,"typeof":r}}}(window),function(){function e(e,o){function n(t){return"/"===t.slice(-1)}function s(t){return"/"===t[0]}function r(t){return"."===t[0]}return i=i||"undefined"!=typeof t&&t("path"),n(o)||s(o)?void 0:t(r(o)?i.resolve(i.dirname(e),o):o)}var i;$traceurRuntime.require=e}(),function(){function t(){for(var t,e=[],i=0,o=0;o<arguments.length;o++){var n=$traceurRuntime.checkObjectCoercible(arguments[o]);if("function"!=typeof n[$traceurRuntime.toProperty(Symbol.iterator)])throw new TypeError("Cannot spread non-iterable object.");for(var s=n[$traceurRuntime.toProperty(Symbol.iterator)]();!(t=s.next()).done;)e[i++]=t.value}return e}$traceurRuntime.spread=t}(),function(){function t(t,e){var i=g(t);do{var o=p(i,e);if(o)return o;i=g(i)}while(i)}function e(t){return t.__proto__}function i(t,e,i,n){return o(t,e,i).apply(t,n)}function o(e,i,o){var n=t(i,o);return n?n.get?n.get.call(e):n.value:void 0}function n(e,i,o,n){var s=t(i,o);if(s&&s.set)return s.set.call(e,n),n;throw c("super has no setter '"+o+"'.")}function s(t){for(var e={},i=v(t),o=0;o<i.length;o++){var n=i[o];e[n]=p(t,n)}for(var s=b(t),o=0;o<s.length;o++){var r=s[o];e[$traceurRuntime.toProperty(r)]=p(t,$traceurRuntime.toProperty(r))}return e}function r(t,e,i,o){return f(e,"constructor",{value:t,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof o&&(t.__proto__=o),t.prototype=d(a(o),s(e))):t.prototype=e,f(t,"prototype",{configurable:!1,writable:!1}),u(t,s(i))}function a(t){if("function"==typeof t){var e=t.prototype;if(h(e)===e||null===e)return t.prototype;throw new c("super prototype must be an Object or null")}if(null===t)return null;throw new c("Super expression must either be null or a function, not "+typeof t+".")}function l(t,e,o){null!==g(e)&&i(t,e,"constructor",o)}var h=Object,c=TypeError,d=h.create,u=$traceurRuntime.defineProperties,f=$traceurRuntime.defineProperty,p=$traceurRuntime.getOwnPropertyDescriptor,g=($traceurRuntime.getOwnPropertyNames,Object.getPrototypeOf),m=Object,v=m.getOwnPropertyNames,b=m.getOwnPropertySymbols;$traceurRuntime.createClass=r,$traceurRuntime.defaultSuperCall=l,$traceurRuntime.superCall=i,$traceurRuntime.superConstructor=e,$traceurRuntime.superGet=o,$traceurRuntime.superSet=n}()},{path:void 0}],82:[function(t,e,i){"use strict";Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=i.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var s,r,a=[];for(s in n)t.call(n,s)&&a.push(s);if(e)for(r=0;o>r;r++)t.call(n,i[r])&&a.push(i[r]);return a}}())},{}],83:[function(t,e,i){"use strict";if(!String.prototype.trim){var o=/^\s+|\s+$/g;String.prototype.trim=function(){return this.replace(o,"")}}},{}],84:[function(t,e,i){"use strict";"undefined"==typeof WeakMap&&!function(){var t=Object.defineProperty;try{var e=!0;t(function(){},"foo",{})}catch(i){e=!1}var o=+new Date%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(o++ +"__"),e||(this._wmCache=[])};e?n.prototype={set:function(e,i){var o=e[this.name];o&&o[0]===e?o[1]=i:t(e,this.name,{value:[e,i],writable:!0})},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},has:function(t){return!!this.get(t)},"delete":function(t){this.set(t,void 0)}}:n.prototype={set:function(t,e){if("undefined"!=typeof t&&"undefined"!=typeof e){for(var i=0,o=this._wmCache.length;o>i;i++)if(this._wmCache[i].key==t)return void(this._wmCache[i].value=e);this._wmCache.push({key:t,value:e})}},get:function(t){if("undefined"==typeof t);else for(var e=0,i=this._wmCache.length;i>e;e++)if(this._wmCache[e].key==t)return this._wmCache[e].value},has:function(t){return!!this.get(t)},"delete":function(t){if("undefined"!=typeof t)for(var e=0,i=this._wmCache.length;i>e;e++)this._wmCache[e].key==t&&Array.prototype.slice.call(this._wmCache,e,1)}},window.WeakMap=n}()},{}],85:[function(t,e,i){"use strict";function o(t){var e=this;this.eventManager=u(t),this.instance=t,this.settings=t.getSettings();var i=t.rootElement.getAttribute("style");i&&t.rootElement.setAttribute("data-originalstyle",i),c.addClass(t.rootElement,"handsontable");var o=document.createElement("TABLE");o.className="htCore",this.THEAD=document.createElement("THEAD"),o.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),o.appendChild(this.TBODY),t.table=o,t.container.insertBefore(o,t.container.firstChild),this.eventManager.addEventListener(t.rootElement,"mousedown",function(t){e.isTextSelectionAllowed(t.target)||(s(),t.preventDefault(),window.focus())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(e){t.selection.isInProgress()&&!e.shiftKey&&t.selection.finish()});var n;this.isMouseDown=function(){return n},this.eventManager.addEventListener(document.documentElement,"mouseup",function(e){t.selection.isInProgress()&&1===e.which&&t.selection.finish(),n=!1,d.isOutsideInput(document.activeElement)&&t.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(i){var o=i.target,s=i.x||i.clientX,r=i.y||i.clientY;if(!n){if(o!==t.view.wt.wtTable.holder)for(;o!==document.documentElement;){if(null===o){if(i.isTargetWebComponent)break;return}if(o===t.rootElement)return;o=o.parentNode}else{var a=Handsontable.Dom.getScrollbarWidth();if(document.elementFromPoint(s+a,r)!==t.view.wt.wtTable.holder||document.elementFromPoint(s,r+a)!==t.view.wt.wtTable.holder)return}e.settings.outsideClickDeselects?t.deselectCell():t.destroyEditor()}}),this.eventManager.addEventListener(o,"selectstart",function(t){e.settings.fragmentSelection||t.preventDefault()});var s=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},r=[new p({className:"current",border:{width:2,color:"#5292F7",cornerVisible:function(){return e.settings.fillHandle&&!e.isCellEdited()&&!t.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!e.isCellEdited()&&!t.selection.isMultiple()}}}),new p({className:"area",border:{width:1,color:"#89AFF9",cornerVisible:function(){return e.settings.fillHandle&&!e.isCellEdited()&&t.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!e.isCellEdited()&&t.selection.isMultiple()}}}),new p({className:"highlight",highlightRowClassName:e.settings.currentRowClassName,highlightColumnClassName:e.settings.currentColClassName}),new p({className:"fill",border:{width:1,color:"red"}})];r.current=r[0],r.area=r[1],r.highlight=r[2],r.fill=r[3];var a={debug:function(){return e.settings.debug},table:o,stretchH:this.settings.stretchH,data:t.getDataAtCell,totalRows:t.countRows,totalColumns:t.countCols,fixedColumnsLeft:function(){return e.settings.fixedColumnsLeft},fixedRowsTop:function(){return e.settings.fixedRowsTop},renderAllRows:e.settings.renderAllRows,rowHeaders:function(){var i=[];return t.hasRowHeaders()&&i.push(function(t,i){e.appendRowHeader(t,i)}),Handsontable.hooks.run(t,"afterGetRowHeaderRenderers",i),i},columnHeaders:function(){var i=[];return t.hasColHeaders()&&i.push(function(t,i){e.appendColHeader(t,i)}),Handsontable.hooks.run(t,"afterGetColumnHeaderRenderers",i),i},columnWidth:t.getColWidth,rowHeight:t.getRowHeight,cellRenderer:function(t,i,o){var n=e.instance.colToProp(i),s=e.instance.getCellMeta(t,i),r=e.instance.getCellRenderer(s),a=e.instance.getDataAtRowProp(t,n);r(e.instance,o,t,i,n,a,s),Handsontable.hooks.run(e.instance,"afterRenderer",o,t,i,n,a,s)},selections:r,hideBorderOnMouseDownOver:function(){return e.settings.fragmentSelection},onCellMouseDown:function(i,o,s,r){t.listen(),e.activeWt=r,n=!0,c.enableImmediatePropagation(i),Handsontable.hooks.run(t,"beforeOnCellMouseDown",i,o,s),i.isImmediatePropagationStopped()||(2===i.button&&t.selection.inInSelection(o)||(i.shiftKey?o.row>=0&&o.col>=0&&t.selection.setRangeEnd(o):(o.row<0||o.col<0)&&(o.row>=0||o.col>=0)?(o.row<0&&(t.selectCell(0,o.col,t.countRows()-1,o.col),t.selection.setSelectedHeaders(!1,!0)),o.col<0&&(t.selectCell(o.row,0,o.row,t.countCols()-1),t.selection.setSelectedHeaders(!0,!1))):(o.row=o.row<0?0:o.row,o.col=o.col<0?0:o.col,t.selection.setRangeStart(o))),Handsontable.hooks.run(t,"afterOnCellMouseDown",i,o,s),e.activeWt=e.wt)},onCellMouseOver:function(i,o,s,r){e.activeWt=r,o.row>=0&&o.col>=0?n&&t.selection.setRangeEnd(o):n&&(o.row<0&&(t.selection.setRangeEnd(new f(t.countRows()-1,o.col)),t.selection.setSelectedHeaders(!1,!0)),o.col<0&&(t.selection.setRangeEnd(new f(o.row,t.countCols()-1)),t.selection.setSelectedHeaders(!0,!1))),Handsontable.hooks.run(t,"afterOnCellMouseOver",i,o,s),e.activeWt=e.wt},onCellCornerMouseDown:function(e){e.preventDefault(),Handsontable.hooks.run(t,"afterOnCellCornerMouseDown",e)},beforeDraw:function(t){e.beforeRender(t)},onDraw:function(t){e.onDraw(t)},onScrollVertically:function(){t.runHooks("afterScrollVertically")},onScrollHorizontally:function(){t.runHooks("afterScrollHorizontally")},onBeforeDrawBorders:function(e,i){t.runHooks("beforeDrawBorders",e,i)},onBeforeTouchScroll:function(){t.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){t.runHooks("afterMomentumScroll")},viewportRowCalculatorOverride:function(i){e.settings.viewportRowRenderingOffset&&(i.startRow=Math.max(i.startRow-e.settings.viewportRowRenderingOffset,0),i.endRow=Math.min(i.endRow+e.settings.viewportRowRenderingOffset,t.countRows()-1)),t.runHooks("afterViewportRowCalculatorOverride",i)},viewportColumnCalculatorOverride:function(i){e.settings.viewportColumnRenderingOffset&&(i.startColumn=Math.max(i.startColumn-e.settings.viewportColumnRenderingOffset,0),i.endColumn=Math.min(i.endColumn+e.settings.viewportColumnRenderingOffset,t.countCols()-1)),t.runHooks("afterViewportColumnCalculatorOverride",i)}};Handsontable.hooks.run(t,"beforeInitWalkontable",a),this.wt=new g(a),this.activeWt=this.wt,this.eventManager.addEventListener(e.wt.wtTable.spreader,"mousedown",function(t){t.target===e.wt.wtTable.spreader&&3===t.which&&d.stopPropagation(t)}),this.eventManager.addEventListener(e.wt.wtTable.spreader,"contextmenu",function(t){t.target===e.wt.wtTable.spreader&&3===t.which&&d.stopPropagation(t)}),this.eventManager.addEventListener(document.documentElement,"click",function(){e.settings.observeDOMVisibility&&e.wt.drawInterrupted&&(e.instance.forceFullRender=!0,e.render())})}Object.defineProperties(i,{TableView:{get:function(){return o}},__esModule:{value:!0}});var n,s,r,a,l,h,c=(n=t("./dom.js"),n&&n.__esModule&&n||{"default":n}),d=(s=t("./helpers.js"),s&&s.__esModule&&s||{"default":s}),u=(r=t("./eventManager.js"),r&&r.__esModule&&r||{"default":r}).eventManager,f=(a=t("./3rdparty/walkontable/src/cell/coords.js"),a&&a.__esModule&&a||{"default":a}).WalkontableCellCoords,p=(l=t("./3rdparty/walkontable/src/selection.js"),l&&l.__esModule&&l||{"default":l}).WalkontableSelection,g=(h=t("./3rdparty/walkontable/src/core.js"),h&&h.__esModule&&h||{"default":h}).Walkontable;Handsontable.TableView=o,o.prototype.isTextSelectionAllowed=function(t){return d.isInput(t)?!0:!(!this.settings.fragmentSelection||!c.isChildOf(t,this.TBODY))},o.prototype.isCellEdited=function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()},o.prototype.beforeRender=function(t){t&&Handsontable.hooks.run(this.instance,"beforeRender",this.instance.forceFullRender)},o.prototype.onDraw=function(t){t&&Handsontable.hooks.run(this.instance,"afterRender",this.instance.forceFullRender)},o.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1},o.prototype.getCellAtCoords=function(t,e){var i=this.wt.getCell(t,e);return 0>i?null:i},o.prototype.scrollViewport=function(t){this.wt.scrollViewport(t)},o.prototype.appendRowHeader=function(t,e){if(e.firstChild){var i=e.firstChild;if(!c.hasClass(i,"relative"))return c.empty(e),void this.appendRowHeader(t,e);this.updateCellHeader(i.firstChild,t,this.instance.getRowHeader)}else{var o=document.createElement("div"),n=document.createElement("span");o.className="relative",n.className="colHeader",this.updateCellHeader(n,t,this.instance.getRowHeader),o.appendChild(n),e.appendChild(o)}Handsontable.hooks.run(this.instance,"afterGetRowHeader",t,e)},o.prototype.appendColHeader=function(t,e){if(e.firstChild){var i=e.firstChild;if(!c.hasClass(i,"relative"))return c.empty(e),void this.appendRowHeader(t,e);this.updateCellHeader(i.firstChild,t,this.instance.getColHeader)}else{var o=document.createElement("div"),n=document.createElement("span");o.className="relative",n.className="colHeader",this.updateCellHeader(n,t,this.instance.getColHeader),o.appendChild(n),e.appendChild(o)}Handsontable.hooks.run(this.instance,"afterGetColHeader",t,e)},o.prototype.updateCellHeader=function(t,e,i){e>-1?c.fastInnerHTML(t,i(e)):(c.fastInnerText(t,String.fromCharCode(160)),c.addClass(t,"cornerHeader"))},o.prototype.maximumVisibleElementWidth=function(t){var e=this.wt.wtViewport.getWorkspaceWidth(),i=e-t;return i>0?i:0},o.prototype.maximumVisibleElementHeight=function(t){var e=this.wt.wtViewport.getWorkspaceHeight(),i=e-t;return i>0?i:0},o.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},o.prototype.destroy=function(){this.wt.destroy(),this.eventManager.clear()}},{"./3rdparty/walkontable/src/cell/coords.js":5,"./3rdparty/walkontable/src/core.js":7,"./3rdparty/walkontable/src/selection.js":18,"./dom.js":27,"./eventManager.js":41,"./helpers.js":42}],86:[function(t,e,i){"use strict";var o=function(t,e){var i=t,o="string"==typeof i?i.toLowerCase():null;return function(t){for(var n=!1,s=0,r=t.length;r>s;s++){if(i===t[s]){n=!0;break}if(o===Handsontable.helper.stringify(t[s]).toLowerCase()){n=!0;break}}e(n)}};Handsontable.AutocompleteValidator=function(t,e){this.strict&&this.source?"function"==typeof this.source?this.source(t,o(t,e)):o(t,e)(this.source):e(!0)}},{}],87:[function(t,e,i){"use strict";var o,n,s=(o=t("moment"),o&&o.__esModule&&o||{"default":o})["default"],r=(n=t("./../editors.js"),n&&n.__esModule&&n||{"default":n}).getEditor;Handsontable.DateValidator=function(t,e){var i=!0,o=r("date",this.instance);null===t&&(t="");var n=s(new Date(t)).isValid(),l=s(t,this.dateFormat||o.defaultDateFormat,!0).isValid();if(n||(i=!1),!n&&l&&(i=!0),n&&!l)if(this.correctFormat===!0){var h=a(t,this.dateFormat);this.instance.setDataAtCell(this.row,this.col,h,"dateValidator"),i=!0}else i=!1;e(i)};var a=function(t,e){var i=s(new Date(t));return i.format("YYYY").length>4&&i.year((i.year()+"").substr(0,4)),i.format(e)}},{"./../editors.js":29,moment:"moment"}],88:[function(t,e,i){"use strict";Handsontable.NumericValidator=function(t,e){null===t&&(t=""),e(/^-?\d*(\.|\,)?\d*$/.test(t))}},{}],SheetClip:[function(t,e,i){"use strict";!function(t){function e(t){return t.split('"').length-1}var o={parse:function(t){var i,o,n,s,r,a,l,h=[],c=0;for(n=t.split("\n"),n.length>1&&""===n[n.length-1]&&n.pop(),i=0,o=n.length;o>i;i+=1){for(n[i]=n[i].split("	"),s=0,r=n[i].length;r>s;s+=1)h[c]||(h[c]=[]),a&&0===s?(l=h[c].length-1,h[c][l]=h[c][l]+"\n"+n[i][0],a&&1&e(n[i][0])&&(a=!1,h[c][l]=h[c][l].substring(0,h[c][l].length-1).replace(/""/g,'"'))):s===r-1&&0===n[i][s].indexOf('"')&&1&e(n[i][s])?(h[c].push(n[i][s].substring(1).replace(/""/g,'"')),a=!0):(h[c].push(n[i][s].replace(/""/g,'"')),a=!1);a||(c+=1)}return h},stringify:function(t){var e,i,o,n,s,r="";for(e=0,i=t.length;i>e;e+=1){for(n=t[e].length,o=0;n>o;o+=1)o>0&&(r+="	"),s=t[e][o],r+="string"==typeof s?s.indexOf("\n")>-1?'"'+s.replace(/"/g,'""')+'"':s:null===s||void 0===s?"":s;r+="\n"}return r}};"undefined"!=typeof i?(i.parse=o.parse,i.stringify=o.stringify):t.SheetClip=o}(window)},{}],autoResize:[function(t,e,i){"use strict";function o(){var t,e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},i=document.body,o=document.createTextNode(""),n=document.createElement("SPAN"),s=function(t,e,i){window.attachEvent?t.attachEvent("on"+e,i):t.addEventListener(e,i,!1)},r=function(t,e,i){window.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)},a=function(s){var r,a;s?/^[a-zA-Z \.,\\\/\|0-9]$/.test(s)||(s="."):s="",void 0!==o.textContent?o.textContent=t.value+s:o.data=t.value+s,n.style.fontSize=Handsontable.Dom.getComputedStyle(t).fontSize,n.style.fontFamily=Handsontable.Dom.getComputedStyle(t).fontFamily,n.style.whiteSpace="pre",i.appendChild(n),r=n.clientWidth+2,i.removeChild(n),t.style.height=e.minHeight+"px",e.minWidth>r?t.style.width=e.minWidth+"px":r>e.maxWidth?t.style.width=e.maxWidth+"px":t.style.width=r+"px",a=t.scrollHeight?t.scrollHeight-1:0,e.minHeight>a?t.style.height=e.minHeight+"px":e.maxHeight<a?(t.style.height=e.maxHeight+"px",t.style.overflowY="visible"):t.style.height=a+"px"},l=function(){window.setTimeout(a,0)},h=function(i){if(i&&i.minHeight)if("inherit"==i.minHeight)e.minHeight=t.clientHeight;else{var s=parseInt(i.minHeight);isNaN(s)||(e.minHeight=s)}if(i&&i.maxHeight)if("inherit"==i.maxHeight)e.maxHeight=t.clientHeight;else{var r=parseInt(i.maxHeight);isNaN(r)||(e.maxHeight=r)}if(i&&i.minWidth)if("inherit"==i.minWidth)e.minWidth=t.clientWidth;else{var a=parseInt(i.minWidth);isNaN(a)||(e.minWidth=a)}if(i&&i.maxWidth)if("inherit"==i.maxWidth)e.maxWidth=t.clientWidth;else{var l=parseInt(i.maxWidth);isNaN(l)||(e.maxWidth=l)}n.firstChild||(n.className="autoResize",n.style.display="inline-block",n.appendChild(o))},c=function(i,o,n){t=i,h(o),"TEXTAREA"==t.nodeName&&(t.style.resize="none",t.style.overflowY="",t.style.height=e.minHeight+"px",t.style.minWidth=e.minWidth+"px",t.style.maxWidth=e.maxWidth+"px",t.style.overflowY="hidden"),n&&(s(t,"change",a),s(t,"cut",l),s(t,"paste",l),s(t,"drop",l),s(t,"keydown",l)),a()};return{init:function(t,e,i){c(t,e,i)},unObserve:function(){r(t,"change",a),r(t,"cut",l),r(t,"paste",l),r(t,"drop",l),r(t,"keydown",l)},resize:a}}"undefined"!=typeof i&&(e.exports=o)},{}],copyPaste:[function(t,e,i){"use strict";function o(){return s?s.hasBeenDestroyed()&&s.init():s=new n,s.refCounter++,s}function n(){this.refCounter=0,this.init()}var s;"undefined"!=typeof i&&(e.exports=o),n.prototype.init=function(){var t,e;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[],e=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("div"),this.elDiv.id="CopyPasteDiv",t=this.elDiv.style,t.position="fixed",t.top="-10000px",t.left="-10000px",e.appendChild(this.elDiv),this.elTextarea=document.createElement("textarea"),this.elTextarea.className="copyPaste",this.elTextarea.onpaste=function(t){var e,i;return"WebkitAppearance"in document.documentElement.style?(e=t.clipboardData.getData("Text"),-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&(i=e.split("\n"),i.pop(),e=i.join("\n")),this.value=e,!1):void 0},t=this.elTextarea.style,t.width="10000px",t.height="10000px",t.overflow="hidden",this.elDiv.appendChild(this.elTextarea),"undefined"!=typeof t.opacity&&(t.opacity=0)),this.onKeyDownRef=this.onKeyDown.bind(this),document.documentElement.addEventListener("keydown",this.onKeyDownRef,!1)},n.prototype.onKeyDown=function(t){function e(){var t=document.activeElement;return t.shadowRoot&&t.shadowRoot.activeElement&&(t=t.shadowRoot.activeElement),
["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||"true"===t.contentEditable}var i=this,o=!1;if(t.metaKey?o=!0:t.ctrlKey&&-1===navigator.userAgent.indexOf("Mac")&&(o=!0),o){if(document.activeElement!==this.elTextarea&&(""!==this.getSelectionText()||e()))return;this.selectNodeText(this.elTextarea),setTimeout(function(){document.activeElement!==i.elTextarea&&i.selectNodeText(i.elTextarea)},0)}!o||67!==t.keyCode&&86!==t.keyCode&&88!==t.keyCode||(88===t.keyCode?setTimeout(function(){i.triggerCut(t)},0):86===t.keyCode&&setTimeout(function(){i.triggerPaste(t)},0))},n.prototype.selectNodeText=function(t){t&&t.select()},n.prototype.getSelectionText=function(){var t="";return window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(t=document.selection.createRange().text),t},n.prototype.copyable=function(t){if("string"!=typeof t&&void 0===t.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=t,this.selectNodeText(this.elTextarea)},n.prototype.onCut=function(t){this.cutCallbacks.push(t)},n.prototype.onPaste=function(t){this.pasteCallbacks.push(t)},n.prototype.removeCallback=function(t){var e,i;for(e=0,i=this.copyCallbacks.length;i>e;e++)if(this.copyCallbacks[e]===t)return this.copyCallbacks.splice(e,1),!0;for(e=0,i=this.cutCallbacks.length;i>e;e++)if(this.cutCallbacks[e]===t)return this.cutCallbacks.splice(e,1),!0;for(e=0,i=this.pasteCallbacks.length;i>e;e++)if(this.pasteCallbacks[e]===t)return this.pasteCallbacks.splice(e,1),!0;return!1},n.prototype.triggerCut=function(t){var e=this;e.cutCallbacks&&setTimeout(function(){for(var i=0,o=e.cutCallbacks.length;o>i;i++)e.cutCallbacks[i](t)},50)},n.prototype.triggerPaste=function(t,e){var i=this;i.pasteCallbacks&&setTimeout(function(){for(var o=e||i.elTextarea.value,n=0,s=i.pasteCallbacks.length;s>n;n++)i.pasteCallbacks[n](o,t)},50)},n.prototype.destroy=function(){this.hasBeenDestroyed()||0!==--this.refCounter||(this.elDiv&&this.elDiv.parentNode&&(this.elDiv.parentNode.removeChild(this.elDiv),this.elDiv=null,this.elTextarea=null),document.documentElement.removeEventListener("keydown",this.onKeyDownRef))},n.prototype.hasBeenDestroyed=function(){return!this.refCounter}},{}],jsonpatch:[function(t,e,i){"use strict";var o;!function(t){function e(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function i(t,o){var n;for(var s in t)if(t.hasOwnProperty(s)){if(t[s]===o)return e(s)+"/";if("object"==typeof t[s]&&(n=i(t[s],o),""!=n))return e(s)+"/"+n}return""}function o(t,e){if(t===e)return"/";var o=i(t,e);if(""===o)throw new Error("Object not found in root");return"/"+o}function n(t){for(var e=0,i=v.length;i>e;e++)if(v[e].obj===t)return v[e]}function s(t,e){for(var i=0,o=t.observers.length;o>i;i++)if(t.observers[i].callback===e)return t.observers[i].observer}function r(t,e){for(var i=0,o=t.observers.length;o>i;i++)if(t.observers[i].observer===e)return void t.observers.splice(i,1)}function a(t,e){d(e),Object.observe?c(e,t):clearTimeout(e.next);var i=n(t);r(i,e)}function l(t,e){var i,r=[],a=t,l=n(t);if(l?i=s(l,e):(l=new b(t),v.push(l)),i)return i;if(Object.observe)i=function(n){c(i,t),h(i,t);for(var s=0,l=n.length;l>s;){if(("length"!==n[s].name||!C(n[s].object))&&"__Jasmine_been_here_before__"!==n[s].name){var d=n[s].type;switch(d){case"new":d="add";break;case"deleted":d="delete";break;case"updated":d="update"}m[d].call(n[s],r,o(a,n[s].object))}s++}r&&e&&e(r),i.patches=r,r=[]};else if(i={},l.value=JSON.parse(JSON.stringify(t)),e){i.callback=e,i.next=null;var u=this.intervals||[100,1e3,1e4,6e4],f=0,p=function(){d(i)},g=function(){clearTimeout(i.next),i.next=setTimeout(function(){p(),f=0,i.next=setTimeout(w,u[f++])},0)},w=function(){p(),f==u.length&&(f=u.length-1),i.next=setTimeout(w,u[f++])};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mousedown",g),window.addEventListener("mouseup",g),window.addEventListener("keydown",g)):(window.attachEvent("onmousedown",g),window.attachEvent("onmouseup",g),window.attachEvent("onkeydown",g))),i.next=setTimeout(w,u[f++])}return i.patches=r,i.object=t,l.observers.push(new y(e,i)),h(i,t)}function h(t,e){if(Object.observe){Object.observe(e,t);for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];o&&"object"==typeof o&&h(t,o)}}return t}function c(t,e){if(Object.observe){Object.unobserve(e,t);for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];o&&"object"==typeof o&&c(t,o)}}return t}function d(t){if(Object.observe)Object.deliverChangeRecords(t);else{for(var e,i=0,o=v.length;o>i;i++)if(v[i].obj===t.object){e=v[i];break}u(e.value,t.object,t.patches,"")}var n=t.patches;return n.length>0&&(t.patches=[],t.callback&&t.callback(n)),n}function u(t,i,o,n){for(var s=w(i),r=w(t),a=!1,l=!1,h=r.length-1;h>=0;h--){var c=r[h],d=t[c];if(i.hasOwnProperty(c)){var f=i[c];d instanceof Object?u(d,f,o,n+"/"+e(c)):d!=f&&(a=!0,o.push({op:"replace",path:n+"/"+e(c),value:f}),t[c]=f)}else o.push({op:"remove",path:n+"/"+e(c)}),delete t[c],l=!0}if(l||s.length!=r.length)for(var h=0;h<s.length;h++){var c=s[h];t.hasOwnProperty(c)||(o.push({op:"add",path:n+"/"+e(c),value:i[c]}),t[c]=JSON.parse(JSON.stringify(i[c])))}}function f(t,e){for(var i,o=!1,n=0,s=e.length;s>n;){i=e[n];for(var r=i.path.split("/"),a=t,l=1,h=r.length;;)if(C(a)){var c=parseInt(r[l],10);if(l++,l>=h){o=g[i.op].call(i,a,c,t);break}a=a[c]}else{var d=r[l];if(-1!=d.indexOf("~")&&(d=d.replace(/~1/g,"/").replace(/~0/g,"~")),l++,l>=h){o=p[i.op].call(i,a,d,t);break}a=a[d]}n++}return o}var p={add:function(t,e){return t[e]=this.value,!0},remove:function(t,e){return delete t[e],!0},replace:function(t,e){return t[e]=this.value,!0},move:function(t,e,i){var o={op:"_get",path:this.from};return f(i,[o]),f(i,[{op:"remove",path:this.from}]),f(i,[{op:"add",path:this.path,value:o.value}]),!0},copy:function(t,e,i){var o={op:"_get",path:this.from};return f(i,[o]),f(i,[{op:"add",path:this.path,value:o.value}]),!0},test:function(t,e){return JSON.stringify(t[e])===JSON.stringify(this.value)},_get:function(t,e){this.value=t[e]}},g={add:function(t,e){return t.splice(e,0,this.value),!0},remove:function(t,e){return t.splice(e,1),!0},replace:function(t,e){return t[e]=this.value,!0},move:p.move,copy:p.copy,test:p.test,_get:p._get},m={add:function(t,i){var o={op:"add",path:i+e(this.name),value:this.object[this.name]};t.push(o)},"delete":function(t,i){var o={op:"remove",path:i+e(this.name)};t.push(o)},update:function(t,i){var o={op:"replace",path:i+e(this.name),value:this.object[this.name]};t.push(o)}},v=[];t.intervals;var b=function(){function t(t){this.observers=[],this.obj=t}return t}(),y=function(){function t(t,e){this.callback=t,this.observer=e}return t}();t.unobserve=a,t.observe=l,t.generate=d;var w;w=Object.keys?Object.keys:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e};var C;C=Array.isArray?Array.isArray:function(t){return t.push&&"number"==typeof t.length},t.apply=f}(o||(o={})),"undefined"!=typeof i&&(i.apply=o.apply,i.observe=o.observe,i.unobserve=o.unobserve,i.generate=o.generate)},{}],moment:[function(e,i,o){!function(e,n){"object"==typeof o&&"undefined"!=typeof i?i.exports=n():"function"==typeof t&&t.amd?t(n):e.moment=n()}(this,function(){"use strict";function t(){return Oi.apply(null,arguments)}function o(t){Oi=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var i,o=[];for(i=0;i<t.length;++i)o.push(e(t[i],i));return o}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var i in e)a(e,i)&&(t[i]=e[i]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,i,o){return Rt(t,e,i,o,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(t){return null==t._pf&&(t._pf=c()),t._pf}function u(t){if(null==t._isValid){var e=d(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function f(t){var e=h(NaN);return null!=t?l(d(e),t):d(e).userInvalidated=!0,e}function p(t,e){var i,o,n;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=d(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Hi.length>0)for(i in Hi)o=Hi[i],n=e[o],"undefined"!=typeof n&&(t[o]=n);return t}function g(e){p(this,e),this._d=new Date(+e._d),Pi===!1&&(Pi=!0,t.updateOffset(this),Pi=!1)}function m(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function v(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function b(t,e,i){var o,n=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(o=0;n>o;o++)(i&&t[o]!==e[o]||!i&&v(t[o])!==v(e[o]))&&r++;return r+s}function y(){}function w(t){return t?t.toLowerCase().replace("_","-"):t}function C(t){for(var e,i,o,n,s=0;s<t.length;){for(n=w(t[s]).split("-"),e=n.length,i=w(t[s+1]),i=i?i.split("-"):null;e>0;){if(o=_(n.slice(0,e).join("-")))return o;if(i&&i.length>=e&&b(n,i,!0)>=e-1)break;e--}s++}return null}function _(t){var o=null;if(!Ii[t]&&"undefined"!=typeof i&&i&&i.exports)try{o=Ai._abbr,e("./locale/"+t),x(o)}catch(n){}return Ii[t]}function x(t,e){var i;return t&&(i="undefined"==typeof e?k(t):S(t,e),i&&(Ai=i)),Ai._abbr}function S(t,e){return null!==e?(e.abbr=t,Ii[t]||(Ii[t]=new y),Ii[t].set(e),x(t),Ii[t]):(delete Ii[t],null)}function k(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ai;if(!n(t)){if(e=_(t))return e;t=[t]}return C(t)}function T(t,e){var i=t.toLowerCase();Ni[i]=Ni[i+"s"]=Ni[e]=t}function R(t){return"string"==typeof t?Ni[t]||Ni[t.toLowerCase()]:void 0}function E(t){var e,i,o={};for(i in t)a(t,i)&&(e=R(i),e&&(o[e]=t[i]));return o}function D(e,i){return function(o){return null!=o?(O(this,e,o),t.updateOffset(this,i),this):M(this,e)}}function M(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function O(t,e,i){return t._d["set"+(t._isUTC?"UTC":"")+e](i)}function A(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=R(t),"function"==typeof this[t])return this[t](e);return this}function H(t,e,i){for(var o=""+Math.abs(t),n=t>=0;o.length<e;)o="0"+o;return(n?i?"+":"":"-")+o}function P(t,e,i,o){var n=o;"string"==typeof o&&(n=function(){return this[o]()}),t&&(Fi[t]=n),e&&(Fi[e[0]]=function(){return H(n.apply(this,arguments),e[1],e[2])}),i&&(Fi[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function I(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function N(t){var e,i,o=t.match(Li);for(e=0,i=o.length;i>e;e++)Fi[o[e]]?o[e]=Fi[o[e]]:o[e]=I(o[e]);return function(n){var s="";for(e=0;i>e;e++)s+=o[e]instanceof Function?o[e].call(n,t):o[e];return s}}function L(t,e){return t.isValid()?(e=j(e,t.localeData()),Wi[e]||(Wi[e]=N(e)),Wi[e](t)):t.localeData().invalidDate()}function j(t,e){function i(t){return e.longDateFormat(t)||t}var o=5;for(ji.lastIndex=0;o>=0&&ji.test(t);)t=t.replace(ji,i),ji.lastIndex=0,o-=1;return t}function W(t,e,i){eo[t]="function"==typeof e?e:function(t){return t&&i?i:e}}function F(t,e){return a(eo,t)?eo[t](e._strict,e._locale):new RegExp(B(t))}function B(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,o,n){return e||i||o||n}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(t,e){var i,o=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(o=function(t,i){i[e]=v(t)}),i=0;i<t.length;i++)io[t[i]]=o}function V(t,e){z(t,function(t,i,o,n){o._w=o._w||{},e(t,o._w,o,n)})}function $(t,e,i){null!=e&&a(io,t)&&io[t](e,i._a,i,t)}function U(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function Y(t){return this._months[t.month()]}function G(t){return this._monthsShort[t.month()]}function q(t,e,i){var o,n,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;12>o;o++){if(n=h([2e3,o]),i&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[o]||(s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[o]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(i&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!i&&this._monthsParse[o].test(t))return o}}function X(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),U(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function K(e){return null!=e?(X(this,e),t.updateOffset(this,!0),this):M(this,"Month")}function Q(){return U(this.year(),this.month())}function Z(t){var e,i=t._a;return i&&-2===d(t).overflow&&(e=i[no]<0||i[no]>11?no:i[so]<1||i[so]>U(i[oo],i[no])?so:i[ro]<0||i[ro]>24||24===i[ro]&&(0!==i[ao]||0!==i[lo]||0!==i[ho])?ro:i[ao]<0||i[ao]>59?ao:i[lo]<0||i[lo]>59?lo:i[ho]<0||i[ho]>999?ho:-1,d(t)._overflowDayOfYear&&(oo>e||e>so)&&(e=so),d(t).overflow=e),t}function J(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(t,e){var i=!0,o=t+"\n"+(new Error).stack;return l(function(){return i&&(J(o),i=!1),e.apply(this,arguments)},e)}function et(t,e){fo[t]||(J(e),fo[t]=!0)}function it(t){var e,i,o=t._i,n=po.exec(o);if(n){for(d(t).iso=!0,e=0,i=go.length;i>e;e++)if(go[e][1].exec(o)){t._f=go[e][0]+(n[6]||" ");break}for(e=0,i=mo.length;i>e;e++)if(mo[e][1].exec(o)){t._f+=mo[e][0];break}o.match(Zi)&&(t._f+="Z"),Ct(t)}else t._isValid=!1}function ot(e){var i=vo.exec(e._i);return null!==i?void(e._d=new Date(+i[1])):(it(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function nt(t,e,i,o,n,s,r){var a=new Date(t,e,i,o,n,s,r);return 1970>t&&a.setFullYear(t),a}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function rt(t){return at(t)?366:365}function at(t){return t%4===0&&t%100!==0||t%400===0}function lt(){return at(this.year())}function ht(t,e,i){var o,n=i-e,s=i-t.day();return s>n&&(s-=7),n-7>s&&(s+=7),o=Et(t).add(s,"d"),{week:Math.ceil(o.dayOfYear()/7),year:o.year()}}function ct(t){return ht(t,this._week.dow,this._week.doy).week}function dt(){return this._week.dow}function ut(){return this._week.doy}function ft(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function pt(t){var e=ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function gt(t,e,i,o,n){var s,r,a=st(t,0,1).getUTCDay();return a=0===a?7:a,i=null!=i?i:n,s=n-a+(a>o?7:0)-(n>a?7:0),r=7*(e-1)+(i-n)+s+1,{year:r>0?t:t-1,dayOfYear:r>0?r:rt(t-1)+r}}function mt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function vt(t,e,i){return null!=t?t:null!=e?e:i}function bt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function yt(t){var e,i,o,n,s=[];if(!t._d){for(o=bt(t),t._w&&null==t._a[so]&&null==t._a[no]&&wt(t),t._dayOfYear&&(n=vt(t._a[oo],o[oo]),t._dayOfYear>rt(n)&&(d(t)._overflowDayOfYear=!0),i=st(n,0,t._dayOfYear),t._a[no]=i.getUTCMonth(),t._a[so]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ro]&&0===t._a[ao]&&0===t._a[lo]&&0===t._a[ho]&&(t._nextDay=!0,t._a[ro]=0),t._d=(t._useUTC?st:nt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ro]=24)}}function wt(t){var e,i,o,n,s,r,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,r=4,i=vt(e.GG,t._a[oo],ht(Et(),1,4).year),o=vt(e.W,1),n=vt(e.E,1)):(s=t._locale._week.dow,r=t._locale._week.doy,i=vt(e.gg,t._a[oo],ht(Et(),s,r).year),o=vt(e.w,1),null!=e.d?(n=e.d,s>n&&++o):n=null!=e.e?e.e+s:s),a=gt(i,o,n,r,s),t._a[oo]=a.year,t._dayOfYear=a.dayOfYear}function Ct(e){if(e._f===t.ISO_8601)return void it(e);e._a=[],d(e).empty=!0;var i,o,n,s,r,a=""+e._i,l=a.length,h=0;for(n=j(e._f,e._locale).match(Li)||[],i=0;i<n.length;i++)s=n[i],o=(a.match(F(s,e))||[])[0],o&&(r=a.substr(0,a.indexOf(o)),r.length>0&&d(e).unusedInput.push(r),a=a.slice(a.indexOf(o)+o.length),h+=o.length),Fi[s]?(o?d(e).empty=!1:d(e).unusedTokens.push(s),$(s,o,e)):e._strict&&!o&&d(e).unusedTokens.push(s);d(e).charsLeftOver=l-h,a.length>0&&d(e).unusedInput.push(a),d(e).bigHour===!0&&e._a[ro]<=12&&e._a[ro]>0&&(d(e).bigHour=void 0),e._a[ro]=_t(e._locale,e._a[ro],e._meridiem),yt(e),Z(e)}function _t(t,e,i){var o;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(o=t.isPM(i),o&&12>e&&(e+=12),o||12!==e||(e=0),e):e}function xt(t){var e,i,o,n,s;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)s=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],Ct(e),u(e)&&(s+=d(e).charsLeftOver,s+=10*d(e).unusedTokens.length,d(e).score=s,(null==o||o>s)&&(o=s,i=e));l(t,i||e)}function St(t){if(!t._d){var e=E(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],yt(t)}}function kt(t){var e,i=t._i,o=t._f;return t._locale=t._locale||k(t._l),null===i||void 0===o&&""===i?f({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),m(i)?new g(Z(i)):(n(o)?xt(t):o?Ct(t):s(i)?t._d=i:Tt(t),e=new g(Z(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function Tt(e){var i=e._i;void 0===i?e._d=new Date:s(i)?e._d=new Date(+i):"string"==typeof i?ot(e):n(i)?(e._a=r(i.slice(0),function(t){return parseInt(t,10)}),yt(e)):"object"==typeof i?St(e):"number"==typeof i?e._d=new Date(i):t.createFromInputFallback(e)}function Rt(t,e,i,o,n){var s={};return"boolean"==typeof i&&(o=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=n,s._l=i,s._i=t,s._f=e,s._strict=o,kt(s)}function Et(t,e,i,o){return Rt(t,e,i,o,!1)}function Dt(t,e){var i,o;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Et();for(i=e[0],o=1;o<e.length;++o)e[o][t](i)&&(i=e[o]);return i}function Mt(){var t=[].slice.call(arguments,0);return Dt("isBefore",t)}function Ot(){var t=[].slice.call(arguments,0);return Dt("isAfter",t)}function At(t){var e=E(t),i=e.year||0,o=e.quarter||0,n=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*h+6e4*l+36e5*a,this._days=+r+7*s,this._months=+n+3*o+12*i,this._data={},this._locale=k(),this._bubble()}function Ht(t){return t instanceof At}function Pt(t,e){P(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+H(~~(t/60),2)+e+H(~~t%60,2)})}function It(t){var e=(t||"").match(Zi)||[],i=e[e.length-1]||[],o=(i+"").match(_o)||["-",0,0],n=+(60*o[1])+v(o[2]);return"+"===o[0]?n:-n}function Nt(e,i){var o,n;return i._isUTC?(o=i.clone(),n=(m(e)||s(e)?+e:+Et(e))-+o,o._d.setTime(+o._d+n),t.updateOffset(o,!1),o):Et(e).local()}function Lt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function jt(e,i){var o,n=this._offset||0;return null!=e?("string"==typeof e&&(e=It(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&i&&(o=Lt(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),n!==e&&(!i||this._changeInProgress?te(this,Xt(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:Lt(this)}function Wt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ft(t){return this.utcOffset(0,t)}function Bt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Lt(this),"m")),this}function zt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(It(this._i)),this}function Vt(t){return t=t?Et(t).utcOffset():0,(this.utcOffset()-t)%60===0}function $t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ut(){if(this._a){var t=this._isUTC?h(this._a):Et(this._a);return this.isValid()&&b(this._a,t.toArray())>0}return!1}function Yt(){return!this._isUTC}function Gt(){return this._isUTC}function qt(){return this._isUTC&&0===this._offset}function Xt(t,e){var i,o,n,s=t,r=null;return Ht(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(r=xo.exec(t))?(i="-"===r[1]?-1:1,s={y:0,d:v(r[so])*i,h:v(r[ro])*i,m:v(r[ao])*i,s:v(r[lo])*i,ms:v(r[ho])*i}):(r=So.exec(t))?(i="-"===r[1]?-1:1,s={y:Kt(r[2],i),M:Kt(r[3],i),d:Kt(r[4],i),h:Kt(r[5],i),m:Kt(r[6],i),s:Kt(r[7],i),w:Kt(r[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(n=Zt(Et(s.from),Et(s.to)),s={},s.ms=n.milliseconds,s.M=n.months),o=new At(s),Ht(t)&&a(t,"_locale")&&(o._locale=t._locale),o}function Kt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Qt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Zt(t,e){var i;return e=Nt(e,t),t.isBefore(e)?i=Qt(t,e):(i=Qt(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function Jt(t,e){return function(i,o){var n,s;return null===o||isNaN(+o)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=o,o=s),i="string"==typeof i?+i:i,n=Xt(i,o),te(this,n,t),this}}function te(e,i,o,n){var s=i._milliseconds,r=i._days,a=i._months;n=null==n?!0:n,s&&e._d.setTime(+e._d+s*o),r&&O(e,"Date",M(e,"Date")+r*o),a&&X(e,M(e,"Month")+a*o),n&&t.updateOffset(e,r||a)}function ee(t){var e=t||Et(),i=Nt(e,this).startOf("day"),o=this.diff(i,"days",!0),n=-6>o?"sameElse":-1>o?"lastWeek":0>o?"lastDay":1>o?"sameDay":2>o?"nextDay":7>o?"nextWeek":"sameElse";return this.format(this.localeData().calendar(n,this,Et(e)))}function ie(){return new g(this)}function oe(t,e){var i;return e=R("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:Et(t),+this>+t):(i=m(t)?+t:+Et(t),i<+this.clone().startOf(e))}function ne(t,e){var i;return e=R("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:Et(t),+t>+this):(i=m(t)?+t:+Et(t),+this.clone().endOf(e)<i)}function se(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function re(t,e){var i;return e=R(e||"millisecond"),"millisecond"===e?(t=m(t)?t:Et(t),+this===+t):(i=+Et(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))}function ae(t){return 0>t?Math.ceil(t):Math.floor(t)}function le(t,e,i){var o,n,s=Nt(t,this),r=6e4*(s.utcOffset()-this.utcOffset());return e=R(e),"year"===e||"month"===e||"quarter"===e?(n=he(this,s),"quarter"===e?n/=3:"year"===e&&(n/=12)):(o=this-s,n="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),i?n:ae(n)}function he(t,e){var i,o,n=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(n,"months");return 0>e-s?(i=t.clone().add(n-1,"months"),o=(e-s)/(s-i)):(i=t.clone().add(n+1,"months"),o=(e-s)/(i-s)),-(n+o)}function ce(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function de(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():L(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ue(e){var i=L(this,e||t.defaultFormat);return this.localeData().postformat(i)}function fe(t,e){return this.isValid()?Xt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.from(Et(),t)}function ge(t,e){return this.isValid()?Xt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function me(t){return this.to(Et(),t)}function ve(t){var e;return void 0===t?this._locale._abbr:(e=k(t),null!=e&&(this._locale=e),this)}function be(){return this._locale}function ye(t){switch(t=R(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function we(t){return t=R(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function Ce(){return+this._d-6e4*(this._offset||0)}function _e(){return Math.floor(+this/1e3)}function xe(){return this._offset?new Date(+this):this._d}function Se(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ke(){return u(this)}function Te(){return l({},d(this))}function Re(){return d(this).overflow}function Ee(t,e){P(0,[t,t.length],0,e)}function De(t,e,i){return ht(Et([t,11,31+e-i]),e,i).week}function Me(t){var e=ht(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Oe(t){var e=ht(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Ae(){return De(this.year(),1,4)}function He(){var t=this.localeData()._week;return De(this.year(),t.dow,t.doy)}function Pe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ie(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Ne(t){return this._weekdays[t.day()]}function Le(t){return this._weekdaysShort[t.day()]}function je(t){return this._weekdaysMin[t.day()]}function We(t){var e,i,o;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=Et([2e3,1]).day(e),o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(o.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Fe(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ie(t,this.localeData()),this.add(t-e,"d")):e}function Be(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function ze(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Ve(t,e){P(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function $e(t,e){return e._meridiemParse}function Ue(t){return"p"===(t+"").toLowerCase().charAt(0)}function Ye(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Ge(t){P(0,[t,3],0,"millisecond")}function qe(){return this._isUTC?"UTC":""}function Xe(){return this._isUTC?"Coordinated Universal Time":""}function Ke(t){return Et(1e3*t)}function Qe(){return Et.apply(null,arguments).parseZone()}function Ze(t,e,i){var o=this._calendar[t];return"function"==typeof o?o.call(e,i):o}function Je(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function ti(){return this._invalidDate}function ei(t){return this._ordinal.replace("%d",t)}function ii(t){return t}function oi(t,e,i,o){var n=this._relativeTime[i];return"function"==typeof n?n(t,e,i,o):n.replace(/%d/i,t)}function ni(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)}function si(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ri(t,e,i,o){var n=k(),s=h().set(o,e);return n[i](s,t)}function ai(t,e,i,o,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return ri(t,e,i,n);var s,r=[];for(s=0;o>s;s++)r[s]=ri(t,s,i,n);return r}function li(t,e){return ai(t,e,"months",12,"month")}function hi(t,e){return ai(t,e,"monthsShort",12,"month")}function ci(t,e){return ai(t,e,"weekdays",7,"day")}function di(t,e){return ai(t,e,"weekdaysShort",7,"day")}function ui(t,e){return ai(t,e,"weekdaysMin",7,"day")}function fi(){var t=this._data;return this._milliseconds=Yo(this._milliseconds),this._days=Yo(this._days),this._months=Yo(this._months),t.milliseconds=Yo(t.milliseconds),t.seconds=Yo(t.seconds),t.minutes=Yo(t.minutes),t.hours=Yo(t.hours),t.months=Yo(t.months),t.years=Yo(t.years),this}function pi(t,e,i,o){var n=Xt(e,i);return t._milliseconds+=o*n._milliseconds,t._days+=o*n._days,t._months+=o*n._months,t._bubble()}function gi(t,e){return pi(this,t,e,1)}function mi(t,e){return pi(this,t,e,-1)}function vi(){var t,e,i,o=this._milliseconds,n=this._days,s=this._months,r=this._data,a=0;return r.milliseconds=o%1e3,t=ae(o/1e3),r.seconds=t%60,e=ae(t/60),r.minutes=e%60,i=ae(e/60),r.hours=i%24,n+=ae(i/24),a=ae(bi(n)),n-=ae(yi(a)),s+=ae(n/30),n%=30,a+=ae(s/12),s%=12,r.days=n,r.months=s,r.years=a,this}function bi(t){return 400*t/146097}function yi(t){return 146097*t/400}function wi(t){var e,i,o=this._milliseconds;if(t=R(t),"month"===t||"year"===t)return e=this._days+o/864e5,i=this._months+12*bi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(yi(this._months/12)),t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}}function Ci(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function _i(t){return function(){return this.as(t)}}function xi(t){return t=R(t),this[t+"s"]()}function Si(t){return function(){return this._data[t]}}function ki(){return ae(this.days()/7)}function Ti(t,e,i,o,n){return n.relativeTime(e||1,!!i,t,o)}function Ri(t,e,i){var o=Xt(t).abs(),n=hn(o.as("s")),s=hn(o.as("m")),r=hn(o.as("h")),a=hn(o.as("d")),l=hn(o.as("M")),h=hn(o.as("y")),c=n<cn.s&&["s",n]||1===s&&["m"]||s<cn.m&&["mm",s]||1===r&&["h"]||r<cn.h&&["hh",r]||1===a&&["d"]||a<cn.d&&["dd",a]||1===l&&["M"]||l<cn.M&&["MM",l]||1===h&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,Ti.apply(null,c)}function Ei(t,e){return void 0===cn[t]?!1:void 0===e?cn[t]:(cn[t]=e,!0)}function Di(t){var e=this.localeData(),i=Ri(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Mi(){var t=dn(this.years()),e=dn(this.months()),i=dn(this.days()),o=dn(this.hours()),n=dn(this.minutes()),s=dn(this.seconds()+this.milliseconds()/1e3),r=this.asSeconds();return r?(0>r?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(o||n||s?"T":"")+(o?o+"H":"")+(n?n+"M":"")+(s?s+"S":""):"P0D"}var Oi,Ai,Hi=t.momentProperties=[],Pi=!1,Ii={},Ni={},Li=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,ji=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wi={},Fi={},Bi=/\d/,zi=/\d\d/,Vi=/\d{3}/,$i=/\d{4}/,Ui=/[+-]?\d{6}/,Yi=/\d\d?/,Gi=/\d{1,3}/,qi=/\d{1,4}/,Xi=/[+-]?\d{1,6}/,Ki=/\d+/,Qi=/[+-]?\d+/,Zi=/Z|[+-]\d\d:?\d\d/gi,Ji=/[+-]?\d+(\.\d{1,3})?/,to=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,eo={},io={},oo=0,no=1,so=2,ro=3,ao=4,lo=5,ho=6;P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),P("MMMM",0,0,function(t){return this.localeData().months(this,t)}),T("month","M"),W("M",Yi),W("MM",Yi,zi),W("MMM",to),W("MMMM",to),z(["M","MM"],function(t,e){e[no]=v(t)-1}),z(["MMM","MMMM"],function(t,e,i,o){var n=i._locale.monthsParse(t,o,i._strict);
null!=n?e[no]=n:d(i).invalidMonth=t});var co="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),uo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fo={};t.suppressDeprecationWarnings=!1;var po=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,go=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],mo=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],vo=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),T("year","y"),W("Y",Qi),W("YY",Yi,zi),W("YYYY",qi,$i),W("YYYYY",Xi,Ui),W("YYYYYY",Xi,Ui),z(["YYYY","YYYYY","YYYYYY"],oo),z("YY",function(e,i){i[oo]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var bo=D("FullYear",!1);P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),W("w",Yi),W("ww",Yi,zi),W("W",Yi),W("WW",Yi,zi),V(["w","ww","W","WW"],function(t,e,i,o){e[o.substr(0,1)]=v(t)});var yo={dow:0,doy:6};P("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),W("DDD",Gi),W("DDDD",Vi),z(["DDD","DDDD"],function(t,e,i){i._dayOfYear=v(t)}),t.ISO_8601=function(){};var wo=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return this>t?this:t}),Co=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return t>this?this:t});Pt("Z",":"),Pt("ZZ",""),W("Z",Zi),W("ZZ",Zi),z(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=It(t)});var _o=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var xo=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,So=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xt.fn=At.prototype;var ko=Jt(1,"add"),To=Jt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ro=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ee("gggg","weekYear"),Ee("ggggg","weekYear"),Ee("GGGG","isoWeekYear"),Ee("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),W("G",Qi),W("g",Qi),W("GG",Yi,zi),W("gg",Yi,zi),W("GGGG",qi,$i),W("gggg",qi,$i),W("GGGGG",Xi,Ui),W("ggggg",Xi,Ui),V(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,o){e[o.substr(0,2)]=v(t)}),V(["gg","GG"],function(e,i,o,n){i[n]=t.parseTwoDigitYear(e)}),P("Q",0,0,"quarter"),T("quarter","Q"),W("Q",Bi),z("Q",function(t,e){e[no]=3*(v(t)-1)}),P("D",["DD",2],"Do","date"),T("date","D"),W("D",Yi),W("DD",Yi,zi),W("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),z(["D","DD"],so),z("Do",function(t,e){e[so]=v(t.match(Yi)[0],10)});var Eo=D("Date",!0);P("d",0,"do","day"),P("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),P("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),P("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),W("d",Yi),W("e",Yi),W("E",Yi),W("dd",to),W("ddd",to),W("dddd",to),V(["dd","ddd","dddd"],function(t,e,i){var o=i._locale.weekdaysParse(t);null!=o?e.d=o:d(i).invalidWeekday=t}),V(["d","e","E"],function(t,e,i,o){e[o]=v(t)});var Do="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oo="Su_Mo_Tu_We_Th_Fr_Sa".split("_");P("H",["HH",2],0,"hour"),P("h",["hh",2],0,function(){return this.hours()%12||12}),Ve("a",!0),Ve("A",!1),T("hour","h"),W("a",$e),W("A",$e),W("H",Yi),W("h",Yi),W("HH",Yi,zi),W("hh",Yi,zi),z(["H","HH"],ro),z(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),z(["h","hh"],function(t,e,i){e[ro]=v(t),d(i).bigHour=!0});var Ao=/[ap]\.?m?\.?/i,Ho=D("Hours",!0);P("m",["mm",2],0,"minute"),T("minute","m"),W("m",Yi),W("mm",Yi,zi),z(["m","mm"],ao);var Po=D("Minutes",!1);P("s",["ss",2],0,"second"),T("second","s"),W("s",Yi),W("ss",Yi,zi),z(["s","ss"],lo);var Io=D("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ge("SSS"),Ge("SSSS"),T("millisecond","ms"),W("S",Gi,Bi),W("SS",Gi,zi),W("SSS",Gi,Vi),W("SSSS",Ki),z(["S","SS","SSS","SSSS"],function(t,e){e[ho]=v(1e3*("0."+t))});var No=D("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var Lo=g.prototype;Lo.add=ko,Lo.calendar=ee,Lo.clone=ie,Lo.diff=le,Lo.endOf=we,Lo.format=ue,Lo.from=fe,Lo.fromNow=pe,Lo.to=ge,Lo.toNow=me,Lo.get=A,Lo.invalidAt=Re,Lo.isAfter=oe,Lo.isBefore=ne,Lo.isBetween=se,Lo.isSame=re,Lo.isValid=ke,Lo.lang=Ro,Lo.locale=ve,Lo.localeData=be,Lo.max=Co,Lo.min=wo,Lo.parsingFlags=Te,Lo.set=A,Lo.startOf=ye,Lo.subtract=To,Lo.toArray=Se,Lo.toDate=xe,Lo.toISOString=de,Lo.toJSON=de,Lo.toString=ce,Lo.unix=_e,Lo.valueOf=Ce,Lo.year=bo,Lo.isLeapYear=lt,Lo.weekYear=Me,Lo.isoWeekYear=Oe,Lo.quarter=Lo.quarters=Pe,Lo.month=K,Lo.daysInMonth=Q,Lo.week=Lo.weeks=ft,Lo.isoWeek=Lo.isoWeeks=pt,Lo.weeksInYear=He,Lo.isoWeeksInYear=Ae,Lo.date=Eo,Lo.day=Lo.days=Fe,Lo.weekday=Be,Lo.isoWeekday=ze,Lo.dayOfYear=mt,Lo.hour=Lo.hours=Ho,Lo.minute=Lo.minutes=Po,Lo.second=Lo.seconds=Io,Lo.millisecond=Lo.milliseconds=No,Lo.utcOffset=jt,Lo.utc=Ft,Lo.local=Bt,Lo.parseZone=zt,Lo.hasAlignedHourOffset=Vt,Lo.isDST=$t,Lo.isDSTShifted=Ut,Lo.isLocal=Yt,Lo.isUtcOffset=Gt,Lo.isUtc=qt,Lo.isUTC=qt,Lo.zoneAbbr=qe,Lo.zoneName=Xe,Lo.dates=tt("dates accessor is deprecated. Use date instead.",Eo),Lo.months=tt("months accessor is deprecated. Use month instead",K),Lo.years=tt("years accessor is deprecated. Use year instead",bo),Lo.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Wt);var jo=Lo,Wo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fo={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Bo="Invalid date",zo="%d",Vo=/\d{1,2}/,$o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Uo=y.prototype;Uo._calendar=Wo,Uo.calendar=Ze,Uo._longDateFormat=Fo,Uo.longDateFormat=Je,Uo._invalidDate=Bo,Uo.invalidDate=ti,Uo._ordinal=zo,Uo.ordinal=ei,Uo._ordinalParse=Vo,Uo.preparse=ii,Uo.postformat=ii,Uo._relativeTime=$o,Uo.relativeTime=oi,Uo.pastFuture=ni,Uo.set=si,Uo.months=Y,Uo._months=co,Uo.monthsShort=G,Uo._monthsShort=uo,Uo.monthsParse=q,Uo.week=ct,Uo._week=yo,Uo.firstDayOfYear=ut,Uo.firstDayOfWeek=dt,Uo.weekdays=Ne,Uo._weekdays=Do,Uo.weekdaysMin=je,Uo._weekdaysMin=Oo,Uo.weekdaysShort=Le,Uo._weekdaysShort=Mo,Uo.weekdaysParse=We,Uo.isPM=Ue,Uo._meridiemParse=Ao,Uo.meridiem=Ye,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",x),t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",k);var Yo=Math.abs,Go=_i("ms"),qo=_i("s"),Xo=_i("m"),Ko=_i("h"),Qo=_i("d"),Zo=_i("w"),Jo=_i("M"),tn=_i("y"),en=Si("milliseconds"),on=Si("seconds"),nn=Si("minutes"),sn=Si("hours"),rn=Si("days"),an=Si("months"),ln=Si("years"),hn=Math.round,cn={s:45,m:45,h:22,d:26,M:11},dn=Math.abs,un=At.prototype;un.abs=fi,un.add=gi,un.subtract=mi,un.as=wi,un.asMilliseconds=Go,un.asSeconds=qo,un.asMinutes=Xo,un.asHours=Ko,un.asDays=Qo,un.asWeeks=Zo,un.asMonths=Jo,un.asYears=tn,un.valueOf=Ci,un._bubble=vi,un.get=xi,un.milliseconds=en,un.seconds=on,un.minutes=nn,un.hours=sn,un.days=rn,un.weeks=ki,un.months=an,un.years=ln,un.humanize=Di,un.toISOString=Mi,un.toString=Mi,un.toJSON=Mi,un.locale=ve,un.localeData=be,un.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mi),un.lang=Ro,P("X",0,0,"unix"),P("x",0,0,"valueOf"),W("x",Qi),W("X",Ji),z("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),z("x",function(t,e,i){i._d=new Date(v(t))}),t.version="2.10.3",o(Et),t.fn=jo,t.min=Mt,t.max=Ot,t.utc=h,t.unix=Ke,t.months=li,t.isDate=s,t.locale=x,t.invalid=f,t.duration=Xt,t.isMoment=m,t.weekdays=ci,t.parseZone=Qe,t.localeData=k,t.isDuration=Ht,t.monthsShort=hi,t.weekdaysMin=ui,t.defineLocale=S,t.weekdaysShort=di,t.normalizeUnits=R,t.relativeTimeThreshold=Ei;var fn=t;return fn})},{}],numeral:[function(e,i,o){"use strict";(function(){function e(t){this._value=t}function o(t,e,i,o){var n,s,r=Math.pow(10,e);return s=(i(t*r)/r).toFixed(e),o&&(n=new RegExp("0{1,"+o+"}$"),s=s.replace(n,"")),s}function n(t,e,i){var o;return o=e.indexOf("$")>-1?r(t,e,i):e.indexOf("%")>-1?a(t,e,i):e.indexOf(":")>-1?l(t,e):c(t._value,e,i)}function s(t,e){var i,o,n,s,r,a=e,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(e.indexOf(":")>-1)t._value=h(e);else if(e===b)t._value=0;else{for("."!==m[v].delimiters.decimal&&(e=e.replace(/\./g,"").replace(m[v].delimiters.decimal,".")),i=new RegExp("[^a-zA-Z]"+m[v].abbreviations.thousand+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+m[v].abbreviations.million+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),n=new RegExp("[^a-zA-Z]"+m[v].abbreviations.billion+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),s=new RegExp("[^a-zA-Z]"+m[v].abbreviations.trillion+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),r=0;r<=l.length&&!(c=e.indexOf(l[r])>-1?Math.pow(1024,r+1):!1);r++);t._value=(c?c:1)*(a.match(i)?Math.pow(10,3):1)*(a.match(o)?Math.pow(10,6):1)*(a.match(n)?Math.pow(10,9):1)*(a.match(s)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e.replace(/[^0-9\.]+/g,"")),t._value=c?Math.ceil(t._value):t._value}return t._value}function r(t,e,i){var o,n,s=e.indexOf("$"),r=e.indexOf("("),a=e.indexOf("-"),l="";return e.indexOf(" $")>-1?(l=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(l=" ",e=e.replace("$ ","")):e=e.replace("$",""),n=c(t._value,e,i),1>=s?n.indexOf("(")>-1||n.indexOf("-")>-1?(n=n.split(""),o=1,(r>s||a>s)&&(o=0),n.splice(o,0,m[v].currency.symbol+l),n=n.join("")):n=m[v].currency.symbol+l+n:n.indexOf(")")>-1?(n=n.split(""),n.splice(-1,0,l+m[v].currency.symbol),n=n.join("")):n=n+l+m[v].currency.symbol,n}function a(t,e,i){var o,n="",s=100*t._value;return e.indexOf(" %")>-1?(n=" ",e=e.replace(" %","")):e=e.replace("%",""),o=c(s,e,i),o.indexOf(")")>-1?(o=o.split(""),o.splice(-1,0,n+"%"),o=o.join("")):o=o+n+"%",o}function l(t){var e=Math.floor(t._value/60/60),i=Math.floor((t._value-60*e*60)/60),o=Math.round(t._value-60*e*60-60*i);return e+":"+(10>i?"0"+i:i)+":"+(10>o?"0"+o:o)}function h(t){var e=t.split(":"),i=0;return 3===e.length?(i+=60*Number(e[0])*60,i+=60*Number(e[1]),i+=Number(e[2])):2===e.length&&(i+=60*Number(e[0]),i+=Number(e[1])),Number(i)}function c(t,e,i){var n,s,r,a,l,h,c=!1,d=!1,u=!1,f="",p=!1,g=!1,y=!1,w=!1,C=!1,_="",x="",S=Math.abs(t),k=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],T="",R=!1;if(0===t&&null!==b)return b;if(e.indexOf("(")>-1?(c=!0,e=e.slice(1,-1)):e.indexOf("+")>-1&&(d=!0,e=e.replace(/\+/g,"")),e.indexOf("a")>-1&&(p=e.indexOf("aK")>=0,g=e.indexOf("aM")>=0,y=e.indexOf("aB")>=0,w=e.indexOf("aT")>=0,C=p||g||y||w,e.indexOf(" a")>-1?(f=" ",e=e.replace(" a","")):e=e.replace("a",""),S>=Math.pow(10,12)&&!C||w?(f+=m[v].abbreviations.trillion,t/=Math.pow(10,12)):S<Math.pow(10,12)&&S>=Math.pow(10,9)&&!C||y?(f+=m[v].abbreviations.billion,t/=Math.pow(10,9)):S<Math.pow(10,9)&&S>=Math.pow(10,6)&&!C||g?(f+=m[v].abbreviations.million,t/=Math.pow(10,6)):(S<Math.pow(10,6)&&S>=Math.pow(10,3)&&!C||p)&&(f+=m[v].abbreviations.thousand,t/=Math.pow(10,3))),e.indexOf("b")>-1)for(e.indexOf(" b")>-1?(_=" ",e=e.replace(" b","")):e=e.replace("b",""),r=0;r<=k.length;r++)if(n=Math.pow(1024,r),s=Math.pow(1024,r+1),t>=n&&s>t){_+=k[r],n>0&&(t/=n);break}return e.indexOf("o")>-1&&(e.indexOf(" o")>-1?(x=" ",e=e.replace(" o","")):e=e.replace("o",""),x+=m[v].ordinal(t)),e.indexOf("[.]")>-1&&(u=!0,e=e.replace("[.]",".")),a=t.toString().split(".")[0],l=e.split(".")[1],h=e.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),T=o(t,l[0].length+l[1].length,i,l[1].length)):T=o(t,l.length,i),a=T.split(".")[0],T=T.split(".")[1].length?m[v].delimiters.decimal+T.split(".")[1]:"",u&&0===Number(T.slice(1))&&(T="")):a=o(t,null,i),a.indexOf("-")>-1&&(a=a.slice(1),R=!0),h>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m[v].delimiters.thousands)),0===e.indexOf(".")&&(a=""),(c&&R?"(":"")+(!c&&R?"-":"")+(!R&&d?"+":"")+a+T+(x?x:"")+(f?f:"")+(_?_:"")+(c&&R?")":"")}function d(t,e){m[t]=e}function u(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function f(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,e){var i=u(t),o=u(e);return i>o?i:o},-(1/0))}var p,g="1.5.3",m={},v="en",b=null,y="0,0",w="undefined"!=typeof i&&i.exports;p=function(t){return p.isNumeral(t)?t=t.value():0===t||"undefined"==typeof t?t=0:Number(t)||(t=p.fn.unformat(t)),new e(Number(t))},p.version=g,p.isNumeral=function(t){return t instanceof e},p.language=function(t,e){if(!t)return v;if(t&&!e){if(!m[t])throw new Error("Unknown language : "+t);v=t}return(e||!m[t])&&d(t,e),p},p.languageData=function(t){if(!t)return m[v];if(!m[t])throw new Error("Unknown language : "+t);return m[t]},p.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),p.zeroFormat=function(t){b="string"==typeof t?t:null},p.defaultFormat=function(t){y="string"==typeof t?t:"0.0"},p.validate=function(t,e){var i,o,n,s,r,a,l,h;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),t=t.trim(),""===t)return!1;t=t.replace(/^[+-]?/,"");try{l=p.languageData(e)}catch(c){l=p.languageData(p.language())}return n=l.currency.symbol,r=l.abbreviations,i=l.delimiters.decimal,o="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,h=t.match(/^[^\d\.\,]+/),null!==h&&(t=t.substr(1),h[0]!==n)?!1:(h=t.match(/[^\d]+$/),null!==h&&(t=t.slice(0,-1),h[0]!==r.thousand&&h[0]!==r.million&&h[0]!==r.billion&&h[0]!==r.trillion)?!1:t.match(/^\d+$/)?!0:(a=new RegExp(o+"{2}"),t.match(/[^\d.,]/g)?!1:(s=t.split(i),s.length>2?!1:s.length<2?!!s[0].match(/^\d+.*\d$/)&&!s[0].match(a):""===s[0]?!s[0].match(a)&&!!s[1].match(/^\d+$/):1===s[0].length?!!s[0].match(/^\d+$/)&&!s[0].match(a)&&!!s[1].match(/^\d+$/):!!s[0].match(/^\d+.*\d$/)&&!s[0].match(a)&&!!s[1].match(/^\d+$/))))},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var i,o,n=this.length>>>0,s=!1;for(1<arguments.length&&(o=e,s=!0),i=0;n>i;++i)this.hasOwnProperty(i)&&(s?o=t(o,this[i],i,this):(o=this[i],s=!0));if(!s)throw new TypeError("Reduce of empty array with no initial value");return o}),p.fn=e.prototype={clone:function(){return p(this)},format:function(t,e){return n(this,t?t:y,void 0!==e?e:Math.round)},unformat:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:s(this,t?t:y)},value:function(){return this._value},valueOf:function(){return this._value},set:function(t){return this._value=Number(t),this},add:function(t){function e(t,e,o,n){return t+i*e}var i=f.call(null,this._value,t);return this._value=[this._value,t].reduce(e,0)/i,this},subtract:function(t){function e(t,e,o,n){return t-i*e}var i=f.call(null,this._value,t);return this._value=[t].reduce(e,this._value*i)/i,this},multiply:function(t){function e(t,e,i,o){var n=f(t,e);return t*n*e*n/(n*n)}return this._value=[this._value,t].reduce(e,1),this},divide:function(t){function e(t,e,i,o){var n=f(t,e);return t*n/(e*n)}return this._value=[this._value,t].reduce(e),this},difference:function(t){return Math.abs(p(this._value).subtract(t).value())}},w&&(i.exports=p),"undefined"==typeof ender&&(this.numeral=p),"function"==typeof t&&t.amd&&t([],function(){return p})}).call(window)},{}],pikaday:[function(e,i,o){!function(n,s){"use strict";var r;if("object"==typeof o){try{r=e("moment")}catch(a){}i.exports=s(r)}else"function"==typeof t&&t.amd?t(function(t){var e="moment";try{r=t(e)}catch(i){}return s(r)}):n.Pikaday=s(n.moment)}(this,function(t){"use strict";var e="function"==typeof t,i=!!window.addEventListener,o=window.document,n=window.setTimeout,s=function(t,e,o,n){i?t.addEventListener(e,o,!!n):t.attachEvent("on"+e,o)},r=function(t,e,o,n){i?t.removeEventListener(e,o,!!n):t.detachEvent("on"+e,o)},a=function(t,e,i){var n;o.createEvent?(n=o.createEvent("HTMLEvents"),n.initEvent(e,!0,!1),n=y(n,i),t.dispatchEvent(n)):o.createEventObject&&(n=o.createEventObject(),n=y(n,i),t.fireEvent("on"+e,n))},l=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},h=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},c=function(t,e){h(t,e)||(t.className=""===t.className?e:t.className+" "+e)},d=function(t,e){t.className=l((" "+t.className+" ").replace(" "+e+" "," "))},u=function(t){return/Array/.test(Object.prototype.toString.call(t))},f=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},p=function(t){var e=t.getDay();return 0===e||6===e},g=function(t){return t%4===0&&t%100!==0||t%400===0},m=function(t,e){return[31,g(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},v=function(t){f(t)&&t.setHours(0,0,0,0)},b=function(t,e){return t.getTime()===e.getTime()},y=function(t,e,i){var o,n;for(o in e)n=void 0!==t[o],n&&"object"==typeof e[o]&&null!==e[o]&&void 0===e[o].nodeName?f(e[o])?i&&(t[o]=new Date(e[o].getTime())):u(e[o])?i&&(t[o]=e[o].slice(0)):t[o]=y({},e[o],i):(i||!n)&&(t[o]=e[o]);return t},w=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},C={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},onSelect:null,onOpen:null,onClose:null,onDraw:null},_=function(t,e,i){for(e+=t.firstDay;e>=7;)e-=7;return i?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},x=function(t,e,i,o,n,s,r){if(r)return'<td class="is-empty"></td>';var a=[];return s&&a.push("is-disabled"),n&&a.push("is-today"),o&&a.push("is-selected"),'<td data-day="'+t+'" class="'+a.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+i+'" data-pika-month="'+e+'" data-pika-day="'+t+'">'+t+"</button></td>"},S=function(t,e,i){var o=new Date(i,0,1),n=Math.ceil(((new Date(i,e,t)-o)/864e5+o.getDay()+1)/7);return'<td class="pika-week">'+n+"</td>"},k=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},T=function(t){return"<tbody>"+t.join("")+"</tbody>"},R=function(t){var e,i=[];for(t.showWeekNumber&&i.push("<th></th>"),e=0;7>e;e++)i.push('<th scope="col"><abbr title="'+_(t,e)+'">'+_(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?i.reverse():i).join("")+"</thead>"},E=function(t,e,i,o,n){var s,r,a,l,h,c=t._o,d=i===c.minYear,f=i===c.maxYear,p='<div class="pika-title">',g=!0,m=!0;for(a=[],s=0;12>s;s++)a.push('<option value="'+(i===n?s-e:12+s-e)+'"'+(s===o?" selected":"")+(d&&s<c.minMonth||f&&s>c.maxMonth?"disabled":"")+">"+c.i18n.months[s]+"</option>");for(l='<div class="pika-label">'+c.i18n.months[o]+'<select class="pika-select pika-select-month">'+a.join("")+"</select></div>",u(c.yearRange)?(s=c.yearRange[0],r=c.yearRange[1]+1):(s=i-c.yearRange,r=1+i+c.yearRange),a=[];r>s&&s<=c.maxYear;s++)s>=c.minYear&&a.push('<option value="'+s+'"'+(s===i?" selected":"")+">"+s+"</option>");return h='<div class="pika-label">'+i+c.yearSuffix+'<select class="pika-select pika-select-year">'+a.join("")+"</select></div>",p+=c.showMonthAfterYear?h+l:l+h,d&&(0===o||c.minMonth>=o)&&(g=!1),f&&(11===o||c.maxMonth<=o)&&(m=!1),0===e&&(p+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(p+='<button class="pika-next'+(m?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),p+="</div>"},D=function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+R(t)+T(e)+"</table>"},M=function(r){var a=this,l=a.config(r);a._onMouseDown=function(t){if(a._v){t=t||window.event;var e=t.target||t.srcElement;if(e){if(!h(e,"is-disabled")){if(h(e,"pika-button")&&!h(e,"is-empty"))return a.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),void(l.bound&&n(function(){a.hide(),l.field&&l.field.blur()},100));h(e,"pika-prev")?a.prevMonth():h(e,"pika-next")&&a.nextMonth()}if(h(e,"pika-select"))a._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}}},a._onChange=function(t){t=t||window.event;var e=t.target||t.srcElement;e&&(h(e,"pika-select-month")?a.gotoMonth(e.value):h(e,"pika-select-year")&&a.gotoYear(e.value))},a._onInputChange=function(i){var o;i.firedBy!==a&&(e?(o=t(l.field.value,l.format),o=o&&o.isValid()?o.toDate():null):o=new Date(Date.parse(l.field.value)),a.setDate(f(o)?o:null),a._v||a.show())},a._onInputFocus=function(){a.show()},a._onInputClick=function(){a.show()},a._onInputBlur=function(){var t=o.activeElement;do if(h(t,"pika-single"))return;while(t=t.parentNode);a._c||(a._b=n(function(){a.hide()},50)),a._c=!1},a._onClick=function(t){t=t||window.event;var e=t.target||t.srcElement,o=e;if(e){!i&&h(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),s(e,"change",a._onChange)));do if(h(o,"pika-single")||o===l.trigger)return;while(o=o.parentNode);a._v&&e!==l.trigger&&o!==l.trigger&&a.hide()}},a.el=o.createElement("div"),a.el.className="pika-single"+(l.isRTL?" is-rtl":""),s(a.el,"mousedown",a._onMouseDown,!0),s(a.el,"change",a._onChange),l.field&&(l.container?l.container.appendChild(a.el):l.bound?o.body.appendChild(a.el):l.field.parentNode.insertBefore(a.el,l.field.nextSibling),s(l.field,"change",a._onInputChange),l.defaultDate||(e&&l.field.value?l.defaultDate=t(l.field.value,l.format).toDate():l.defaultDate=new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var c=l.defaultDate;f(c)?l.setDefaultDate?a.setDate(c,!0):a.gotoDate(c):a.gotoDate(new Date),l.bound?(this.hide(),a.el.className+=" is-bound",s(l.trigger,"click",a._onInputClick),s(l.trigger,"focus",a._onInputFocus),s(l.trigger,"blur",a._onInputBlur)):this.show()};return M.prototype={config:function(t){this._o||(this._o=y({},C,!0));var e=y(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var i=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=i>4?4:i,f(e.minDate)||(e.minDate=!1),f(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&(v(e.minDate),e.minYear=e.minDate.getFullYear(),e.minMonth=e.minDate.getMonth()),e.maxDate&&(v(e.maxDate),e.maxYear=e.maxDate.getFullYear(),e.maxMonth=e.maxDate.getMonth()),u(e.yearRange)){var o=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||o,e.yearRange[1]=parseInt(e.yearRange[1],10)||o}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||C.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(i){return f(this._d)?e?t(this._d).format(i||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(i,o){e&&t.isMoment(i)&&this.setDate(i.toDate(),o)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",a(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),f(t)){var i=this._o.minDate,o=this._o.maxDate;f(i)&&i>t?t=i:f(o)&&t>o&&(t=o),this._d=new Date(t.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),a(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(f(t)){if(this.calendars){var i=new Date(this.calendars[0].year,this.calendars[0].month,1),o=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),n=t.getTime();o.setMonth(o.getMonth()+1),o.setDate(o.getDate()-1),e=n<i.getTime()||o.getTime()<n}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=w(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=w({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){this._o.minDate=t},setMaxDate:function(t){this._o.maxDate=t},draw:function(t){if(this._v||t){var e=this._o,i=e.minYear,o=e.maxYear,s=e.minMonth,r=e.maxMonth,a="";this._y<=i&&(this._y=i,!isNaN(s)&&this._m<s&&(this._m=s)),this._y>=o&&(this._y=o,!isNaN(r)&&this._m>r&&(this._m=r));for(var l=0;l<e.numberOfMonths;l++)a+='<div class="pika-lendar">'+E(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=a,e.bound&&"hidden"!==e.field.type&&n(function(){e.trigger.focus()},1),"function"==typeof this._o.onDraw){var h=this;n(function(){h._o.onDraw.call(h)},0)}}},adjustPosition:function(){if(!this._o.container){var t,e,i,n=this._o.trigger,s=n,r=this.el.offsetWidth,a=this.el.offsetHeight,l=window.innerWidth||o.documentElement.clientWidth,h=window.innerHeight||o.documentElement.clientHeight,c=window.pageYOffset||o.body.scrollTop||o.documentElement.scrollTop;if("function"==typeof n.getBoundingClientRect)i=n.getBoundingClientRect(),t=i.left+window.pageXOffset,e=i.bottom+window.pageYOffset;else for(t=s.offsetLeft,e=s.offsetTop+s.offsetHeight;s=s.offsetParent;)t+=s.offsetLeft,e+=s.offsetTop;(this._o.reposition&&t+r>l||this._o.position.indexOf("right")>-1&&t-r+n.offsetWidth>0)&&(t=t-r+n.offsetWidth),(this._o.reposition&&e+a>h+c||this._o.position.indexOf("top")>-1&&e-a-n.offsetHeight>0)&&(e=e-a-n.offsetHeight),this.el.style.cssText=["position: absolute","left: "+t+"px","top: "+e+"px"].join(";")}},render:function(t,e){var i=this._o,o=new Date,n=m(t,e),s=new Date(t,e,1).getDay(),r=[],a=[];v(o),i.firstDay>0&&(s-=i.firstDay,0>s&&(s+=7));for(var l=n+s,h=l;h>7;)h-=7;l+=7-h;for(var c=0,d=0;l>c;c++){var u=new Date(t,e,1+(c-s)),g=f(this._d)?b(u,this._d):!1,y=b(u,o),w=s>c||c>=n+s,C=i.minDate&&u<i.minDate||i.maxDate&&u>i.maxDate||i.disableWeekends&&p(u)||i.disableDayFn&&i.disableDayFn(u);a.push(x(1+(c-s),e,t,g,y,C,w)),7===++d&&(i.showWeekNumber&&a.unshift(S(c-s,e,t)),r.push(k(a,i.isRTL)),a=[],d=0)}return D(i,r)},isVisible:function(){return this._v},show:function(){this._v||(d(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(s(o,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;t!==!1&&(this._o.bound&&r(o,"click",this._onClick),this.el.style.cssText="",c(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),r(this.el,"mousedown",this._onMouseDown,!0),r(this.el,"change",this._onChange),this._o.field&&(r(this._o.field,"change",this._onInputChange),this._o.bound&&(r(this._o.trigger,"click",this._onInputClick),r(this._o.trigger,"focus",this._onInputFocus),r(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},M})},{moment:"moment"}],zeroclipboard:[function(e,i,o){!function(e,o){"use strict";var n,s,r,a=e,l=a.document,h=a.navigator,c=a.setTimeout,d=a.clearTimeout,u=a.setInterval,f=a.clearInterval,p=a.getComputedStyle,g=a.encodeURIComponent,m=a.ActiveXObject,v=a.Error,b=a.Number.parseInt||a.parseInt,y=a.Number.parseFloat||a.parseFloat,w=a.Number.isNaN||a.isNaN,C=a.Date.now,_=a.Object.keys,x=a.Object.defineProperty,S=a.Object.prototype.hasOwnProperty,k=a.Array.prototype.slice,T=function(){var t=function(t){return t};if("function"==typeof a.wrap&&"function"==typeof a.unwrap)try{var e=l.createElement("div"),i=a.unwrap(e);1===e.nodeType&&i&&1===i.nodeType&&(t=a.unwrap)}catch(o){}return t}(),R=function(t){return k.call(t,0)},E=function(){var t,e,i,n,s,r,a=R(arguments),l=a[0]||{};for(t=1,e=a.length;e>t;t++)if(null!=(i=a[t]))for(n in i)S.call(i,n)&&(s=l[n],r=i[n],l!==r&&r!==o&&(l[n]=r));return l},D=function(t){var e,i,o,n;if("object"!=typeof t||null==t||"number"==typeof t.nodeType)e=t;else if("number"==typeof t.length)for(e=[],i=0,o=t.length;o>i;i++)S.call(t,i)&&(e[i]=D(t[i]));else{e={};for(n in t)S.call(t,n)&&(e[n]=D(t[n]))}return e},M=function(t,e){for(var i={},o=0,n=e.length;n>o;o++)e[o]in t&&(i[e[o]]=t[e[o]]);return i},O=function(t,e){var i={};for(var o in t)-1===e.indexOf(o)&&(i[o]=t[o]);return i},A=function(t){if(t)for(var e in t)S.call(t,e)&&delete t[e];return t},H=function(t,e){if(t&&1===t.nodeType&&t.ownerDocument&&e&&(1===e.nodeType&&e.ownerDocument&&e.ownerDocument===t.ownerDocument||9===e.nodeType&&!e.ownerDocument&&e===t.ownerDocument))do{if(t===e)return!0;t=t.parentNode}while(t);return!1},P=function(t){var e;return"string"==typeof t&&t&&(e=t.split("#")[0].split("?")[0],e=t.slice(0,t.lastIndexOf("/")+1)),e},I=function(t){var e,i;return"string"==typeof t&&t&&(i=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),i&&i[1]?e=i[1]:(i=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),i&&i[1]&&(e=i[1]))),e},N=function(){var t,e;try{throw new v}catch(i){e=i}return e&&(t=e.sourceURL||e.fileName||I(e.stack)),t},L=function(){var t,e,i;if(l.currentScript&&(t=l.currentScript.src))return t;if(e=l.getElementsByTagName("script"),
1===e.length)return e[0].src||o;if("readyState"in e[0])for(i=e.length;i--;)if("interactive"===e[i].readyState&&(t=e[i].src))return t;return"loading"===l.readyState&&(t=e[e.length-1].src)?t:(t=N())?t:o},j=function(){var t,e,i,n=l.getElementsByTagName("script");for(t=n.length;t--;){if(!(i=n[t].src)){e=null;break}if(i=P(i),null==e)e=i;else if(e!==i){e=null;break}}return e||o},W=function(){var t=P(L())||j()||"";return t+"ZeroClipboard.swf"},F=function(){return null==e.opener&&(!!e.top&&e!=e.top||!!e.parent&&e!=e.parent)}(),B={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},z="11.0.0",V={},$={},U=null,Y=0,G=0,q={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},X=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],K=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],Q=new RegExp("^flash-("+K.map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),Z=new RegExp("^flash-("+K.slice(1).map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),J={swfPath:W(),trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},tt=function(t){if("object"==typeof t&&null!==t)for(var e in t)if(S.call(t,e))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(e))J[e]=t[e];else if(null==B.bridge)if("containerId"===e||"swfObjectId"===e){if(!gt(t[e]))throw new Error("The specified `"+e+"` value is not valid as an HTML4 Element ID");J[e]=t[e]}else J[e]=t[e];return"string"==typeof t&&t?S.call(J,t)?J[t]:void 0:D(J)},et=function(){return Gt(),{browser:M(h,["userAgent","platform","appName"]),flash:O(B,["bridge"]),zeroclipboard:{version:Xt.version,config:Xt.config()}}},it=function(){return!!(B.disabled||B.outdated||B.sandboxed||B.unavailable||B.degraded||B.deactivated)},ot=function(t,e){var i,s,r,a={};if("string"==typeof t&&t)r=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(i in t)S.call(t,i)&&"string"==typeof i&&i&&"function"==typeof t[i]&&Xt.on(i,t[i]);if(r&&r.length){for(i=0,s=r.length;s>i;i++)t=r[i].replace(/^on/,""),a[t]=!0,V[t]||(V[t]=[]),V[t].push(e);if(a.ready&&B.ready&&Xt.emit({type:"ready"}),a.error){for(i=0,s=K.length;s>i;i++)if(B[K[i].replace(/^flash-/,"")]===!0){Xt.emit({type:"error",name:K[i]});break}n!==o&&Xt.version!==n&&Xt.emit({type:"error",name:"version-mismatch",jsVersion:Xt.version,swfVersion:n})}}return Xt},nt=function(t,e){var i,o,n,s,r;if(0===arguments.length)s=_(V);else if("string"==typeof t&&t)s=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(i in t)S.call(t,i)&&"string"==typeof i&&i&&"function"==typeof t[i]&&Xt.off(i,t[i]);if(s&&s.length)for(i=0,o=s.length;o>i;i++)if(t=s[i].toLowerCase().replace(/^on/,""),r=V[t],r&&r.length)if(e)for(n=r.indexOf(e);-1!==n;)r.splice(n,1),n=r.indexOf(e,n);else r.length=0;return Xt},st=function(t){var e;return e="string"==typeof t&&t?D(V[t])||null:D(V)},rt=function(t){var e,i,o;return t=mt(t),t&&!xt(t)?"ready"===t.type&&B.overdue===!0?Xt.emit({type:"error",name:"flash-overdue"}):(e=E({},t),Ct.call(this,e),"copy"===t.type&&(o=Ot($),i=o.data,U=o.formatMap),i):void 0},at=function(){var t=B.sandboxed;if(Gt(),"boolean"!=typeof B.ready&&(B.ready=!1),B.sandboxed!==t&&B.sandboxed===!0)B.ready=!1,Xt.emit({type:"error",name:"flash-sandboxed"});else if(!Xt.isFlashUnusable()&&null===B.bridge){var e=J.flashLoadTimeout;"number"==typeof e&&e>=0&&(Y=c(function(){"boolean"!=typeof B.deactivated&&(B.deactivated=!0),B.deactivated===!0&&Xt.emit({type:"error",name:"flash-deactivated"})},e)),B.overdue=!1,Dt()}},lt=function(){Xt.clearData(),Xt.blur(),Xt.emit("destroy"),Mt(),Xt.off()},ht=function(t,e){var i;if("object"==typeof t&&t&&"undefined"==typeof e)i=t,Xt.clearData();else{if("string"!=typeof t||!t)return;i={},i[t]=e}for(var o in i)"string"==typeof o&&o&&S.call(i,o)&&"string"==typeof i[o]&&i[o]&&($[o]=i[o])},ct=function(t){"undefined"==typeof t?(A($),U=null):"string"==typeof t&&S.call($,t)&&delete $[t]},dt=function(t){return"undefined"==typeof t?D($):"string"==typeof t&&S.call($,t)?$[t]:void 0},ut=function(t){if(t&&1===t.nodeType){s&&(Wt(s,J.activeClass),s!==t&&Wt(s,J.hoverClass)),s=t,jt(t,J.hoverClass);var e=t.getAttribute("title")||J.title;if("string"==typeof e&&e){var i=Et(B.bridge);i&&i.setAttribute("title",e)}var o=J.forceHandCursor===!0||"pointer"===Ft(t,"cursor");Ut(o),$t()}},ft=function(){var t=Et(B.bridge);t&&(t.removeAttribute("title"),t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px"),s&&(Wt(s,J.hoverClass),Wt(s,J.activeClass),s=null)},pt=function(){return s||null},gt=function(t){return"string"==typeof t&&t&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(t)},mt=function(t){var e;if("string"==typeof t&&t?(e=t,t={}):"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(e=t.type),e){e=e.toLowerCase(),!t.target&&(/^(copy|aftercopy|_click)$/.test(e)||"error"===e&&"clipboard-error"===t.name)&&(t.target=r),E(t,{type:e,target:t.target||s||null,relatedTarget:t.relatedTarget||null,currentTarget:B&&B.bridge||null,timeStamp:t.timeStamp||C()||null});var i=q[t.type];return"error"===t.type&&t.name&&i&&(i=i[t.name]),i&&(t.message=i),"ready"===t.type&&E(t,{target:null,version:B.version}),"error"===t.type&&(Q.test(t.name)&&E(t,{target:null,minimumVersion:z}),Z.test(t.name)&&E(t,{version:B.version})),"copy"===t.type&&(t.clipboardData={setData:Xt.setData,clearData:Xt.clearData}),"aftercopy"===t.type&&(t=At(t,U)),t.target&&!t.relatedTarget&&(t.relatedTarget=vt(t.target)),bt(t)}},vt=function(t){var e=t&&t.getAttribute&&t.getAttribute("data-clipboard-target");return e?l.getElementById(e):null},bt=function(t){if(t&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)){var e=t.target,i="_mouseover"===t.type&&t.relatedTarget?t.relatedTarget:o,n="_mouseout"===t.type&&t.relatedTarget?t.relatedTarget:o,s=Bt(e),r=a.screenLeft||a.screenX||0,h=a.screenTop||a.screenY||0,c=l.body.scrollLeft+l.documentElement.scrollLeft,d=l.body.scrollTop+l.documentElement.scrollTop,u=s.left+("number"==typeof t._stageX?t._stageX:0),f=s.top+("number"==typeof t._stageY?t._stageY:0),p=u-c,g=f-d,m=r+p,v=h+g,b="number"==typeof t.movementX?t.movementX:0,y="number"==typeof t.movementY?t.movementY:0;delete t._stageX,delete t._stageY,E(t,{srcElement:e,fromElement:i,toElement:n,screenX:m,screenY:v,pageX:u,pageY:f,clientX:p,clientY:g,x:p,y:g,movementX:b,movementY:y,offsetX:0,offsetY:0,layerX:0,layerY:0})}return t},yt=function(t){var e=t&&"string"==typeof t.type&&t.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(e)},wt=function(t,e,i,o){o?c(function(){t.apply(e,i)},0):t.apply(e,i)},Ct=function(t){if("object"==typeof t&&t&&t.type){var e=yt(t),i=V["*"]||[],o=V[t.type]||[],n=i.concat(o);if(n&&n.length){var s,r,l,h,c,d=this;for(s=0,r=n.length;r>s;s++)l=n[s],h=d,"string"==typeof l&&"function"==typeof a[l]&&(l=a[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(h=l,l=l.handleEvent),"function"==typeof l&&(c=E({},t),wt(l,h,[c],e))}return this}},_t=function(t){var e=null;return(F===!1||t&&"error"===t.type&&t.name&&-1!==X.indexOf(t.name))&&(e=!1),e},xt=function(t){var e=t.target||s||null,i="swf"===t._source;switch(delete t._source,t.type){case"error":var o="flash-sandboxed"===t.name||_t(t);"boolean"==typeof o&&(B.sandboxed=o),-1!==K.indexOf(t.name)?E(B,{disabled:"flash-disabled"===t.name,outdated:"flash-outdated"===t.name,unavailable:"flash-unavailable"===t.name,degraded:"flash-degraded"===t.name,deactivated:"flash-deactivated"===t.name,overdue:"flash-overdue"===t.name,ready:!1}):"version-mismatch"===t.name&&(n=t.swfVersion,E(B,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Vt();break;case"ready":n=t.swfVersion;var a=B.deactivated===!0;E(B,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:a,ready:!a}),Vt();break;case"beforecopy":r=e;break;case"copy":var l,h,c=t.relatedTarget;!$["text/html"]&&!$["text/plain"]&&c&&(h=c.value||c.outerHTML||c.innerHTML)&&(l=c.value||c.textContent||c.innerText)?(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l),h!==l&&t.clipboardData.setData("text/html",h)):!$["text/plain"]&&t.target&&(l=t.target.getAttribute("data-clipboard-text"))&&(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l));break;case"aftercopy":St(t),Xt.clearData(),e&&e!==Lt()&&e.focus&&e.focus();break;case"_mouseover":Xt.focus(e),J.bubbleEvents===!0&&i&&(e&&e!==t.relatedTarget&&!H(t.relatedTarget,e)&&kt(E({},t,{type:"mouseenter",bubbles:!1,cancelable:!1})),kt(E({},t,{type:"mouseover"})));break;case"_mouseout":Xt.blur(),J.bubbleEvents===!0&&i&&(e&&e!==t.relatedTarget&&!H(t.relatedTarget,e)&&kt(E({},t,{type:"mouseleave",bubbles:!1,cancelable:!1})),kt(E({},t,{type:"mouseout"})));break;case"_mousedown":jt(e,J.activeClass),J.bubbleEvents===!0&&i&&kt(E({},t,{type:t.type.slice(1)}));break;case"_mouseup":Wt(e,J.activeClass),J.bubbleEvents===!0&&i&&kt(E({},t,{type:t.type.slice(1)}));break;case"_click":r=null,J.bubbleEvents===!0&&i&&kt(E({},t,{type:t.type.slice(1)}));break;case"_mousemove":J.bubbleEvents===!0&&i&&kt(E({},t,{type:t.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)?!0:void 0},St=function(t){if(t.errors&&t.errors.length>0){var e=D(t);E(e,{type:"error",name:"clipboard-error"}),delete e.success,c(function(){Xt.emit(e)},0)}},kt=function(t){if(t&&"string"==typeof t.type&&t){var e,i=t.target||null,o=i&&i.ownerDocument||l,n={view:o.defaultView||a,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:o.createEvent?0:1},s=E(n,t);i&&o.createEvent&&i.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],e=o.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,s),e._source="js",i.dispatchEvent(e)))}},Tt=function(){var t=J.flashLoadTimeout;if("number"==typeof t&&t>=0){var e=Math.min(1e3,t/10),i=J.swfObjectId+"_fallbackContent";G=u(function(){var t=l.getElementById(i);zt(t)&&(Vt(),B.deactivated=null,Xt.emit({type:"error",name:"swf-not-found"}))},e)}},Rt=function(){var t=l.createElement("div");return t.id=J.containerId,t.className=J.containerClass,t.style.position="absolute",t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px",t.style.zIndex=""+Yt(J.zIndex),t},Et=function(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},Dt=function(){var t,e=B.bridge,i=Et(e);if(!e){var o=Nt(a.location.host,J),n="never"===o?"none":"all",s=Pt(E({jsVersion:Xt.version},J)),r=J.swfPath+Ht(J.swfPath,J);i=Rt();var h=l.createElement("div");i.appendChild(h),l.body.appendChild(i);var c=l.createElement("div"),d="activex"===B.pluginType;c.innerHTML='<object id="'+J.swfObjectId+'" name="'+J.swfObjectId+'" width="100%" height="100%" '+(d?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+r+'"')+">"+(d?'<param name="movie" value="'+r+'"/>':"")+'<param name="allowScriptAccess" value="'+o+'"/><param name="allowNetworking" value="'+n+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/><div id="'+J.swfObjectId+'_fallbackContent">&nbsp;</div></object>',e=c.firstChild,c=null,T(e).ZeroClipboard=Xt,i.replaceChild(e,h),Tt()}return e||(e=l[J.swfObjectId],e&&(t=e.length)&&(e=e[t-1]),!e&&i&&(e=i.firstChild)),B.bridge=e||null,e},Mt=function(){var t=B.bridge;if(t){var e=Et(t);e&&("activex"===B.pluginType&&"readyState"in t?(t.style.display="none",function i(){if(4===t.readyState){for(var o in t)"function"==typeof t[o]&&(t[o]=null);t.parentNode&&t.parentNode.removeChild(t),e.parentNode&&e.parentNode.removeChild(e)}else c(i,10)}()):(t.parentNode&&t.parentNode.removeChild(t),e.parentNode&&e.parentNode.removeChild(e))),Vt(),B.ready=null,B.bridge=null,B.deactivated=null,n=o}},Ot=function(t){var e={},i={};if("object"==typeof t&&t){for(var o in t)if(o&&S.call(t,o)&&"string"==typeof t[o]&&t[o])switch(o.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":e.text=t[o],i.text=o;break;case"text/html":case"html":case"air:html":case"flash:html":e.html=t[o],i.html=o;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":e.rtf=t[o],i.rtf=o}return{data:e,formatMap:i}}},At=function(t,e){if("object"!=typeof t||!t||"object"!=typeof e||!e)return t;var i={};for(var o in t)if(S.call(t,o))if("errors"===o){i[o]=t[o]?t[o].slice():[];for(var n=0,s=i[o].length;s>n;n++)i[o][n].format=e[i[o][n].format]}else if("success"!==o&&"data"!==o)i[o]=t[o];else{i[o]={};var r=t[o];for(var a in r)a&&S.call(r,a)&&S.call(e,a)&&(i[o][e[a]]=r[a])}return i},Ht=function(t,e){var i=null==e||e&&e.cacheBust===!0;return i?(-1===t.indexOf("?")?"?":"&")+"noCache="+C():""},Pt=function(t){var e,i,o,n,s="",r=[];if(t.trustedDomains&&("string"==typeof t.trustedDomains?n=[t.trustedDomains]:"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(n=t.trustedDomains)),n&&n.length)for(e=0,i=n.length;i>e;e++)if(S.call(n,e)&&n[e]&&"string"==typeof n[e]){if(o=It(n[e]),!o)continue;if("*"===o){r.length=0,r.push(o);break}r.push.apply(r,[o,"//"+o,a.location.protocol+"//"+o])}return r.length&&(s+="trustedOrigins="+g(r.join(","))),t.forceEnhancedClipboard===!0&&(s+=(s?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof t.swfObjectId&&t.swfObjectId&&(s+=(s?"&":"")+"swfObjectId="+g(t.swfObjectId)),"string"==typeof t.jsVersion&&t.jsVersion&&(s+=(s?"&":"")+"jsVersion="+g(t.jsVersion)),s},It=function(t){if(null==t||""===t)return null;if(t=t.replace(/^\s+|\s+$/g,""),""===t)return null;var e=t.indexOf("//");t=-1===e?t:t.slice(e+2);var i=t.indexOf("/");return t=-1===i?t:-1===e||0===i?null:t.slice(0,i),t&&".swf"===t.slice(-4).toLowerCase()?null:t||null},Nt=function(){var t=function(t){var e,i,o,n=[];if("string"==typeof t&&(t=[t]),"object"!=typeof t||!t||"number"!=typeof t.length)return n;for(e=0,i=t.length;i>e;e++)if(S.call(t,e)&&(o=It(t[e]))){if("*"===o){n.length=0,n.push("*");break}-1===n.indexOf(o)&&n.push(o)}return n};return function(e,i){var o=It(i.swfPath);null===o&&(o=e);var n=t(i.trustedDomains),s=n.length;if(s>0){if(1===s&&"*"===n[0])return"always";if(-1!==n.indexOf(e))return 1===s&&e===o?"sameDomain":"always"}return"never"}}(),Lt=function(){try{return l.activeElement}catch(t){return null}},jt=function(t,e){var i,o,n,s=[];if("string"==typeof e&&e&&(s=e.split(/\s+/)),t&&1===t.nodeType&&s.length>0)if(t.classList)for(i=0,o=s.length;o>i;i++)t.classList.add(s[i]);else if(t.hasOwnProperty("className")){for(n=" "+t.className+" ",i=0,o=s.length;o>i;i++)-1===n.indexOf(" "+s[i]+" ")&&(n+=s[i]+" ");t.className=n.replace(/^\s+|\s+$/g,"")}return t},Wt=function(t,e){var i,o,n,s=[];if("string"==typeof e&&e&&(s=e.split(/\s+/)),t&&1===t.nodeType&&s.length>0)if(t.classList&&t.classList.length>0)for(i=0,o=s.length;o>i;i++)t.classList.remove(s[i]);else if(t.className){for(n=(" "+t.className+" ").replace(/[\r\n\t]/g," "),i=0,o=s.length;o>i;i++)n=n.replace(" "+s[i]+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}return t},Ft=function(t,e){var i=p(t,null).getPropertyValue(e);return"cursor"!==e||i&&"auto"!==i||"A"!==t.nodeName?i:"pointer"},Bt=function(t){var e={left:0,top:0,width:0,height:0};if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=a.pageXOffset,n=a.pageYOffset,s=l.documentElement.clientLeft||0,r=l.documentElement.clientTop||0,h=0,c=0;if("relative"===Ft(l.body,"position")){var d=l.body.getBoundingClientRect(),u=l.documentElement.getBoundingClientRect();h=d.left-u.left||0,c=d.top-u.top||0}e.left=i.left+o-s-h,e.top=i.top+n-r-c,e.width="width"in i?i.width:i.right-i.left,e.height="height"in i?i.height:i.bottom-i.top}return e},zt=function(t){if(!t)return!1;var e=p(t,null),i=y(e.height)>0,o=y(e.width)>0,n=y(e.top)>=0,s=y(e.left)>=0,r=i&&o&&n&&s,a=r?null:Bt(t),l="none"!==e.display&&"collapse"!==e.visibility&&(r||!!a&&(i||a.height>0)&&(o||a.width>0)&&(n||a.top>=0)&&(s||a.left>=0));return l},Vt=function(){d(Y),Y=0,f(G),G=0},$t=function(){var t;if(s&&(t=Et(B.bridge))){var e=Bt(s);E(t.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+Yt(J.zIndex)})}},Ut=function(t){B.ready===!0&&(B.bridge&&"function"==typeof B.bridge.setHandCursor?B.bridge.setHandCursor(t):B.ready=!1)},Yt=function(t){if(/^(?:auto|inherit)$/.test(t))return t;var e;return"number"!=typeof t||w(t)?"string"==typeof t&&(e=Yt(b(t,10))):e=t,"number"==typeof e?e:"auto"},Gt=function(t){var i,o,n,s=B.sandboxed,r=null;if(t=t===!0,F===!1)r=!1;else{try{o=e.frameElement||null}catch(a){n={name:a.name,message:a.message}}if(o&&1===o.nodeType&&"IFRAME"===o.nodeName)try{r=o.hasAttribute("sandbox")}catch(a){r=null}else{try{i=document.domain||null}catch(a){i=null}(null===i||n&&"SecurityError"===n.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(n.message.toLowerCase()))&&(r=!0)}}return B.sandboxed=r,s===r||t||qt(m),r},qt=function(t){function e(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function i(t){return!!t&&(t=t.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(t)||"chrome.plugin"===t.slice(-13))}function o(t){t&&(a=!0,t.version&&(d=e(t.version)),!d&&t.description&&(d=e(t.description)),t.filename&&(c=i(t.filename)))}var n,s,r,a=!1,l=!1,c=!1,d="";if(h.plugins&&h.plugins.length)n=h.plugins["Shockwave Flash"],o(n),h.plugins["Shockwave Flash 2.0"]&&(a=!0,d="2.0.0.11");else if(h.mimeTypes&&h.mimeTypes.length)r=h.mimeTypes["application/x-shockwave-flash"],n=r&&r.enabledPlugin,o(n);else if("undefined"!=typeof t){l=!0;try{s=new t("ShockwaveFlash.ShockwaveFlash.7"),a=!0,d=e(s.GetVariable("$version"))}catch(u){try{s=new t("ShockwaveFlash.ShockwaveFlash.6"),a=!0,d="6.0.21"}catch(f){try{s=new t("ShockwaveFlash.ShockwaveFlash"),a=!0,d=e(s.GetVariable("$version"))}catch(p){l=!1}}}}B.disabled=a!==!0,B.outdated=d&&y(d)<y(z),B.version=d||"0.0.0",B.pluginType=c?"pepper":l?"activex":a?"netscape":"unknown"};qt(m),Gt(!0);var Xt=function(){return this instanceof Xt?void("function"==typeof Xt._createClient&&Xt._createClient.apply(this,R(arguments))):new Xt};x(Xt,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Xt.config=function(){return tt.apply(this,R(arguments))},Xt.state=function(){return et.apply(this,R(arguments))},Xt.isFlashUnusable=function(){return it.apply(this,R(arguments))},Xt.on=function(){return ot.apply(this,R(arguments))},Xt.off=function(){return nt.apply(this,R(arguments))},Xt.handlers=function(){return st.apply(this,R(arguments))},Xt.emit=function(){return rt.apply(this,R(arguments))},Xt.create=function(){return at.apply(this,R(arguments))},Xt.destroy=function(){return lt.apply(this,R(arguments))},Xt.setData=function(){return ht.apply(this,R(arguments))},Xt.clearData=function(){return ct.apply(this,R(arguments))},Xt.getData=function(){return dt.apply(this,R(arguments))},Xt.focus=Xt.activate=function(){return ut.apply(this,R(arguments))},Xt.blur=Xt.deactivate=function(){return ft.apply(this,R(arguments))},Xt.activeElement=function(){return pt.apply(this,R(arguments))};var Kt=0,Qt={},Zt=0,Jt={},te={};E(J,{autoActivate:!0});var ee=function(t){var e=this;e.id=""+Kt++,Qt[e.id]={instance:e,elements:[],handlers:{}},t&&e.clip(t),Xt.on("*",function(t){return e.emit(t)}),Xt.on("destroy",function(){e.destroy()}),Xt.create()},ie=function(t,e){var i,s,r,a={},l=Qt[this.id],h=l&&l.handlers;if(!l)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof t&&t)r=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(i in t)S.call(t,i)&&"string"==typeof i&&i&&"function"==typeof t[i]&&this.on(i,t[i]);if(r&&r.length){for(i=0,s=r.length;s>i;i++)t=r[i].replace(/^on/,""),a[t]=!0,h[t]||(h[t]=[]),h[t].push(e);if(a.ready&&B.ready&&this.emit({type:"ready",client:this}),a.error){for(i=0,s=K.length;s>i;i++)if(B[K[i].replace(/^flash-/,"")]){this.emit({type:"error",name:K[i],client:this});break}n!==o&&Xt.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Xt.version,swfVersion:n})}}return this},oe=function(t,e){var i,o,n,s,r,a=Qt[this.id],l=a&&a.handlers;if(!l)return this;if(0===arguments.length)s=_(l);else if("string"==typeof t&&t)s=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(i in t)S.call(t,i)&&"string"==typeof i&&i&&"function"==typeof t[i]&&this.off(i,t[i]);if(s&&s.length)for(i=0,o=s.length;o>i;i++)if(t=s[i].toLowerCase().replace(/^on/,""),r=l[t],r&&r.length)if(e)for(n=r.indexOf(e);-1!==n;)r.splice(n,1),n=r.indexOf(e,n);else r.length=0;return this},ne=function(t){var e=null,i=Qt[this.id]&&Qt[this.id].handlers;return i&&(e="string"==typeof t&&t?i[t]?i[t].slice(0):[]:D(i)),e},se=function(t){if(ce.call(this,t)){"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(t=E({},t));var e=E({},mt(t),{client:this});de.call(this,e)}return this},re=function(t){if(!Qt[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");t=ue(t);for(var e=0;e<t.length;e++)if(S.call(t,e)&&t[e]&&1===t[e].nodeType){t[e].zcClippingId?-1===Jt[t[e].zcClippingId].indexOf(this.id)&&Jt[t[e].zcClippingId].push(this.id):(t[e].zcClippingId="zcClippingId_"+Zt++,Jt[t[e].zcClippingId]=[this.id],J.autoActivate===!0&&fe(t[e]));var i=Qt[this.id]&&Qt[this.id].elements;-1===i.indexOf(t[e])&&i.push(t[e])}return this},ae=function(t){var e=Qt[this.id];if(!e)return this;var i,o=e.elements;t="undefined"==typeof t?o.slice(0):ue(t);for(var n=t.length;n--;)if(S.call(t,n)&&t[n]&&1===t[n].nodeType){for(i=0;-1!==(i=o.indexOf(t[n],i));)o.splice(i,1);var s=Jt[t[n].zcClippingId];if(s){for(i=0;-1!==(i=s.indexOf(this.id,i));)s.splice(i,1);0===s.length&&(J.autoActivate===!0&&pe(t[n]),delete t[n].zcClippingId)}}return this},le=function(){var t=Qt[this.id];return t&&t.elements?t.elements.slice(0):[]},he=function(){Qt[this.id]&&(this.unclip(),this.off(),delete Qt[this.id])},ce=function(t){if(!t||!t.type)return!1;if(t.client&&t.client!==this)return!1;var e=Qt[this.id],i=e&&e.elements,o=!!i&&i.length>0,n=!t.target||o&&-1!==i.indexOf(t.target),s=t.relatedTarget&&o&&-1!==i.indexOf(t.relatedTarget),r=t.client&&t.client===this;return!(!e||!(n||s||r))},de=function(t){var e=Qt[this.id];if("object"==typeof t&&t&&t.type&&e){var i=yt(t),o=e&&e.handlers["*"]||[],n=e&&e.handlers[t.type]||[],s=o.concat(n);if(s&&s.length){var r,l,h,c,d,u=this;for(r=0,l=s.length;l>r;r++)h=s[r],c=u,"string"==typeof h&&"function"==typeof a[h]&&(h=a[h]),"object"==typeof h&&h&&"function"==typeof h.handleEvent&&(c=h,h=h.handleEvent),"function"==typeof h&&(d=E({},t),wt(h,c,[d],i))}}},ue=function(t){return"string"==typeof t&&(t=[]),"number"!=typeof t.length?[t]:t},fe=function(t){if(t&&1===t.nodeType){var e=function(t){(t||(t=a.event))&&("js"!==t._source&&(t.stopImmediatePropagation(),t.preventDefault()),delete t._source)},i=function(i){(i||(i=a.event))&&(e(i),Xt.focus(t))};t.addEventListener("mouseover",i,!1),t.addEventListener("mouseout",e,!1),t.addEventListener("mouseenter",e,!1),t.addEventListener("mouseleave",e,!1),t.addEventListener("mousemove",e,!1),te[t.zcClippingId]={mouseover:i,mouseout:e,mouseenter:e,mouseleave:e,mousemove:e}}},pe=function(t){if(t&&1===t.nodeType){var e=te[t.zcClippingId];if("object"==typeof e&&e){for(var i,o,n=["move","leave","enter","out","over"],s=0,r=n.length;r>s;s++)i="mouse"+n[s],o=e[i],"function"==typeof o&&t.removeEventListener(i,o,!1);delete te[t.zcClippingId]}}};Xt._createClient=function(){ee.apply(this,R(arguments))},Xt.prototype.on=function(){return ie.apply(this,R(arguments))},Xt.prototype.off=function(){return oe.apply(this,R(arguments))},Xt.prototype.handlers=function(){return ne.apply(this,R(arguments))},Xt.prototype.emit=function(){return se.apply(this,R(arguments))},Xt.prototype.clip=function(){return re.apply(this,R(arguments))},Xt.prototype.unclip=function(){return ae.apply(this,R(arguments))},Xt.prototype.elements=function(){return le.apply(this,R(arguments))},Xt.prototype.destroy=function(){return he.apply(this,R(arguments))},Xt.prototype.setText=function(t){if(!Qt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.setData("text/plain",t),this},Xt.prototype.setHtml=function(t){if(!Qt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.setData("text/html",t),this},Xt.prototype.setRichText=function(t){if(!Qt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.setData("application/rtf",t),this},Xt.prototype.setData=function(){if(!Qt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.setData.apply(this,R(arguments)),this},Xt.prototype.clearData=function(){if(!Qt[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.clearData.apply(this,R(arguments)),this},Xt.prototype.getData=function(){if(!Qt[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Xt.getData.apply(this,R(arguments))},"function"==typeof t&&t.amd?t(function(){return Xt}):"object"==typeof i&&i&&"object"==typeof i.exports&&i.exports?i.exports=Xt:e.ZeroClipboard=Xt}(function(){return this||window}())},{}]},{},[23,47,48,49,65,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,66,67,68,69,86,87,88,72,73,74,75,76,77,31,35,32,33,40,34,36,37,38,39])("zeroclipboard")});var hotable=new Shiny.InputBinding;$.extend(hotable,{find:function(t){return $(t).find(".hotable")},getValue:function(t){var e=$(t).handsontable("getInstance");if(null==e)return null;var i=e.getData();return ht2=i,{colHeaders:e.getColHeader(),data:i}},setValue:function(t,e){},subscribe:function(t,e){$(t).on("afterChange",function(t){e()})},unsubscribe:function(t){$(t).off(".hotable")}}),Shiny.inputBindings.register(hotable);var hotableOutput=new Shiny.OutputBinding;if($.extend(hotableOutput,{find:function(t){return $(t).find(".hotable")},renderValue:function(t,e){if(null!==e&&e.hasOwnProperty("data")){$(t).handsontable({columns:e.columns,manualColumnResize:!0,minSpareRows:0,colHeaders:e.colHeaders,handlebar:!1,fixedColumnsLeft:e.fixedCols,stretchH:e.stretched,columnSorting:!0});var i=$(t).handsontable("getInstance"),o=e.data,n=e.colHeaders,s=[];if("object"==typeof o[n[0]])for(var r=o[n[0]].length,a=0;r>a;a++){var l=[];n.map(function(t){l.push(o[t][a])}),s.push(l)}else{var r=1,l=[];n.map(function(t){l.push(o[t])}),s=[l]}i.loadData(s),i.addHook("afterChange",function(){$(t).trigger("afterChange")}),$(t).trigger("afterChange")}}}),Shiny.outputBindings.register(hotableOutput,"hotable"),function(t,e,i,o,n){var s=0,r=function(){var e=o.userAgent,i=/msie\s\d+/i;return 0<e.search(i)&&(e=i.exec(e).toString(),e=e.split(" ")[1],9>e)?(t("html").addClass("lt-ie9"),!0):!1}();Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=[].slice;if("function"!=typeof e)throw new TypeError;var o=i.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var s=new s,r=e.apply(s,o.concat(i.call(arguments)));return Object(r)===r?r:s}return e.apply(t,o.concat(i.call(arguments)))};return n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),n=o.length>>>0;if(0===n)return-1;if(i=+e||0,1/0===Math.abs(i)&&(i=0),i>=n)return-1;for(i=Math.max(i>=0?i:n-Math.abs(i),0);n>i;){if(i in o&&o[i]===t)return i;i++}return-1});var a=function(o,n,s){this.VERSION="2.1.1",this.input=o,this.plugin_count=s,this.old_to=this.old_from=this.update_tm=this.calc_count=this.current_plugin=0,this.raf_id=this.old_min_interval=null,this.is_update=this.is_key=this.no_diapason=this.force_redraw=this.dragging=!1,this.is_start=!0,this.is_click=this.is_resize=this.is_active=this.is_finish=!1,this.$cache={win:t(i),body:t(e.body),input:t(o),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var r=this.$cache.input;o=r.prop("value");var a;s={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!1,keyboard_step:5,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:"  ",input_values_separator:";",disable:!1,onStart:null,onChange:null,onFinish:null,onUpdate:null},r={type:r.data("type"),min:r.data("min"),max:r.data("max"),from:r.data("from"),to:r.data("to"),step:r.data("step"),min_interval:r.data("minInterval"),max_interval:r.data("maxInterval"),drag_interval:r.data("dragInterval"),values:r.data("values"),from_fixed:r.data("fromFixed"),from_min:r.data("fromMin"),from_max:r.data("fromMax"),from_shadow:r.data("fromShadow"),to_fixed:r.data("toFixed"),to_min:r.data("toMin"),to_max:r.data("toMax"),to_shadow:r.data("toShadow"),prettify_enabled:r.data("prettifyEnabled"),prettify_separator:r.data("prettifySeparator"),force_edges:r.data("forceEdges"),keyboard:r.data("keyboard"),keyboard_step:r.data("keyboardStep"),grid:r.data("grid"),grid_margin:r.data("gridMargin"),grid_num:r.data("gridNum"),grid_snap:r.data("gridSnap"),
hide_min_max:r.data("hideMinMax"),hide_from_to:r.data("hideFromTo"),prefix:r.data("prefix"),postfix:r.data("postfix"),max_postfix:r.data("maxPostfix"),decorate_both:r.data("decorateBoth"),values_separator:r.data("valuesSeparator"),input_values_separator:r.data("inputValuesSeparator"),disable:r.data("disable")},r.values=r.values&&r.values.split(",");for(a in r)r.hasOwnProperty(a)&&(r[a]||delete r[a]);o&&(o=o.split(r.input_values_separator||n.input_values_separator||";"),o[0]&&o[0]==+o[0]&&(o[0]=+o[0]),o[1]&&o[1]==+o[1]&&(o[1]=+o[1]),n&&n.values&&n.values.length?(s.from=o[0]&&n.values.indexOf(o[0]),s.to=o[1]&&n.values.indexOf(o[1])):(s.from=o[0]&&+o[0],s.to=o[1]&&+o[1])),t.extend(s,n),t.extend(s,r),this.options=s,this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};a.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){this.$cache.input.before('<span class="irs js-irs-'+this.plugin_count+'"></span>'),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.cont.removeClass("irs-disabled"),this.$cache.input[0].disabled=!1,this.bindEvents()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.max,e=this.options.to;this.options.from>this.options.min&&e===t?this.$cache.s_from.addClass("type_last"):t>e&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),r&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),r&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerMove:function(t){this.dragging&&(this.coords.x_pointer=(t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX)-this.coords.x_gap,this.calc())},pointerUp:function(e){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,this.dragging=!1,r&&t("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),t.contains(this.$cache.cont[0],e.target)||this.dragging)&&(this.is_finish=!0,this.callOnFinish())},pointerDown:function(e,i){i.preventDefault();var o=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===e&&this.setTempMinInterval(),this.current_plugin=this.plugin_count,this.target=e,this.dragging=this.is_active=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=o-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(e),r&&t("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,e=t?e+this.options.keyboard_step:e-this.options.keyboard_step;this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){this.options&&(this.options.hide_min_max?(this.$cache.min[0].style.display="none",this.$cache.max[0].style.display="none"):(this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)))},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,(10===this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){switch(this.calcPointerPercent(),t=this.getHandleX(),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,t=this.getHandleX(),this.target=this.options.drag_interval?"both_one":this.chooseHandle(t)),this.target){case"base":var e=(this.options.max-this.options.min)/100;t=(this.result.from-this.options.min)/e,e=(this.result.to-this.options.min)/e,this.coords.p_single_real=this.toFixed(t),this.coords.p_from_real=this.toFixed(t),this.coords.p_to_real=this.toFixed(e),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(t),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(t),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(t),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;t=this.toFixed(t+.1*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(t)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(t)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var i=this.convertToRealPercent(t);t=this.result.to_percent-this.result.from_percent;var o=t/2,e=i-o,i=i+o;0>e&&(e=0,i=e+t),i>100&&(i=100,e=i-t),this.coords.p_from_real=this.calcWithStep(e),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(i),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(0>this.coords.x_pointer||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return 0>e?e=0:e>t&&(e=t),e},calcHandlePercent:function(){this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":t>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to)),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||this.$cache.input.trigger("change"),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_click=this.is_key=!1,this.callOnFinish()),this.is_finish=this.is_resize=this.is_update=!1),this.force_redraw=this.is_click=this.is_key=this.is_start=!1))},drawLabels:function(){if(this.options){var t,e=this.options.values.length,i=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)e=e?this.decorate(i[this.result.from]):this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(e),this.calcLabels(),this.$cache.min[0].style.visibility=this.labels.p_single_left<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?"hidden":"visible";else{e?(this.options.decorate_both?(e=this.decorate(i[this.result.from]),e+=this.options.values_separator,e+=this.decorate(i[this.result.to])):e=this.decorate(i[this.result.from]+this.options.values_separator+i[this.result.to]),t=this.decorate(i[this.result.from]),i=this.decorate(i[this.result.to])):(this.options.decorate_both?(e=this.decorate(this._prettify(this.result.from),this.result.from),e+=this.options.values_separator,e+=this.decorate(this._prettify(this.result.to),this.result.to)):e=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to),t=this.decorate(this._prettify(this.result.from),this.result.from),i=this.decorate(this._prettify(this.result.to),this.result.to)),this.$cache.single.html(e),this.$cache.from.html(t),this.$cache.to.html(i),this.calcLabels(),i=Math.min(this.labels.p_single_left,this.labels.p_from_left),e=this.labels.p_single_left+this.labels.p_single_fake,t=this.labels.p_to_left+this.labels.p_to_fake;var o=Math.max(e,t);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?(this.$cache.from[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden",o=t):(this.$cache.from[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",o=Math.max(e,t))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),this.$cache.min[0].style.visibility=i<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=o>100-this.labels.p_max-1?"hidden":"visible"}}},drawShadow:function(){var t=this.options,e=this.$cache,i="number"==typeof t.from_min&&!isNaN(t.from_min),o="number"==typeof t.from_max&&!isNaN(t.from_max),n="number"==typeof t.to_min&&!isNaN(t.to_min),s="number"==typeof t.to_max&&!isNaN(t.to_max);"single"===t.type?t.from_shadow&&(i||o)?(i=this.convertToPercent(i?t.from_min:t.min),o=this.convertToPercent(o?t.from_max:t.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),o=this.toFixed(o-this.coords.p_handle/100*o),i+=this.coords.p_handle/2,e.shad_single[0].style.display="block",e.shad_single[0].style.left=i+"%",e.shad_single[0].style.width=o+"%"):e.shad_single[0].style.display="none":(t.from_shadow&&(i||o)?(i=this.convertToPercent(i?t.from_min:t.min),o=this.convertToPercent(o?t.from_max:t.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),o=this.toFixed(o-this.coords.p_handle/100*o),i+=this.coords.p_handle/2,e.shad_from[0].style.display="block",e.shad_from[0].style.left=i+"%",e.shad_from[0].style.width=o+"%"):e.shad_from[0].style.display="none",t.to_shadow&&(n||s)?(n=this.convertToPercent(n?t.to_min:t.min),t=this.convertToPercent(s?t.to_max:t.max)-n,n=this.toFixed(n-this.coords.p_handle/100*n),t=this.toFixed(t-this.coords.p_handle/100*t),n+=this.coords.p_handle/2,e.shad_to[0].style.display="block",e.shad_to[0].style.left=n+"%",e.shad_to[0].style.width=t+"%"):e.shad_to[0].style.display="none")},callOnStart:function(){this.options.onStart&&"function"==typeof this.options.onStart&&this.options.onStart(this.result)},callOnChange:function(){this.options.onChange&&"function"==typeof this.options.onChange&&this.options.onChange(this.result)},callOnFinish:function(){this.options.onFinish&&"function"==typeof this.options.onFinish&&this.options.onFinish(this.result)},callOnUpdate:function(){this.options.onUpdate&&"function"==typeof this.options.onUpdate&&this.options.onUpdate(this.result)},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},convertToPercent:function(t,e){var i=this.options.max-this.options.min;return i?this.toFixed((e?t:t-this.options.min)/(i/100)):(this.no_diapason=!0,0)},convertToValue:function(t){var e,i,o=this.options.min,n=this.options.max,s=o.toString().split(".")[1],r=n.toString().split(".")[1],a=0,l=0;return 0===t?this.options.min:100===t?this.options.max:(s&&(a=e=s.length),r&&(a=i=r.length),e&&i&&(a=e>=i?e:i),0>o&&(l=Math.abs(o),o=+(o+l).toFixed(a),n=+(n+l).toFixed(a)),t=(n-o)/100*t+o,(o=this.options.step.toString().split(".")[1])?t=+t.toFixed(o.length):(t/=this.options.step,t*=this.options.step,t=+t.toFixed(0)),l&&(t-=l),l=o?+t.toFixed(o.length):this.toFixed(t),l<this.options.min?l=this.options.min:l>this.options.max&&(l=this.options.max),l)},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return e>100&&(e=100),100===t&&(e=100),this.toFixed(e)},checkMinInterval:function(t,e,i){var o=this.options;return o.min_interval?(t=this.convertToValue(t),e=this.convertToValue(e),"from"===i?e-t<o.min_interval&&(t=e-o.min_interval):t-e<o.min_interval&&(t=e+o.min_interval),this.convertToPercent(t)):t},checkMaxInterval:function(t,e,i){var o=this.options;return o.max_interval?(t=this.convertToValue(t),e=this.convertToValue(e),"from"===i?e-t>o.max_interval&&(t=e-o.max_interval):t-e>o.max_interval&&(t=e+o.max_interval),this.convertToPercent(t)):t},checkDiapason:function(t,e,i){t=this.convertToValue(t);var o=this.options;return"number"!=typeof e&&(e=o.min),"number"!=typeof i&&(i=o.max),e>t&&(t=e),t>i&&(t=i),this.convertToPercent(t)},toFixed:function(t){return t=t.toFixed(9),+t},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges?(0>t?t=0:t>100-e&&(t=100-e),this.toFixed(t)):this.toFixed(t)},validate:function(){var t,e,i=this.options,o=this.result,n=i.values,s=n.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.keyboard_step&&(i.keyboard_step=+i.keyboard_step),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),s)for(i.p_values=[],i.min=0,i.max=s-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,e=0;s>e;e++)t=+n[e],isNaN(t)?t=n[e]:(n[e]=t,t=this._prettify(t)),i.p_values.push(t);("number"!=typeof i.from||isNaN(i.from))&&(i.from=i.min),("number"!=typeof i.to||isNaN(i.from))&&(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):((i.from<i.min||i.from>i.max)&&(i.from=i.min),(i.to>i.max||i.to<i.min)&&(i.to=i.max),i.from>i.to&&(i.from=i.to)),("number"!=typeof i.step||isNaN(i.step)||!i.step||0>i.step)&&(i.step=1),("number"!=typeof i.keyboard_step||isNaN(i.keyboard_step)||!i.keyboard_step||0>i.keyboard_step)&&(i.keyboard_step=5),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),o&&(o.min!==i.min&&(o.min=i.min),o.max!==i.max&&(o.max=i.max),(o.from<o.min||o.from>o.max)&&(o.from=i.from),(o.to<o.min||o.to>o.max)&&(o.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||0>i.min_interval)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||0>i.max_interval)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(t,e){var i="",o=this.options;return o.prefix&&(i+=o.prefix),i+=t,o.max_postfix&&(o.values.length&&t===o.p_values[o.max]?(i+=o.max_postfix,o.postfix&&(i+=" ")):e===o.max&&(i+=o.max_postfix,o.postfix&&(i+=" "))),o.postfix&&(i+=o.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,e,i=this.options;t=i.max-i.min;var o,n,s=i.grid_num,r=0,a=0,l=4,h=0,c="";for(this.calcGridMargin(),i.grid_snap?(s=t/i.step,r=this.toFixed(i.step/(t/100))):r=this.toFixed(100/s),s>4&&(l=3),s>7&&(l=2),s>14&&(l=1),s>28&&(l=0),t=0;s+1>t;t++){for(o=l,a=this.toFixed(r*t),a>100&&(a=100,o-=2,0>o&&(o=0)),this.coords.big[t]=a,n=(a-r*(t-1))/(o+1),e=1;o>=e&&0!==a;e++)h=this.toFixed(a-n*e),c+='<span class="irs-grid-pol small" style="left: '+h+'%"></span>';c+='<span class="irs-grid-pol" style="left: '+a+'%"></span>',h=this.convertToValue(a),h=i.values.length?i.p_values[h]:this._prettify(h),c+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+a+'%">'+h+"</span>"}this.coords.big_num=Math.ceil(s+1),this.$cache.cont.addClass("irs-with-grid"),
this.$cache.grid.html(c),this.cacheGridLabels()}},cacheGridLabels:function(){var t,e,i=this.coords.big_num;for(e=0;i>e;e++)t=this.$cache.grid.find(".js-grid-text-"+e),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,e;e=[];var i=[],o=this.coords.big_num;for(t=0;o>t;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),e[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),i[t]=this.toFixed(e[t]+this.coords.big_p[t]);for(this.options.force_edges&&(e[0]<-this.coords.grid_gap&&(e[0]=-this.coords.grid_gap,i[0]=this.toFixed(e[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),i[o-1]>100+this.coords.grid_gap&&(i[o-1]=100+this.coords.grid_gap,e[o-1]=this.toFixed(i[o-1]-this.coords.big_p[o-1]),this.coords.big_x[o-1]=this.toFixed(this.coords.big_p[o-1]-this.coords.grid_gap))),this.calcGridCollision(2,e,i),this.calcGridCollision(4,e,i),t=0;o>t;t++)e=this.$cache.grid_labels[t][0],e.style.marginLeft=-this.coords.big_x[t]+"%"},calcGridCollision:function(t,e,i){var o,n,s,r=this.coords.big_num;for(o=0;r>o&&(n=o+t/2,!(n>=r));o+=t)s=this.$cache.grid_labels[n][0],s.style.visibility=i[o]<=e[n]?"visible":"hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(e){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.options=t.extend(this.options,e),this.validate(),this.updateResult(e),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),t.data(this.input,"ionRangeSlider",null),this.remove(),this.options=this.input=null)}},t.fn.ionRangeSlider=function(e){return this.each(function(){t.data(this,"ionRangeSlider")||t.data(this,"ionRangeSlider",new a(this,e,s++))})},function(){for(var t=0,e=["ms","moz","webkit","o"],o=0;o<e.length&&!i.requestAnimationFrame;++o)i.requestAnimationFrame=i[e[o]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[e[o]+"CancelAnimationFrame"]||i[e[o]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(e,o){var n=(new Date).getTime(),s=Math.max(0,16-(n-t)),r=i.setTimeout(function(){e(n+s)},s);return t=n+s,r}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(t){clearTimeout(t)})}()}(jQuery,document,window,navigator),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.5",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){r.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var r=t(s);e&&e.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof e&&e;n||o.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.5",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",null==s.resetText&&o.data("resetText",o[n]()),setTimeout(t.proxy(function(){o[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),r="string"==typeof e?e:s.slide;n||o.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):r?n[r]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),o="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(o&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),s=o||this.getItemForDirection(e,n),r=this.interval,a="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],c=t.Event("slide.bs.carousel",{relatedTarget:h,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(s)]);d&&d.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:h,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(a),s.addClass(a),n.one("bsTransitionEnd",function(){s.removeClass([e,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),s=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var r=t.extend({},s.data(),n.data()),a=n.attr("data-slide-to");a&&(r.interval=!1),e.call(s,r),a&&s.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),n||i.data("bs.collapse",n=new o(this,s)),"string"==typeof e&&n[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.5",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[r](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION):n.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var n=t(o);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var n=t(this);n.attr("data-target")||o.preventDefault();var s=e(n),r=s.data("bs.collapse"),a=r?"toggle":n.data();i.call(s,a)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function i(i){i&&3===i.which||(t(n).remove(),t(s).each(function(){var o=t(this),n=e(o),s={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(o.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",s))))}))}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new r(this)),"string"==typeof e&&o[e].call(i)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.5",r.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=e(n),r=s.hasClass("open");if(i(),!r){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",a)),o.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},r.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var o=t(this);if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var n=e(o),r=n.hasClass("open");if(!r&&27!=i.which||r&&27==i.which)return 27==i.which&&n.find(s).trigger("focus"),o.trigger("click");var a=" li:not(.disabled):visible a",l=n.find(".dropdown-menu"+a);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,r.prototype.toggle).on("keydown.bs.dropdown.data-api",s,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,r)),"string"==typeof e?s[e](o):r.show&&s.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),n=o.attr("href"),s=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),o.data());o.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(s,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var r=n[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),r=this.getUID(this.type);this.setContent(),s.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(a);h&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),d=s[0].offsetWidth,u=s[0].offsetHeight;if(h){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+u>p.bottom?"top":"top"==a&&c.top-u<p.top?"bottom":"right"==a&&c.right+d>p.width?"left":"left"==a&&c.left-d<p.left?"right":a,s.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,c,d,u);this.applyPlacement(g,a);var m=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,r=parseInt(o.css("margin-top"),10),a=parseInt(o.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top+=r,e.left+=a,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var c=this.getViewportAdjustedDelta(i,e,l,h);c.left?e.left+=c.left:e.top+=c.top;var d=/top|bottom/.test(i),u=d?2*c.left-n+l:2*c.top-s+h,f=d?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(u,o[0][f],d)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=o?{top:0,left:0}:e.offset(),r={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,r,a,s)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-s-r.scroll,l=e.top+s-r.scroll+o;a<r.top?n.top=r.top-a:l>r.top+r.height&&(n.top=r.top+r.height-l)}else{var h=e.left-s,c=e.left+s+i;h<r.left?n.left=r.left-h:c>r.right&&(n.left=r.left+r.width-c)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.popover",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.5",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(i,o){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.5",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[i]().top+o,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return r!=(t=s[s.length-1])&&this.activate(t);if(r&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)r!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),r=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(r),!r.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=t(o);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=o.find("> .active"),a=n&&t.support.transition&&(r.length&&r.hasClass("fade")||!!o.find("> .fade").length);r.length&&a?r.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),r.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof e&&e;n||o.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.5",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),r=this.$target.height();if(null!=i&&"top"==this.affixed)return i>n?"top":!1;if("bottom"==this.affixed)return null!=i?n+this.unpin<=s.top?!1:"bottom":t-o>=n+r?!1:"bottom";var a=null==this.affixed,l=a?n:s.top,h=a?r:e;return null!=i&&i>=n?"top":null!=o&&l+h>=t-o?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,r=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var a=this.getState(r,e,n,s);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:r-e-s})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery),!function(t,e){var i,o;return o=e.document,i=function(){function i(i){var o;try{o=e.localStorage}catch(n){o=!1}this._options=t.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:o,debug:!1,backdrop:!1,backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-default" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-default" data-role="end">End tour</button> </div> </div>',afterSetState:function(){},afterGetState:function(){},afterRemoveState:function(){},onStart:function(){},onEnd:function(){},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNext:function(){},onPrev:function(){},onPause:function(){},onResume:function(){}},i),this._force=!1,this._inited=!1,this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:!1,overlayElementShown:!1}}return i.prototype.addSteps=function(t){var e,i,o;for(i=0,o=t.length;o>i;i++)e=t[i],this.addStep(e);return this},i.prototype.addStep=function(t){return this._options.steps.push(t),this},i.prototype.getStep=function(e){return null!=this._options.steps[e]?t.extend({id:"step-"+e,path:"",placement:"right",title:"",content:"<p></p>",next:e===this._options.steps.length-1?-1:e+1,prev:e-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume},this._options.steps[e]):void 0},i.prototype.init=function(t){return this._force=t,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize(function(t){return function(){return t.showStep(t._current)}}(this)),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},i.prototype.start=function(t){var e;return null==t&&(t=!1),this._inited||this.init(t),null===this._current&&(e=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(e,this.showStep,0)),this},i.prototype.next=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this._showNextStep)},i.prototype.prev=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this._showPrevStep)},i.prototype.goTo=function(t){var e;return e=this.hideStep(this._current),this._callOnPromiseDone(e,this.showStep,t)},i.prototype.end=function(){var i,n;return i=function(i){return function(){return t(o).off("click.tour-"+i._options.name),t(o).off("keyup.tour-"+i._options.name),t(e).off("resize.tour-"+i._options.name),i._setState("end","yes"),i._inited=!1,i._force=!1,i._clearTimer(),null!=i._options.onEnd?i._options.onEnd(i):void 0}}(this),n=this.hideStep(this._current),this._callOnPromiseDone(n,i)},i.prototype.ended=function(){return!this._force&&!!this._getState("end")},i.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this.start()},i.prototype.pause=function(){var t;return t=this.getStep(this._current),t&&t.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,e.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=t.onPause?t.onPause(this,this._duration):void 0):this},i.prototype.resume=function(){var t;return t=this.getStep(this._current),t&&t.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||t.duration,this._timer=e.setTimeout(function(t){return function(){return t._isLast()?t.next():t.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=t.onResume&&this._duration!==t.duration?t.onResume(this,this._duration):void 0):this},i.prototype.hideStep=function(e){var i,o,n;return(n=this.getStep(e))?(this._clearTimer(),o=this._makePromise(null!=n.onHide?n.onHide(this,e):void 0),i=function(i){return function(){var o;return o=t(n.element),o.data("bs.popover")||o.data("popover")||(o=t("body")),o.popover("destroy").removeClass("tour-"+i._options.name+"-element tour-"+i._options.name+"-"+e+"-element"),n.reflex&&o.removeClass("tour-step-element-reflex").off(""+i._reflexEvent(n.reflex)+".tour-"+i._options.name),n.backdrop&&i._hideBackdrop(),null!=n.onHidden?n.onHidden(i):void 0}}(this),this._callOnPromiseDone(o,i),o):void 0},i.prototype.showStep=function(t){var i,n,s,r;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(r=this.getStep(t))?(s=t<this._current,i=this._makePromise(null!=r.onShow?r.onShow(this,t):void 0),n=function(e){return function(){var i,n,a;if(e.setCurrentStep(t),n=function(){switch({}.toString.call(r.path)){case"[object Function]":return r.path();case"[object String]":return this._options.basePath+r.path;default:return r.path}}.call(e),i=[o.location.pathname,o.location.hash].join(""),e._isRedirect(n,i))return void e._redirect(r,n);if(e._isOrphan(r)){if(!r.orphan)return e._debug("Skip the orphan step "+(e._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),void(s?e._showPrevStep():e._showNextStep());e._debug("Show the orphan step "+(e._current+1)+". Orphans option is true.")}return r.backdrop&&e._showBackdrop(e._isOrphan(r)?void 0:r.element),a=function(){return e.getCurrentStep()===t?(null!=r.element&&r.backdrop&&e._showOverlayElement(r),e._showPopover(r,t),null!=r.onShown&&r.onShown(e),e._debug("Step "+(e._current+1)+" of "+e._options.steps.length)):void 0},r.autoscroll?e._scrollIntoView(r.element,a):a(),r.duration?e.resume():void 0}}(this),r.delay?(this._debug("Wait "+r.delay+" milliseconds to show the step "+(this._current+1)),e.setTimeout(function(t){return function(){return t._callOnPromiseDone(i,n)}}(this),r.delay)):this._callOnPromiseDone(i,n),i):void 0},i.prototype.getCurrentStep=function(){return this._current},i.prototype.setCurrentStep=function(t){return null!=t?(this._current=t,this._setState("current_step",t)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},i.prototype._setState=function(t,e){var i,o;if(this._options.storage){o=""+this._options.name+"_"+t;try{this._options.storage.setItem(o,e)}catch(n){i=n,i.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(o,e)}return null==this._state&&(this._state={}),this._state[t]=e},i.prototype._removeState=function(t){var e;return this._options.storage?(e=""+this._options.name+"_"+t,this._options.storage.removeItem(e),this._options.afterRemoveState(e)):null!=this._state?delete this._state[t]:void 0},i.prototype._getState=function(t){var e,i;return this._options.storage?(e=""+this._options.name+"_"+t,i=this._options.storage.getItem(e)):null!=this._state&&(i=this._state[t]),(void 0===i||"null"===i)&&(i=null),this._options.afterGetState(t,i),i},i.prototype._showNextStep=function(){var t,e,i;return i=this.getStep(this._current),e=function(t){return function(){return t.showStep(i.next)}}(this),t=this._makePromise(null!=i.onNext?i.onNext(this):void 0),this._callOnPromiseDone(t,e)},i.prototype._showPrevStep=function(){var t,e,i;return i=this.getStep(this._current),e=function(t){return function(){return t.showStep(i.prev)}}(this),t=this._makePromise(null!=i.onPrev?i.onPrev(this):void 0),this._callOnPromiseDone(t,e)},i.prototype._debug=function(t){return this._options.debug?e.console.log("Bootstrap Tour '"+this._options.name+"' | "+t):void 0},i.prototype._isRedirect=function(t,e){return null!=t&&""!==t&&("[object RegExp]"==={}.toString.call(t)&&!t.test(e)||"[object String]"==={}.toString.call(t)&&t.replace(/\?.*$/,"").replace(/\/?$/,"")!==e.replace(/\/?$/,""))},i.prototype._redirect=function(e,i){return t.isFunction(e.redirect)?e.redirect.call(this,i):e.redirect===!0?(this._debug("Redirect to "+i),o.location.href=i):void 0},i.prototype._isOrphan=function(e){return null==e.element||!t(e.element).length||t(e.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==t(e.element)[0].namespaceURI},i.prototype._isLast=function(){return this._current<this._options.steps.length-1},i.prototype._showPopover=function(e,i){var o,n,s,r;return t(".tour-"+this._options.name).remove(),r=t.extend({},this._options),s=this._isOrphan(e),e.template=this._template(e,i),s&&(e.element="body",e.placement="top"),o=t(e.element),o.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+i+"-element"),e.options&&t.extend(r,e.options),e.reflex&&!s&&(o.addClass("tour-step-element-reflex"),o.off(""+this._reflexEvent(e.reflex)+".tour-"+this._options.name),o.on(""+this._reflexEvent(e.reflex)+".tour-"+this._options.name,function(t){return function(){return t._isLast()?t.next():t.end()}}(this))),o.popover({placement:e.placement,trigger:"manual",title:e.title,content:e.content,html:!0,animation:e.animation,container:e.container,template:e.template,selector:e.element}).popover("show"),n=o.data("bs.popover")?o.data("bs.popover").tip():o.data("popover").tip(),n.attr("id",e.id),this._reposition(n,e),s?this._center(n):void 0},i.prototype._template=function(e,i){var o,n,s,r,a;return a=t(t.isFunction(e.template)?e.template(i,e):e.template),o=a.find(".popover-navigation"),s=o.find('[data-role="prev"]'),n=o.find('[data-role="next"]'),r=o.find('[data-role="pause-resume"]'),this._isOrphan(e)&&a.addClass("orphan"),a.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+i),e.prev<0&&s.addClass("disabled"),e.next<0&&n.addClass("disabled"),e.duration||r.remove(),a.clone().wrap("<div>").parent().html()},i.prototype._reflexEvent=function(t){return"[object Boolean]"==={}.toString.call(t)?"click":t},i.prototype._reposition=function(e,i){var n,s,r,a,l,h,c;if(a=e[0].offsetWidth,s=e[0].offsetHeight,c=e.offset(),l=c.left,h=c.top,n=t(o).outerHeight()-c.top-e.outerHeight(),0>n&&(c.top=c.top+n),r=t("html").outerWidth()-c.left-e.outerWidth(),0>r&&(c.left=c.left+r),c.top<0&&(c.top=0),c.left<0&&(c.left=0),e.offset(c),"bottom"===i.placement||"top"===i.placement){if(l!==c.left)return this._replaceArrow(e,2*(c.left-l),a,"left")}else if(h!==c.top)return this._replaceArrow(e,2*(c.top-h),s,"top")},i.prototype._center=function(i){return i.css("top",t(e).outerHeight()/2-i.outerHeight()/2)},i.prototype._replaceArrow=function(t,e,i,o){return t.find(".arrow").css(o,e?50*(1-e/i)+"%":"")},i.prototype._scrollIntoView=function(i,o){var n,s,r,a,l,h;return n=t(i),n.length?(s=t(e),a=n.offset().top,h=s.height(),l=Math.max(0,a-h/2),this._debug("Scroll into view. ScrollTop: "+l+". Element offset: "+a+". Window height: "+h+"."),r=0,t("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(l)},function(t){return function(){return 2===++r?(o(),t._debug("Scroll into view.\nAnimation end element offset: "+n.offset().top+".\nWindow height: "+s.height()+".")):void 0}}(this))):o()},i.prototype._onResize=function(i,o){return t(e).on("resize.tour-"+this._options.name,function(){return clearTimeout(o),o=setTimeout(i,100)})},i.prototype._initMouseNavigation=function(){var e;return e=this,t(o).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(t){return function(e){return e.preventDefault(),t.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(t){return function(e){return e.preventDefault(),t.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(t){return function(e){return e.preventDefault(),t.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(i){var o;return i.preventDefault(),o=t(this),o.text(e._paused?o.data("pause-text"):o.data("resume-text")),e._paused?e.resume():e.pause()})},i.prototype._initKeyboardNavigation=function(){return this._options.keyboard?t(o).on("keyup.tour-"+this._options.name,function(t){return function(e){if(e.which)switch(e.which){case 39:return e.preventDefault(),t._isLast()?t.next():t.end();case 37:if(e.preventDefault(),t._current>0)return t.prev();break;case 27:return e.preventDefault(),t.end()}}}(this)):void 0},i.prototype._makePromise=function(e){return e&&t.isFunction(e.then)?e:null},i.prototype._callOnPromiseDone=function(t,e,i){return t?t.then(function(t){return function(){return e.call(t,i)}}(this)):e.call(this,i)},i.prototype._showBackdrop=function(){return this.backdrop.backgroundShown?void 0:(this.backdrop=t("<div>",{"class":"tour-backdrop"}),this.backdrop.backgroundShown=!0,t("body").append(this.backdrop))},i.prototype._hideBackdrop=function(){return this._hideOverlayElement(),this._hideBackground()},i.prototype._hideBackground=function(){return this.backdrop?(this.backdrop.remove(),this.backdrop.overlay=null,this.backdrop.backgroundShown=!1):void 0},i.prototype._showOverlayElement=function(e){var i,o;return i=t(e.element),i&&0!==i.length&&!this.backdrop.overlayElementShown?(this.backdrop.overlayElementShown=!0,this.backdrop.$element=i.addClass("tour-step-backdrop"),this.backdrop.$background=t("<div>",{"class":"tour-step-background"}),o={width:i.innerWidth(),height:i.innerHeight(),offset:i.offset()},this.backdrop.$background.appendTo("body"),e.backdropPadding&&(o=this._applyBackdropPadding(e.backdropPadding,o)),this.backdrop.$background.width(o.width).height(o.height).offset(o.offset)):void 0},i.prototype._hideOverlayElement=function(){return this.backdrop.overlayElementShown?(this.backdrop.$element.removeClass("tour-step-backdrop"),this.backdrop.$background.remove(),this.backdrop.$element=null,this.backdrop.$background=null,this.backdrop.overlayElementShown=!1):void 0},i.prototype._applyBackdropPadding=function(t,e){return"object"==typeof t?(null==t.top&&(t.top=0),null==t.right&&(t.right=0),null==t.bottom&&(t.bottom=0),null==t.left&&(t.left=0),e.offset.top=e.offset.top-t.top,e.offset.left=e.offset.left-t.left,e.width=e.width+t.left+t.right,e.height=e.height+t.top+t.bottom):(e.offset.top=e.offset.top-t,e.offset.left=e.offset.left-t,e.width=e.width+2*t,e.height=e.height+2*t),e},i.prototype._clearTimer=function(){return e.clearTimeout(this._timer),this._timer=null,this._duration=null},i}(),e.Tour=i}(jQuery,window),Shiny.addCustomMessageHandler("jsonToObj",function(t){window[t.name]=JSON.parse(t.json)}),Shiny.addCustomMessageHandler("jsDebugMsg",function(t){console.log(t.msg)}),Shiny.addCustomMessageHandler("mxSetButonState",function(t){t.disable===!0?$("#"+t.id).addClass("btn-danger").removeClass("btn-default").removeClass("btn-warning").attr("disabled",!0):t.warming===!0?$("#"+t.id).addClass("btn-warning").removeClass("btn-default").removeClass("btn-danger").attr("disabled",!1):$("#"+t.id).addClass("btn-default").removeClass("btn-danger").removeClass("btn-warning").attr("disabled",!1)}),Shiny.addCustomMessageHandler("mxUiEnable",function(t){t.enable===!0?$(t.element).removeClass(t.classToRemove):$(t.element).addClass(t.classToRemove)}),Shiny.addCustomMessageHandler("mxRemoveEl",function(t){$(t.element).remove()}),Shiny.addCustomMessageHandler("mxUpdateValue",function(t){el=document.getElementById(t.id),el.value=t.val}),Shiny.addCustomMessageHandler("setStyle",function(t){mxSetStyle(t.group,t.style,t.layer,!1)}),Shiny.addCustomMessageHandler("setStyleDefault",function(t){leafletvtId[t.group].setStyle(defaultStyle)}),Shiny.addCustomMessageHandler("addCss",function(t){$("head").append("<link>");var e=$("head").children(":last");e.attr({rel:"stylesheet",type:"text/css",href:t})}),Shiny.addCustomMessageHandler("updateText",function(t){el=document.getElementById(t.id),"undefined"!=typeof el&&null!==el&&(el.innerHTML=b64_to_utf8(t.txt.toString()),t.addId&&setUniqueItemsId())}),Shiny.addCustomMessageHandler("mapUiUpdate",function(t){updateMapElement()}),LeafletWidget.methods.setZoomOptions=function(t,e){z=document.querySelector(".leaflet-control-zoom"),"undefined"!=typeof t&&("undefined"!=typeof z&&null!==z&&z.parentNode.removeChild(z),e||(zC=L.control.zoom(t),zC.addTo(this)))};var shinyCookieInputBinding=new Shiny.InputBinding;$.extend(shinyCookieInputBinding,{find:function(t){return $(t).find(".shinyCookies")},getValue:function(t){return readCookie()}}),Shiny.inputBindings.register(shinyCookieInputBinding),Shiny.addCustomMessageHandler("mxSetCookie",function(t){0===t.expiresInSec.length?exp=void 0:exp=t.expiresInSec,t.deleteAll&&(exp="01/01/2012",t.cookie=readCookie());for(var e in t.cookie)Cookies.set(e,t.cookie[e],{path:t.path,domain:t.domain,expires:exp});t.reload&&window.location.reload()}),Shiny.addCustomMessageHandler("updateChart",function(t){var e={labels:t.labels,datasets:[t.dataMain,t.dataComp]},i=document.getElementById(t.id).getContext("2d"),o=new Chart(i,{type:"radar",data:e}),n=o.generateLegend();$("#"+t.idLegend).html(function(){return n})}),jQuery(function(t){var e=new Shiny.InputBinding;t.extend(e,{find:function(e){return t(e).find('input[type="password"]')},getId:function(t){return Shiny.InputBinding.prototype.getId.call(this,t)||t.name},getValue:function(t){return t.value},setValue:function(t,e){t.value=e},subscribe:function(e,i){t(e).on("keyup.passwordInputBinding input.passwordInputBinding",function(t){i(!0)}),t(e).on("change.passwordInputBinding",function(t){i(!1)})},unsubscribe:function(e){t(e).off(".passwordInputBinding")},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(e,"shiny.passwordInput")}),jQuery(function(t){var e=new Shiny.InputBinding;t.extend(e,{find:function(e){return t(e).find(".mx-login-input")},getId:function(t){return Shiny.InputBinding.prototype.getId.call(this,t)||t.name},getValue:function(t){return t.value},setValue:function(t,e){t.value=e},subscribe:function(e,i){t(e).on("keyup.usernameInputBinding input.usernameInputBinding",function(t){i(!0)}),t(e).on("change.usernameInputBinding",function(t){i(!1)})},unsubscribe:function(e){t(e).off(".usernameInputBinding")},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(e,"shiny.usernameInput")});var hex_chr="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!=md5("hello");var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,i,o,n,s,r,a,l="",h=0;for(t=Base64._utf8_encode(t);h<t.length;)e=t.charCodeAt(h++),i=t.charCodeAt(h++),o=t.charCodeAt(h++),n=e>>2,s=(3&e)<<4|i>>4,r=(15&i)<<2|o>>6,a=63&o,isNaN(i)?r=a=64:isNaN(o)&&(a=64),l=l+this._keyStr.charAt(n)+this._keyStr.charAt(s)+this._keyStr.charAt(r)+this._keyStr.charAt(a);return l},decode:function(t){var e,i,o,n,s,r,a,l="",h=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<t.length;)n=this._keyStr.indexOf(t.charAt(h++)),s=this._keyStr.indexOf(t.charAt(h++)),r=this._keyStr.indexOf(t.charAt(h++)),a=this._keyStr.indexOf(t.charAt(h++)),e=n<<2|s>>4,i=(15&s)<<4|r>>2,o=(3&r)<<6|a,l+=String.fromCharCode(e),64!=r&&(l+=String.fromCharCode(i)),64!=a&&(l+=String.fromCharCode(o));return l=Base64._utf8_decode(l)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var o=t.charCodeAt(i);128>o?e+=String.fromCharCode(o):o>127&&2048>o?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},_utf8_decode:function(t){for(var e="",i=0,o=c1=c2=0;i<t.length;)o=t.charCodeAt(i),128>o?(e+=String.fromCharCode(o),i++):o>191&&224>o?(c2=t.charCodeAt(i+1),e+=String.fromCharCode((31&o)<<6|63&c2),i+=2):(c2=t.charCodeAt(i+1),c3=t.charCodeAt(i+2),e+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),i+=3);return e}},txt={};loc={navBar:{home:{eng:"Home screen",fre:"cran de dpart"},profil:{eng:"Authentication and profil",fre:"Authentification et profil "},country:{eng:"Country selection and statistics",fre:"Slection du pays et statistiques"},map:{eng:"Spatial analysis and web mapping",fre:"Analyse spatiale et cartographie interactive"},about:{eng:"About",fre:" propos"},admin:{eng:"Admin panel",fre:"Panneau d'administration"},contact:{eng:"Contact baseMap-x team",fre:"Contacter l'quipe baseMap-x"}},mapLeft:{lock:{eng:"Avoid scroll on left panel",fre:"Eviter le scroll sur le paneau de gauche"},hide:{eng:"Hide pannel",fre:"Masquer le paneau"},explorer:{eng:"Display the baseMap views explorer",fre:"Afficher l'explorateur de vues"},storyEdit:{eng:"Display story baseMap creator",fre:"Afficher le createur de story baseMap"},storyReader:{eng:"Display the story baseMap reader",fre:"Afficher le lecteur de story baseMap"},creator:{eng:"Add data and configure views",fre:"Ajouter des donnes et configurer les vues"},info:{eng:"Display info panel",fre:"Afficher le panneau d'information"},config:{eng:"Display general configuration panel",fre:"Afficher le panneau de configuration gnral "},toolbox:{eng:"Display spatial toolbox panel",fre:"Afficher la bote  outils spatiale"},draw:{eng:"Display the drawing toolbar",fre:"Afficher les outils de dessin"}},login:{title:{eng:"User authentication",fre:"Authentification de l'utilisateur"}}},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,o){var n,s,r,a=e.nodeName.toLowerCase();return"area"===a?(n=e.parentNode,s=n.name,e.href&&s&&"baseMap"===n.nodeName.toLowerCase()?(r=t("img[usemap='#"+s+"']")[0],!!r&&i(r)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||o:o)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),o="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);return o&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,o){return!!t.data(e,o[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var o=t.attr(i,"tabindex"),n=isNaN(o);return(n||o>=0)&&e(i,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function o(e,i,o,s){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,o&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){
return void 0===e?r["inner"+i].call(this):this.each(function(){t(this).css(s,o(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?r["outer"+i].call(this,e):this.each(function(){t(this).css(s,o(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,o){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),o&&o.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,o,n=t(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(o=parseInt(n.css("zIndex"),10),!isNaN(o)&&0!==o))return o;n=n.parent()}return 0}}),t.ui.plugin={add:function(e,i,o){var n,s=t.ui[e].prototype;for(n in o)s.plugins[n]=s.plugins[n]||[],s.plugins[n].push([i,o[n]])},call:function(t,e,i,o){var n,s=t.plugins[e];if(s&&(o||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;s.length>n;n++)t.options[s[n][0]]&&s[n][1].apply(t.element,i)}};var o=0,n=Array.prototype.slice;t.cleanData=function(e){return function(i){var o,n,s;for(s=0;null!=(n=i[s]);s++)try{o=t._data(n,"events"),o&&o.remove&&t(n).triggerHandler("remove")}catch(r){}e(i)}}(t.cleanData),t.widget=function(e,i,o){var n,s,r,a,l={},h=e.split(".")[0];return e=e.split(".")[1],n=h+"-"+e,o||(o=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[h]=t[h]||{},s=t[h][e],r=t[h][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,s,{version:o.version,_proto:t.extend({},o),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(o,function(e,o){return t.isFunction(o)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,s=this._superApply;return this._super=t,this._superApply=n,e=o.apply(this,arguments),this._super=i,this._superApply=s,e}}()):void(l[e]=o)}),r.prototype=t.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix||e:e},l,{constructor:r,namespace:h,widgetName:e,widgetFullName:n}),s?(t.each(s._childConstructors,function(e,i){var o=i.prototype;t.widget(o.namespace+"."+o.widgetName,r,i._proto)}),delete s._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var i,o,s=n.call(arguments,1),r=0,a=s.length;a>r;r++)for(i in s[r])o=s[r][i],s[r].hasOwnProperty(i)&&void 0!==o&&(e[i]=t.isPlainObject(o)?t.isPlainObject(e[i])?t.widget.extend({},e[i],o):t.widget.extend({},o):o);return e},t.widget.bridge=function(e,i){var o=i.prototype.widgetFullName||e;t.fn[e]=function(s){var r="string"==typeof s,a=n.call(arguments,1),l=this;return r?this.each(function(){var i,n=t.data(this,o);return"instance"===s?(l=n,!1):n?t.isFunction(n[s])&&"_"!==s.charAt(0)?(i=n[s].apply(n,a),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+s+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+s+"'")}):(a.length&&(s=t.widget.extend.apply(null,[s].concat(a))),this.each(function(){var e=t.data(this,o);e?(e.option(s||{}),e._init&&e._init()):t.data(this,o,new i(s,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=o++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var o,n,s,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},o=e.split("."),e=o.shift(),o.length){for(n=r[e]=t.widget.extend({},this.options[e]),s=0;o.length-1>s;s++)n[o[s]]=n[o[s]]||{},n=n[o[s]];if(e=o.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,o){var n,s=this;"boolean"!=typeof e&&(o=i,i=e,e=!1),o?(i=n=t(i),this.bindings=this.bindings.add(i)):(o=i,i=this.element,n=this.widget()),t.each(o,function(o,r){function a(){return e||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?s[r]:r).apply(s,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var l=o.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+s.eventNamespace,c=l[2];c?n.delegate(c,h,a):i.bind(h,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?o[t]:t).apply(o,arguments)}var o=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,o){var n,s,r=this.options[e];if(o=o||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(n in s)n in i||(i[n]=s[n]);return this.element.trigger(i,o),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(o))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(o,n,s){"string"==typeof n&&(n={effect:n});var r,a=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),r=!t.isEmptyObject(n),n.complete=s,n.delay&&o.delay(n.delay),r&&t.effects&&t.effects.effect[a]?o[e](n):a!==e&&o[a]?o[a](n.duration,n.easing,s):o.queue(function(i){t(this)[e](),s&&s.call(o[0]),i()})}}),t.widget;var s=!1;t(document).mouseup(function(){s=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,o=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return o&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),s=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),s=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(o){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var o=this._uiHash();if(this._trigger("drag",e,o)===!1)return this._mouseUp({}),!1;this.position=o.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,o=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(o=t.ui.ddmanager.drop(this,e)),this.dropped&&(o=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!o||"valid"===this.options.revert&&o||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,o)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,o=t.isFunction(i.helper),n=o?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),o&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,o,n=this.options,s=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,t(s).width()-this.helperProportions.width-this.margins.left,(t(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),o=i[0],void(o&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(o.scrollWidth,o.offsetWidth):o.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(o.scrollHeight,o.offsetHeight):o.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,o=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:o?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:o?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,o,n,s,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(o=this.relativeContainer.offset(),i=[this.containment[0]+o.left,this.containment[1]+o.top,this.containment[2]+o.left,this.containment[3]+o.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),r.grid&&(n=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-r.grid[1]:n+r.grid[1]:n,s=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-r.grid[0]:s+r.grid[0]:s),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,o){return o=o||this._uiHash(),t.ui.plugin.call(this,e,[i,o,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),o.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,o)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,o){var n=t.extend({},i,{item:o.element});o.sortables=[],t(o.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(o.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,o){var n=t.extend({},i,{item:o.element});o.cancelHelperRemoval=!1,t.each(o.sortables,function(){var t=this;t.isOver?(t.isOver=0,o.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,o){t.each(o.sortables,function(){var n=!1,s=this;s.positionAbs=o.positionAbs,s.helperProportions=o.helperProportions,s.offset.click=o.offset.click,s._intersectsWith(s.containerCache)&&(n=!0,t.each(o.sortables,function(){return this.positionAbs=o.positionAbs,this.helperProportions=o.helperProportions,this.offset.click=o.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&t.contains(s.element[0],this.element[0])&&(n=!1),n})),n?(s.isOver||(s.isOver=1,o._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},e.target=s.currentItem[0],s._mouseCapture(e,!0),s._mouseStart(e,!0,!0),s.offset.click.top=o.offset.click.top,s.offset.click.left=o.offset.click.left,s.offset.parent.left-=o.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=o.offset.parent.top-s.offset.parent.top,o._trigger("toSortable",e),o.dropped=s.element,t.each(o.sortables,function(){this.refreshPositions()}),o.currentItem=o.element,s.fromOutside=o),s.currentItem&&(s._mouseDrag(e),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",e,s._uiHash(s)),s._mouseStop(e,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(o._parent),o._refreshOffsets(e),i.position=o._generatePosition(e,!0),o._trigger("fromSortable",e),o.dropped=!1,t.each(o.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,o){var n=t("body"),s=o.options;n.css("cursor")&&(s._cursor=n.css("cursor")),n.css("cursor",s.cursor)},stop:function(e,i,o){var n=o.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,o){var n=t(i.helper),s=o.options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(e,i,o){var n=o.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,o){var n=o.options,s=!1,r=o.scrollParentNotHidden[0],a=o.document[0];r!==a&&"HTML"!==r.tagName?(n.axis&&"x"===n.axis||(o.overflowOffset.top+r.offsetHeight-e.pageY<n.scrollSensitivity?r.scrollTop=s=r.scrollTop+n.scrollSpeed:e.pageY-o.overflowOffset.top<n.scrollSensitivity&&(r.scrollTop=s=r.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(o.overflowOffset.left+r.offsetWidth-e.pageX<n.scrollSensitivity?r.scrollLeft=s=r.scrollLeft+n.scrollSpeed:e.pageX-o.overflowOffset.left<n.scrollSensitivity&&(r.scrollLeft=s=r.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(a).scrollTop()<n.scrollSensitivity?s=t(a).scrollTop(t(a).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<n.scrollSensitivity&&(s=t(a).scrollTop(t(a).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(a).scrollLeft()<n.scrollSensitivity?s=t(a).scrollLeft(t(a).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<n.scrollSensitivity&&(s=t(a).scrollLeft(t(a).scrollLeft()+n.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(o,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,o){var n=o.options;o.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==o.element[0]&&o.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,o){var n,s,r,a,l,h,c,d,u,f,p=o.options,g=p.snapTolerance,m=i.offset.left,v=m+o.helperProportions.width,b=i.offset.top,y=b+o.helperProportions.height;for(u=o.snapElements.length-1;u>=0;u--)l=o.snapElements[u].left-o.margins.left,h=l+o.snapElements[u].width,c=o.snapElements[u].top-o.margins.top,d=c+o.snapElements[u].height,l-g>v||m>h+g||c-g>y||b>d+g||!t.contains(o.snapElements[u].item.ownerDocument,o.snapElements[u].item)?(o.snapElements[u].snapping&&o.options.snap.release&&o.options.snap.release.call(o.element,e,t.extend(o._uiHash(),{snapItem:o.snapElements[u].item})),o.snapElements[u].snapping=!1):("inner"!==p.snapMode&&(n=g>=Math.abs(c-y),s=g>=Math.abs(d-b),r=g>=Math.abs(l-v),a=g>=Math.abs(h-m),n&&(i.position.top=o._convertPositionTo("relative",{top:c-o.helperProportions.height,left:0}).top),s&&(i.position.top=o._convertPositionTo("relative",{top:d,left:0}).top),r&&(i.position.left=o._convertPositionTo("relative",{top:0,left:l-o.helperProportions.width}).left),a&&(i.position.left=o._convertPositionTo("relative",{top:0,left:h}).left)),f=n||s||r||a,"outer"!==p.snapMode&&(n=g>=Math.abs(c-b),s=g>=Math.abs(d-y),r=g>=Math.abs(l-m),a=g>=Math.abs(h-v),n&&(i.position.top=o._convertPositionTo("relative",{top:c,left:0}).top),s&&(i.position.top=o._convertPositionTo("relative",{top:d-o.helperProportions.height,left:0}).top),r&&(i.position.left=o._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=o._convertPositionTo("relative",{top:0,left:h-o.helperProportions.width}).left)),!o.snapElements[u].snapping&&(n||s||r||a||f)&&o.options.snap.snap&&o.options.snap.snap.call(o.element,e,t.extend(o._uiHash(),{snapItem:o.snapElements[u].item})),o.snapElements[u].snapping=n||s||r||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,o){var n,s=o.options,r=t.makeArray(t(s.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});r.length&&(n=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,o){var n=t(i.helper),s=o.options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(e,i,o){var n=o.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var o=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[o]>0?!0:(e[o]=1,n=e[o]>0,e[o]=0,n)},_create:function(){var e,i,o,n,s,r=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},
i=0;e.length>i;i++)o=t.trim(e[i]),s="ui-resizable-"+o,n=t("<div class='ui-resizable-handle "+s+"'></div>"),n.css({zIndex:a.zIndex}),"se"===o&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[o]=".ui-resizable-"+o,this.element.append(n);this._renderAxis=function(e){var i,o,n,s;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(o=t(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?o.outerHeight():o.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=n&&n[1]?n[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){a.disabled||r.resizing||(t(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,o,n=!1;for(i in this.handles)o=t(this.handles[i])[0],(o===e.target||t.contains(o,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,o,n,s=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),o=this._num(this.helper.css("top")),s.containment&&(i+=t(s.containment).scrollLeft()||0,o+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:o},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:o},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),r.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,o,n=this.originalMousePosition,s=this.axis,r=e.pageX-n.left||0,a=e.pageY-n.top||0,l=this._change[s];return this._updatePrevProperties(),l?(i=l.apply(this,[e,r,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),o=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(o)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,o,n,s,r,a,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),n=o&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,s=o?0:c.sizeDiff.width,r={width:c.helper.width()-s,height:c.helper.height()-n},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(r,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,o,n,s,r=this.options;s={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,o=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,n=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),o>s.minHeight&&(s.minHeight=o),s.maxWidth>i&&(s.maxWidth=i),s.maxHeight>n&&(s.maxHeight=n)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,o=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===o&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===o&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,o=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,r=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return s&&(t.width=e.minWidth),r&&(t.height=e.minHeight),o&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),s&&h&&(t.left=a-e.minWidth),o&&h&&(t.left=a-e.maxWidth),r&&c&&(t.top=l-e.minHeight),n&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],o=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(o[e],10)||0,i[e]+=parseInt(n[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,o=this.originalPosition;return{left:o.left+e,width:i.width-e}},n:function(t,e,i){var o=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:o.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,o){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,o]))},sw:function(e,i,o){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,o]))},ne:function(e,i,o){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,o]))},nw:function(e,i,o){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,o]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),o=i.options,n=i._proportionallyResizeElements,s=n.length&&/textarea/i.test(n[0].nodeName),r=s&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-r},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var o={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:o.width,height:o.height}),i._updateCache(o),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,o,n,s,r,a,l=t(this).resizable("instance"),h=l.options,c=l.element,d=h.containment,u=d instanceof t?d.get(0):/parent/.test(d)?c.parent().get(0):d;u&&(l.containerElement=t(u),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(u),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,o){i[t]=l._num(e.css("padding"+o))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},o=l.containerOffset,n=l.containerSize.height,s=l.containerSize.width,r=l._hasScroll(u,"left")?u.scrollWidth:s,a=l._hasScroll(u)?u.scrollHeight:n,l.parentData={element:u,left:o.left,top:o.top,width:r,height:a}))},resize:function(e){var i,o,n,s,r=t(this).resizable("instance"),a=r.options,l=r.containerOffset,h=r.position,c=r._aspectRatio||e.shiftKey,d={top:0,left:0},u=r.containerElement,f=!0;u[0]!==document&&/static/.test(u.css("position"))&&(d=l),h.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-d.left),c&&(r.size.height=r.size.width/r.aspectRatio,f=!1),r.position.left=a.helper?l.left:0),h.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio,f=!1),r.position.top=r._helper?l.top:0),n=r.containerElement.get(0)===r.element.parent().get(0),s=/relative|absolute/.test(r.containerElement.css("position")),n&&s?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-d.left:r.offset.left-l.left)),o=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-d.top:r.offset.top-l.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,c&&(r.size.height=r.size.width/r.aspectRatio,f=!1)),o+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-o,c&&(r.size.width=r.size.height*r.aspectRatio,f=!1)),f||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,o=e.containerOffset,n=e.containerPosition,s=e.containerElement,r=t(e.helper),a=r.offset(),l=r.outerWidth()-e.sizeDiff.width,h=r.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(s.css("position"))&&t(this).css({left:a.left-n.left-o.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(s.css("position"))&&t(this).css({left:a.left-n.left-o.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var o=t(this).resizable("instance"),n=o.options,s=o.originalSize,r=o.originalPosition,a={height:o.size.height-s.height||0,width:o.size.width-s.width||0,top:o.position.top-r.top||0,left:o.position.left-r.left||0};t(n.alsoResize).each(function(){var e=t(this),o=t(this).data("ui-resizable-alsoresize"),n={},s=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var i=(o[e]||0)+(a[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,o=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:o.height,width:o.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),o=i.options,n=i.size,s=i.originalSize,r=i.originalPosition,a=i.axis,l="number"==typeof o.grid?[o.grid,o.grid]:o.grid,h=l[0]||1,c=l[1]||1,d=Math.round((n.width-s.width)/h)*h,u=Math.round((n.height-s.height)/c)*c,f=s.width+d,p=s.height+u,g=o.maxWidth&&f>o.maxWidth,m=o.maxHeight&&p>o.maxHeight,v=o.minWidth&&o.minWidth>f,b=o.minHeight&&o.minHeight>p;o.grid=l,v&&(f+=h),b&&(p+=c),g&&(f-=h),m&&(p-=c),/^(se|s|e)$/.test(a)?(i.size.width=f,i.size.height=p):/^(ne)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.top=r.top-u):/^(sw)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.left=r.left-d):((0>=p-c||0>=f-h)&&(e=i._getPaddingPlusBorderDimensions(this)),p-c>0?(i.size.height=p,i.position.top=r.top-u):(p=c-e.height,i.size.height=p,i.position.top=r.top+s.height-p),f-h>0?(i.size.width=f,i.position.left=r.left-d):(f=h-e.width,i.size.width=f,i.position.left=r.left+s.width-f))}}),t.ui.resizable});var storyMapLayer={store:[]},leafletvtId={};updateStoryMaps=debounce(updateStoryMaps_orig,50);var mxFilterDate=debounce(mxFilterDate_orig,50),mxSetRange=debounce(mxSetRange_orig,50),mxSetStyle=debounce(mxSetStyle_orig,50);